(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return d}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ss})),n.d(e,"b",(function(){return uu})),n.d(e,"c",(function(){return ru})),n.d(e,"d",(function(){return eu})),n.d(e,"e",(function(){return nu})),n.d(e,"f",(function(){return tc})),n.d(e,"g",(function(){return qu})),n.d(e,"h",(function(){return ss})),n.d(e,"i",(function(){return bu})),n.d(e,"j",(function(){return Do})),n.d(e,"k",(function(){return hu})),n.d(e,"l",(function(){return Ro})),n.d(e,"m",(function(){return Ju})),n.d(e,"n",(function(){return An})),n.d(e,"o",(function(){return Na})),n.d(e,"p",(function(){return K})),n.d(e,"q",(function(){return h})),n.d(e,"r",(function(){return $})),n.d(e,"s",(function(){return Es})),n.d(e,"t",(function(){return ta})),n.d(e,"u",(function(){return ea})),n.d(e,"v",(function(){return lu})),n.d(e,"w",(function(){return ct})),n.d(e,"x",(function(){return zu})),n.d(e,"y",(function(){return ut})),n.d(e,"z",(function(){return Lu})),n.d(e,"A",(function(){return Eu})),n.d(e,"B",(function(){return f})),n.d(e,"C",(function(){return au})),n.d(e,"D",(function(){return ou})),n.d(e,"E",(function(){return Da})),n.d(e,"F",(function(){return Fo})),n.d(e,"G",(function(){return Lo})),n.d(e,"H",(function(){return Mo})),n.d(e,"I",(function(){return Ho})),n.d(e,"J",(function(){return yr})),n.d(e,"K",(function(){return p})),n.d(e,"L",(function(){return Ku})),n.d(e,"M",(function(){return sa})),n.d(e,"N",(function(){return ju})),n.d(e,"O",(function(){return as})),n.d(e,"P",(function(){return Bo})),n.d(e,"Q",(function(){return qo})),n.d(e,"R",(function(){return aa})),n.d(e,"S",(function(){return vt})),n.d(e,"T",(function(){return Mu})),n.d(e,"U",(function(){return Kn})),n.d(e,"V",(function(){return k})),n.d(e,"W",(function(){return it})),n.d(e,"X",(function(){return $n})),n.d(e,"Y",(function(){return Zu})),n.d(e,"Z",(function(){return Pu})),n.d(e,"ab",(function(){return cu})),n.d(e,"bb",(function(){return us})),n.d(e,"cb",(function(){return Sa})),n.d(e,"db",(function(){return gr})),n.d(e,"eb",(function(){return Zn})),n.d(e,"fb",(function(){return Ln})),n.d(e,"gb",(function(){return Fn})),n.d(e,"hb",(function(){return Bn})),n.d(e,"ib",(function(){return Hn})),n.d(e,"jb",(function(){return Un})),n.d(e,"kb",(function(){return qn})),n.d(e,"lb",(function(){return ba})),n.d(e,"mb",(function(){return Yu})),n.d(e,"nb",(function(){return _a})),n.d(e,"ob",(function(){return wa})),n.d(e,"pb",(function(){return Mn})),n.d(e,"qb",(function(){return M})),n.d(e,"rb",(function(){return Ds})),n.d(e,"sb",(function(){return Ys})),n.d(e,"tb",(function(){return Js})),n.d(e,"ub",(function(){return va})),n.d(e,"vb",(function(){return Yt})),n.d(e,"wb",(function(){return x})),n.d(e,"xb",(function(){return Vn})),n.d(e,"yb",(function(){return Ts})),n.d(e,"zb",(function(){return zt})),n.d(e,"Ab",(function(){return ko})),n.d(e,"Bb",(function(){return Lr})),n.d(e,"Cb",(function(){return Ls})),n.d(e,"Db",(function(){return ho})),n.d(e,"Eb",(function(){return Ka})),n.d(e,"Fb",(function(){return Et})),n.d(e,"Gb",(function(){return At})),n.d(e,"Hb",(function(){return v})),n.d(e,"Ib",(function(){return b})),n.d(e,"Jb",(function(){return Tt})),n.d(e,"Kb",(function(){return jt})),n.d(e,"Lb",(function(){return Fs})),n.d(e,"Mb",(function(){return Gs})),n.d(e,"Nb",(function(){return Ws})),n.d(e,"Ob",(function(){return Ks})),n.d(e,"Pb",(function(){return $s})),n.d(e,"Qb",(function(){return zs})),n.d(e,"Rb",(function(){return Bs})),n.d(e,"Sb",(function(){return Qs})),n.d(e,"Tb",(function(){return Cn})),n.d(e,"Ub",(function(){return Eo})),n.d(e,"Vb",(function(){return rt})),n.d(e,"Wb",(function(){return Us})),n.d(e,"Xb",(function(){return tu})),n.d(e,"Yb",(function(){return Zs})),n.d(e,"Zb",(function(){return Ja})),n.d(e,"ac",(function(){return Ue})),n.d(e,"bc",(function(){return ro})),n.d(e,"cc",(function(){return ja})),n.d(e,"dc",(function(){return ka})),n.d(e,"ec",(function(){return oo})),n.d(e,"fc",(function(){return so})),n.d(e,"gc",(function(){return Hs})),n.d(e,"hc",(function(){return Ba})),n.d(e,"ic",(function(){return ge})),n.d(e,"jc",(function(){return vr})),n.d(e,"kc",(function(){return It})),n.d(e,"lc",(function(){return Wa})),n.d(e,"mc",(function(){return za})),n.d(e,"nc",(function(){return lo})),n.d(e,"oc",(function(){return Xs})),n.d(e,"pc",(function(){return So})),n.d(e,"qc",(function(){return Ms})),n.d(e,"rc",(function(){return vo})),n.d(e,"sc",(function(){return bo})),n.d(e,"tc",(function(){return _o})),n.d(e,"uc",(function(){return wo})),n.d(e,"vc",(function(){return Ga}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}const c="__parameters__";function l(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=l("Inject",t=>({token:t})),f=l("Optional"),d=l("Self"),p=l("SkipSelf");var g=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return w(t,t[S])||w(t,t[T])}function w(t,e){return e&&e.token===t?e:null}function E(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(I))?t[O]:null}const S=m({"\u0275prov":m}),O=m({"\u0275inj":m}),C=m({"\u0275provFallback":m}),T=m({ngInjectableDef:m}),I=m({ngInjectorDef:m});function x(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(x).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function A(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const j=m({__forward_ref__:m});function k(t){return t.__forward_ref__=k,t.toString=function(){return x(this())},t}function N(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(j)&&t.__forward_ref__===k}const D="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,M=D||L||R||V,F=m({"\u0275cmp":m}),U=m({"\u0275dir":m}),H=m({"\u0275pipe":m}),q=m({"\u0275mod":m}),B=m({"\u0275loc":m}),z=m({"\u0275fac":m}),G=m({__NG_ELEMENT_ID__:m});class ${constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const K=new $("INJECTOR",-1),W={},Q=/\n/gm,J="__source",Y=m({provide:String,useValue:m});let Z,X=void 0;function tt(t){const e=X;return X=t,e}function et(t){const e=Z;return Z=t,e}function nt(t,e=g.Default){if(void 0===X)throw new Error("inject() must be called from an injection context");return null===X?st(t,void 0,e):X.get(t,e&g.Optional?null:void 0,e)}function rt(t,e=g.Default){return(Z||nt)(N(t),e)}const it=rt;function st(t,e,n){const r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&g.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${x(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=g.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof f||"Optional"===i.ngMetadataName||i===f?n|=g.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=g.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?n|=g.Self:t=i instanceof h||i===h?i.token:i}e.push(rt(t,n))}else e.push(rt(r))}return e}class at{get(t,e=W){if(e===W){const e=new Error(`NullInjectorError: No provider for ${x(t)}!`);throw e.name="NullInjectorError",e}return e}}class ut{}class ct{}function lt(t,e){t.forEach(t=>Array.isArray(t)?lt(t,e):e(t))}function ht(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ft(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function pt(t,e,n){let r=mt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gt(t,e){const n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var yt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),vt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const bt={},_t=[];let wt=0;function Et(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===yt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||vt.Emulated,id:"c",styles:t.styles||_t,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=wt++,n.inputs=xt(t.inputs,e),n.outputs=xt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(St):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ot):null,n})}function St(t){return kt(t)||function(t){return t[U]||null}(t)}function Ot(t){return function(t){return t[H]||null}(t)}const Ct={};function Tt(t){const e={type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{Ct[t.id]=t.type}),e}function It(t,e){return u(()=>{const n=Pt(t,!0);n.declarations=e.declarations||_t,n.imports=e.imports||_t,n.exports=e.exports||_t})}function xt(t,e){if(null==t)return bt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const At=Et;function jt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[F]||null}function Nt(t,e){return t.hasOwnProperty(z)?t[z]:null}function Pt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${x(t)} does not have '\u0275mod' property.`);return n}const Dt=20,Rt=10;function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Lt(t){return Array.isArray(t)&&!0===t[1]}function Mt(t){return 0!=(8&t.flags)}function Ft(t){return 2==(2&t.flags)}function Ut(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function qt(t){return 0!=(512&t[2])}class Bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function zt(){return Gt}function Gt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Kt),$t}function $t(){const t=Wt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===bt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Kt(t,e,n,r){const i=Wt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:bt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Bt(u&&u.currentValue,e,o===bt),t[r]=e}function Wt(t){return t.__ngSimpleChanges__||null}zt.ngInherit=!0;const Qt="http://www.w3.org/2000/svg";let Jt=void 0;function Yt(t){Jt=t}function Zt(t){return!!t.listen}const Xt={createRenderer:(t,e)=>void 0!==Jt?Jt:"undefined"!=typeof document?document:void 0};function te(t){for(;Array.isArray(t);)t=t[0];return t}function ee(t,e){return te(e[t+Dt])}function ne(t,e){return te(e[t.index])}function re(t,e){return t.data[e+Dt]}function ie(t,e){const n=e[t];return Vt(n)?n:n[0]}function se(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function oe(t){return 4==(4&t[2])}function ae(t){return 128==(128&t[2])}function ue(t,e){return null===t||null==e?null:t[e]}function ce(t){t[18]=0}function le(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const he={lFrame:Pe(null),bindingsEnabled:!0,checkNoChangesMode:!1};function fe(){return he.bindingsEnabled}function de(){return he.lFrame.lView}function pe(){return he.lFrame.tView}function ge(t){he.lFrame.contextLView=t}function me(){return he.lFrame.currentTNode}function ye(t,e){he.lFrame.currentTNode=t,he.lFrame.isParent=e}function ve(){return he.lFrame.isParent}function be(){he.lFrame.isParent=!1}function _e(){return he.checkNoChangesMode}function we(t){he.checkNoChangesMode=t}function Ee(){return he.lFrame.bindingIndex}function Se(){return he.lFrame.bindingIndex++}function Oe(t){const e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ce(t,e){const n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,Te(e)}function Te(t){he.lFrame.currentDirectiveIndex=t}function Ie(t){const e=he.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function xe(){return he.lFrame.currentQueryIndex}function Ae(t){he.lFrame.currentQueryIndex=t}function je(t,e){const n=Ne();he.lFrame=n,n.currentTNode=e,n.lView=t}function ke(t){const e=Ne(),n=t[1];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Ne(){const t=he.lFrame,e=null===t?null:t.child;return null===e?Pe(t):e}function Pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function De(){const t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Re=De;function Ve(){const t=De();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Le(){return he.lFrame.selectedIndex}function Me(t){he.lFrame.selectedIndex=t}function Fe(){const t=he.lFrame;return re(t.tView,t.selectedIndex)}function Ue(){he.lFrame.currentNamespace=Qt}function He(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function qe(t,e,n){Ge(t,e,3,n)}function Be(t,e,n,r){(3&t[2])===n&&Ge(t,e,n,r)}function ze(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ge(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&($e(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function $e(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ke=-1;class We{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Qe(t,e,n){const r=Zt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ye(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Je(t){return 3===t||4===t||6===t}function Ye(t){return 64===t.charCodeAt(0)}function Ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Xe(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function tn(t){return t!==Ke}function en(t){return 32767&t}function nn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function rn(t){return"string"==typeof t?t:null==t?"":""+t}function sn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rn(t)}const on=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function an(t){return t instanceof Function?t():t}let un=!0;function cn(t){const e=un;return un=t,e}let ln=0;function hn(t,e){const n=dn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,fn(r.data,t),fn(e,null),fn(r.blueprint,null));const i=pn(t,e),s=t.injectorIndex;if(tn(i)){const t=en(i),n=nn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function fn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ke}function gn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=ln++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function mn(t,e,n,r=g.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){je(e,t);try{const t=i();if(null!=t||r&g.Optional)return t;throw new Error(`No provider for ${sn(n)}!`)}finally{Re()}}else if("number"==typeof i){if(-1===i)return new Sn(t,e);let s=null,o=dn(t,e),a=Ke,u=r&g.Host?e[16][6]:null;for((-1===o||r&g.SkipSelf)&&(a=-1===o?pn(t,e):e[o+8],a!==Ke&&En(r,!1)?(s=e[1],o=en(a),e=nn(a,e)):o=-1);-1!==o;){const t=e[1];if(wn(i,o,t.data)){const t=vn(o,e,n,s,r,u);if(t!==yn)return t}a=e[o+8],a!==Ke&&En(r,e[1].data[o+8]===u)&&wn(i,o,e)?(s=t,o=en(a),e=nn(a,e)):o=-1}}}if(r&g.Optional&&void 0===i&&(i=null),0==(r&(g.Self|g.Host))){const t=e[9],s=et(void 0);try{return t?t.get(n,i,r&g.Optional):st(n,i,r&g.Optional)}finally{et(s)}}if(r&g.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${sn(n)}]`)}const yn={};function vn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=bn(a,o,n,null==r?Ft(a)&&un:r!=o&&2===a.type,i&g.Host&&s===a);return null!==u?_n(e,o,u,a):yn}function bn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Ht(t)&&t.type===n)return u}return null}function _n(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof We){const o=i;if(o.resolving)throw new Error("Circular dep for "+sn(s[n]));const a=cn(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?et(o.injectImpl):null;je(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Gt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&et(u),cn(a),o.resolving=!1,Re()}}return i}function wn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function En(t,e){return!(t&g.Self||t&g.Host&&e)}class Sn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return mn(this._tNode,this._lView,t,void 0,e)}}function On(t){const e=t;if(P(t))return()=>{const t=On(N(e));return t?t():null};let n=Nt(e);if(null===n){const t=E(e);n=t&&t.factory}return n||null}function Cn(t){return u(()=>{const e=t.prototype.constructor,n=e[z]||On(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[z]||On(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Tn(t){return t.ngDebugContext}function In(t){return t.ngOriginalError}function xn(t,...e){t.error(...e)}class An{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Tn(t)?Tn(t):this._findContext(In(t)):null}_findOriginalError(t){let e=In(t);for(;e&&In(e);)e=In(e);return e}}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class kn extends jn{getTypeName(){return"HTML"}}class Nn extends jn{getTypeName(){return"Style"}}class Pn extends jn{getTypeName(){return"Script"}}class Dn extends jn{getTypeName(){return"URL"}}class Rn extends jn{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof jn&&t.getTypeName()||null}function Fn(t){return new kn(t)}function Un(t){return new Nn(t)}function Hn(t){return new Pn(t)}function qn(t){return new Dn(t)}function Bn(t){return new Rn(t)}let zn=!0,Gn=!1;function $n(){return Gn=!0,zn}function Kn(){if(Gn)throw new Error("Cannot enable prod mode after platform setup.");zn=!1}class Wn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Jn)||t.match(Yn)?t:($n()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Xn("area,br,col,hr,img,wbr"),nr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Xn("rp,rt"),ir=tr(rr,nr),sr=tr(er,tr(nr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),or=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Xn("srcset"),ur=tr(or,ar,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cr=Xn("script,style,template");class lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!cr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!ur.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;or[s]&&(o=Zn(o)),ar[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',dr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function dr(t){return t.replace(/&/g,"&amp;").replace(hr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(fr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function gr(t,e){let n=null;try{pr=pr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Wn:new Qn(t)}(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==s);const o=new lr,a=o.sanitizeChildren(mr(n)||n);return $n()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=mr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=de();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Ln(t,"URL")?Vn(t):Zn(rn(t))}function br(t,e){t.__ngContext__=e}function _r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const wr="ng-template";function Er(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==_r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Sr(t){return 0===t.type&&t.tagName!==wr}function Or(t,e,n){return e===(0!==t.type||n?t.tagName:wr)}function Cr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Je(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Or(t,u,n)||""===u&&1===e.length){if(Tr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Er(t.attrs,c,n)){if(Tr(r))return!1;o=!0}continue}const l=Ir(8&r?"class":u,i,Sr(t),n);if(-1===l){if(Tr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==_r(e,c,0)||2&r&&c!==t){if(Tr(r))return!1;o=!0}}}}else{if(!o&&!Tr(r)&&!Tr(u))return!1;if(o&&Tr(u))continue;o=!1,r=u|1&r}}return Tr(r)||o}function Tr(t){return 0==(1&t)}function Ir(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cr(t,e[r],n))return!0;return!1}function Ar(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function jr(t,e){return t?":not("+e.trim()+")":e}function kr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Tr(o)||(e+=jr(s,i),i=""),r=o,s=s||!Tr(r);n++}return""!==i&&(e+=jr(s,i)),e}const Nr={};function Pr(t){const e=t[3];return Lt(e)?e[3]:e}function Dr(t){return Vr(t[13])}function Rr(t){return Vr(t[4])}function Vr(t){for(;null!==t&&!Lt(t);)t=t[4];return t}function Lr(t){Mr(pe(),de(),Le()+t,_e())}function Mr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&qe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Be(e,r,0,n)}Me(n)}function Fr(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function Hr(t){return 2|t}function qr(t){return(131068&t)>>2}function Br(t,e){return-131069&t|e<<2}function zr(t){return 1|t}function Gr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ae(i),n.contentQueries(2,e[s],s)}}}function $r(t,e,n){return Zt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Kr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ce(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Wr(t,e,n,r,i){const s=e+Dt,o=t.data[s]||function(t,e,n,r,i){const s=me(),o=ve(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o&&null==s.child&&null!==a.parent?s.child=a:o||(s.next=a)),a}(t,s,n,r,i);return ye(o,!0),o}function Qr(t,e,n){ke(e);try{const r=t.viewQuery;null!==r&&Ti(1,r,n);const i=t.template;null!==i&&Zr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Gr(t,e),t.staticViewQueries&&Ti(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)wi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ve()}}function Jr(t,e,n,r){const i=e[2];if(256==(256&i))return;ke(e);const s=_e();try{ce(e),he.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Zr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&qe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Be(e,n,0,null),ze(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&le(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Rr(e))for(let t=Rt;t<e.length;t++){const n=e[t],r=n[1];ae(n)&&Jr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Gr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&qe(e,n)}else{const n=t.contentHooks;null!==n&&Be(e,n,1),ze(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Me(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(Ce(r,i),o(2,e[i])),i++)}}}finally{Me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)_i(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ti(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&qe(e,n)}else{const n=t.viewHooks;null!==n&&Be(e,n,2),ze(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,le(e[3],-1))}finally{Ve()}}function Yr(t,e,n,r){const i=e[10],s=!_e(),o=oe(e);try{s&&!o&&i.begin&&i.begin(),o&&Qr(t,e,r),Jr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Zr(t,e,n,r,i){const s=Le();try{Me(-1),2&r&&e.length>Dt&&Mr(t,e,0,_e()),n(r,i)}finally{Me(s)}}function Xr(t,e,n){if(Mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ti(t,e,n){fe()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||hn(n,e),br(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ht(r);s&&mi(e,n,r);const u=_n(e,t,a,n);br(u,e),null!==o&&yi(0,a-i,u,r,0,o),s&&(ie(n.index,e)[8]=u)}}(t,e,n,ne(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-Dt,u=he.lFrame.currentDirectiveIndex;try{Me(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Te(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?li(r,i):o&&s.push(null)}}finally{Me(-1),Te(u)}}(t,e,n))}function ei(t,e,n=ne){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ni(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ri(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ri(t,e,n,r,i,s,o,a,u,c){const l=Dt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ii(t,e,n,r){const i=xi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function si(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function oi(t,e,n,r,i,s,o,a){const u=ne(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ki(t,n,c,r,i),Ft(e)&&function(t,e){const n=ie(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Zt(s)?s.setProperty(u,r,i):Ye(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ai(t,e,n,r){let i=!1;if(fe()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];xr(n,o.selectors,!1)&&(i||(i=[]),gn(hn(n,e),t,o.type),Ht(o)?(fi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,pi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}hi(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ze(n.mergedAttrs,c.hostAttrs),gi(t,e,c),di(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Dt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Dt),u=!0),ui(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Sr(e)?null:vi(n,i);s.push(c),o=si(n,u,o),a=si(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),ci(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ze(n.mergedAttrs,n.attrs),i}function ui(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ci(t,e,n){for(let r=0;r<n;r++)e.push(Nr),t.blueprint.push(Nr),t.data.push(null)}function li(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function hi(t,e,n){const r=Dt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function fi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Nt(n.type)),i=new We(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function mi(t,e,n){const r=ne(e,t),i=ni(n),s=t[10],o=Ei(t,Kr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function yi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function _i(t,e){const n=ie(e,t);if(ae(n)){const t=n[1];80&n[2]?Jr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Dr(e);null!==r;r=Rr(r))for(let e=Rt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Jr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ie(n[r],e);ae(i)&&i[5]>0&&t(i)}}(n)}}function wi(t,e){const n=ie(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Qr(r,n,n[8])}function Ei(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Si(t){for(;t;){t[2]|=64;const e=Pr(t);if(qt(t)&&!e)return t;t=e}return null}function Oi(t,e,n){const r=e[10];r.begin&&r.begin();try{Jr(t,e,t.template,n)}catch(i){throw ji(e,i),i}finally{r.end&&r.end()}}function Ci(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=se(n),i=r[1];Yr(i,r,i.template,n)}}(t[8])}function Ti(t,e,n){Ae(0),e(t,n)}const Ii=(()=>Promise.resolve(null))();function xi(t){return t[7]||(t[7]=[])}function Ai(t,e,n){return(null===t||Ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ji(t,e){const n=t[9],r=n?n.get(An,null):null;r&&r.handleError(e)}function ki(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ni(t,e,n){const r=ee(e,t),i=t[11];Zt(i)?i.setValue(r,n):r.textContent=n}function Pi(t,e,n,r,i){if(null!=r){let s,o=!1;Lt(r)?s=r:Vt(r)&&(o=!0,r=r[0]);const a=te(r);0===t&&null!==n?null==i?Ui(e,n,a):Fi(e,n,a,i||null):1===t&&null!==n?Fi(e,n,a,i||null):2===t?function(t,e,n){const r=qi(t,e);r&&function(t,e,n,r){Zt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==te(n)&&Pi(e,t,r,s,i);for(let o=Rt;o<n.length;o++){const i=n[o];$i(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Di(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,le(i,-1)),n.splice(r,1)}function Ri(t,e){if(t.length<=Rt)return;const n=Rt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Di(s,r),e>0&&(t[n-1][4]=r[4]);const o=ft(t,Rt+e);$i(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Vi(t,e){if(!(256&e[2])){const n=e[11];Zt(n)&&n.destroyNode&&$i(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Li(t[1],t);for(;e;){let n=null;if(Vt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&Li(e[1],e),e=e[3];null===e&&(e=t),Vt(e)&&Li(e[1],e),n=e&&e[4]}e=n}}(e)}}function Li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof We)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):te(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Zt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Lt(e[3])){n!==e[3]&&Di(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Mi(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return ne(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==vt.ShadowDom&&n!==vt.Native)return null}return ne(r,n)}function Fi(t,e,n,r){Zt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ui(t,e,n){Zt(t)?t.appendChild(e,n):e.appendChild(n)}function Hi(t,e,n,r){null!==r?Fi(t,e,n,r):Ui(t,e,n)}function qi(t,e){return Zt(t)?t.parentNode(e):e.parentNode}function Bi(t,e){return 3===t.type||4===t.type?ne(t,e):null}function zi(t,e,n,r){const i=Mi(t,r,e);if(null!=i){const t=e[11],s=Bi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Hi(t,i,n[e],s);else Hi(t,i,n,s)}}function Gi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&br(te(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Gi(t,e,n.child,r,i,s,!1),Pi(e,t,i,a,s)):1===u?Ki(t,e,r,n,i,s):Pi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function $i(t,e,n,r,i,s){Gi(n,r,t.firstChild,e,i,s,!1)}function Ki(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Pi(e,t,i,a[u],s);else Gi(t,e,a,o[3],i,s,!0)}function Wi(t,e,n){Zt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qi(t,e,n){Zt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ji{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(te(o)),Lt(o))for(let e=Rt;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Pr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Vi(this._lView[1],this._lView)}onDestroy(t){ii(this._lView[1],this._lView,null,t)}markForCheck(){Si(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){we(!0);try{Oi(t,e,n)}finally{we(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,$i(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Yi extends Ji{constructor(t){super(t),this._view=t}detectChanges(){Ci(this._view)}checkNoChanges(){!function(t){we(!0);try{Ci(t)}finally{we(!1)}}(this._view)}get context(){return null}}let Zi,Xi,ts;function es(t,e,n){return Zi||(Zi=class extends t{}),new Zi(ne(e,n))}function ns(t,e,n,r){return Xi||(Xi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Kr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Qr(e,n,t),new Ji(n)}}),0===n.type?new Xi(r,n,es(e,n,r)):null}function rs(t,e,n,r){let i;ts||(ts=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return es(e,this._hostTNode,this._hostView)}get injector(){return new Sn(this._hostTNode,this._hostView)}get parentInjector(){const t=pn(this._hostTNode,this._hostView);if(tn(t)){const e=nn(t,this._hostView),n=en(t);return new Sn(e[1].data[n+8],e)}return new Sn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ut,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ts(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=Rt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Rt?(e[4]=n[i],ht(n,Rt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=function t(e,n){const r=Rt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return ne(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Lt(e)?t(-1,e):te(e)}}{const t=n[16],i=t[6],s=Pr(t),o=i.projection[r.projection];return null!=o?e(s,o):e(n,r.next)}}return null}(e,i)}return n[7]}(i,s),a=n[11],u=qi(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,$i(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),ht(s[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);n&&(ft(this._lContainer[8],e),Vi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);return n&&null!=ft(this._lContainer[8],e)?new Ji(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Lt(s))i=s;else{let t;if(3===n.type)t=te(s);else if(t=r[11].createComment(""),qt(r)){const e=r[11],i=ne(n,r);Fi(e,qi(e,i),t,function(t,e){return Zt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else zi(r[1],r,t,n);r[n.index]=i=bi(s,r,t,n),Ei(r,i)}return new ts(i,n,r)}function is(t=!1){return function(t,e,n){if(!n&&Ft(t)){const n=ie(t.index,e);return new Ji(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Ji(e[16],e):null}(me(),de(),t)}let ss=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>os(),t})();const os=is,as=Function,us=new $("Set Injector scope."),cs={},ls={},hs=[];let fs=void 0;function ds(){return void 0===fs&&(fs=new at),fs}function ps(t,e=null,n=null,r){return new gs(t,n,e||ds(),r)}class gs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&lt(e,n=>this.processProvider(n,t,e)),lt([t],t=>this.processInjectorType(t,[],i)),this.records.set(K,vs(void 0,this));const s=this.records.get(us);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:x(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=W,n=g.Default){this.assertNotDestroyed();const r=tt(this);try{if(!(n&g.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof $)&&_(t);e=n&&this.injectableDefInScope(n)?vs(ms(t),cs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&g.Self?ds():this.parent).get(t,e=n&g.Optional&&e===W?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(x(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[J]&&i.unshift(e[J]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=x(e);if(Array.isArray(e))i=e.map(x).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):x(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Q,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{tt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(x(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=N(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{lt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];lt(r,t=>this.processProvider(t,n,r||hs))}}this.injectorDefTypes.add(s),this.records.set(s,vs(r.factory,cs));const a=r.providers;if(null!=a&&!o){const e=t;lt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=_s(t=N(t))?t:N(t&&t.provide);const i=function(t,e,n){return bs(t)?vs(void 0,t.useValue):vs(ys(t),cs)}(t);if(_s(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=vs(void 0,cs,!0),e.factory=()=>ot(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===cs&&(e.value=ls,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ms(t){const e=_(t),n=null!==e?e.factory:Nt(t);if(null!==n)return n;const r=E(t);if(null!==r)return r.factory;if(t instanceof $)throw new Error(`Token ${x(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dt(e,"?");throw new Error(`Can't resolve all parameters for ${x(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[T]||t[C]&&t[C]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ys(t,e,n){let r=void 0;if(_s(t)){const e=N(t);return Nt(e)||ms(e)}if(bs(t))r=()=>N(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rt(N(t.useExisting));else{const e=N(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Nt(e)||ms(e);r=()=>new e(...ot(t.deps))}var i;return r}function vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bs(t){return null!==t&&"object"==typeof t&&Y in t}function _s(t){return"function"==typeof t}const ws=function(t,e,n){return function(t,e=null,n=null,r){const i=ps(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Es=(()=>{class t{static create(t,e){return Array.isArray(t)?ws(t,e,""):ws(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=W,t.NULL=new at,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>rt(K)}),t.__NG_ELEMENT_ID__=-1,t})();const Ss=new $("AnalyzeForEntryComponents");function Os(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=A(i,t):2==s&&(r=A(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Cs(t,e){const n=se(t)[1],r=n.data.length-1;He(n,{directiveStart:r,directiveEnd:r+1})}function Ts(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Is(t.inputs),e.declaredInputs=Is(t.declaredInputs),e.outputs=Is(t.outputs);const n=i.hostBindings;n&&js(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&xs(t,s),o&&As(t,o),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ts&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ze(i.hostAttrs,n=Ze(n,i.hostAttrs))}}(r)}function Is(t){return t===bt?{}:t===_t?[]:t}function xs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function As(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function js(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let ks=null;function Ns(){if(!ks){const t=M.Symbol;if(t&&t.iterator)ks=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ks=n)}}}return ks}class Ps{constructor(t){this.wrapped=t}static wrap(t){return new Ps(t)}static unwrap(t){return Ps.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ps}}function Ds(t){return!!Rs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ns()in t)}function Rs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ls(t,e,n,r){const i=de();return Vs(i,Se(),e)&&(pe(),function(t,e,n,r,i,s){const o=ne(t,e),a=e[11];if(null==r)Zt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?rn(r):i(r,t.tagName||"",n);Zt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Fe(),i,t,e,n,r)),Ls}function Ms(t,e,n,r,i,s,o,a){const u=de(),c=pe(),l=t+Dt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Wr(e,t,0,o||null,ue(c,a));ai(e,n,l,ue(c,u)),He(e,l);const h=l.tViews=ri(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];ye(h,!1);const f=u[11].createComment("");zi(c,u,f,h),br(f,u),Ei(u,u[l]=bi(f,u,f,h)),Ut(h)&&ti(c,u,h),null!=o&&ei(u,h,a)}function Fs(t,e=g.Default){const n=de();return null===n?rt(t,e):mn(me(),n,N(t),e)}function Us(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(me(),t)}function Hs(t,e,n){const r=de();return Vs(r,Se(),e)&&oi(pe(),Fe(),r,t,e,r[11],n,!1),Hs}function qs(t,e,n,r,i){const s=i?"class":"style";ki(t,n,e.inputs[s],s,r)}function Bs(t,e,n,r){const i=de(),s=pe(),o=Dt+t,a=i[11],u=i[o]=$r(e,a,he.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Wr(e,t,2,i,ue(a,s));return ai(e,n,u,ue(a,o)),null!==u.attrs&&Os(u,u.attrs,!1),null!==u.mergedAttrs&&Os(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,s,i,0,e,n,r):s.data[o];ye(c,!0);const l=c.mergedAttrs;null!==l&&Qe(a,u,l);const h=c.classes;null!==h&&Qi(a,u,h);const f=c.styles;null!==f&&Wi(a,u,f),zi(s,i,u,c),0===he.lFrame.elementDepthCount&&br(u,i),he.lFrame.elementDepthCount++,Ut(c)&&(ti(s,i,c),Xr(s,c,i)),null!==r&&ei(i,c)}function zs(){let t=me();ve()?be():(t=t.parent,ye(t,!1));const e=t;he.lFrame.elementDepthCount--;const n=pe();n.firstCreatePass&&(He(n,t),Mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qs(n,e,de(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qs(n,e,de(),e.stylesWithoutHost,!1)}function Gs(t,e,n,r){Bs(t,e,n,r),zs()}function $s(t,e,n){const r=de(),i=pe(),s=t+Dt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=ue(s,r),a=Wr(e,t,3,"ng-container",o);return null!==o&&Os(a,o,!0),ai(e,n,a,ue(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];ye(o,!0);const a=r[s]=r[11].createComment("");zi(i,r,a,o),br(a,r),Ut(o)&&(ti(i,r,o),Xr(i,o,r)),null!=n&&ei(r,o)}function Ks(){let t=me();const e=pe();ve()?be():(t=t.parent,ye(t,!1)),e.firstCreatePass&&(He(e,t),Mt(t)&&e.queries.elementEnd(t))}function Ws(t,e,n){$s(t,e,n),Ks()}function Qs(){return de()}function Js(t){return!!t&&"function"==typeof t.then}function Ys(t){return!!t&&"function"==typeof t.subscribe}function Zs(t,e,n=!1,r){const i=de(),s=pe(),o=me();return to(s,i,i[11],o,t,e,n,r),Zs}function Xs(t,e,n=!1,r){const i=me(),s=de(),o=pe();return to(o,s,Ai(Ie(o.data),i,s),i,t,e,n,r),Xs}function to(t,e,n,r,i,s,o=!1,a){const u=Ut(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=xi(e);let h=!0;if(2===r.type){const f=ne(r,e),d=a?a(f):bt,p=d.target||f,g=l.length,m=a?t=>a(te(t[r.index])).target:r.index;if(Zt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=no(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=no(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function eo(t,e,n){try{return!1!==e(n)}catch(r){return ji(t,r),!1}}function no(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?ie(t.index,e):e;0==(32&e[2])&&Si(o);let a=eo(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=eo(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ro(t=1){return function(t){return(he.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,he.lFrame.contextLView))[8]}(t)}function io(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?xr(t,s,!0):Ar(r,s))return i}else n=i}return n}function so(t){const e=de()[16][6];if(!e.projection){const n=e.projection=dt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?io(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function oo(t,e=0,n){const r=de(),i=pe(),s=Wr(i,t,1,null,n||null);null===s.projection&&(s.projection=e),be(),function(t,e,n){Ki(e[11],0,e,n,Mi(t,n,e),Bi(n.parent||e[6],e))}(i,r,s)}const ao=[];function uo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ur(s):qr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];co(t[a],e)&&(u=!0,t[a+1]=r?zr(n):Hr(n)),a=r?Ur(n):qr(n)}u&&(t[n+1]=r?Hr(s):zr(s))}function co(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}function lo(t,e,n){return fo(t,e,n,!1),lo}function ho(t,e){return fo(t,e,null,!0),ho}function fo(t,e,n,r){const i=de(),s=pe(),o=Oe(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Le()+Dt],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=Ie(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=go(n=po(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=po(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==qr(r))return t[Ur(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=po(null,t,e,n[1],r),n=go(n,e.attrs,r),function(t,e,n,r){t[Ur(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=go(r,t[s].hostAttrs,n);return go(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ur(o),u=qr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ur(t[a+1]);t[r+1]=Fr(e,a),0!==e&&(t[e+1]=Br(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Fr(a,0),0!==a&&(t[a+1]=Br(t[a+1],r)),a=r;else t[r+1]=Fr(u,0),0===a?a=r:t[u+1]=Br(t[u+1],r),u=r;l&&(t[r+1]=Hr(t[r+1])),uo(t,c,r,!0),uo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mt(s,e)>=0&&(n[r+1]=zr(n[r+1]))}(e,c,t,r,s),o=Fr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Nr&&Vs(i,o,e)&&function(t,e,n,r,i,s,o,a){if(2!==e.type)return;const u=t.data,c=u[a+1];yo(1==(1&c)?mo(u,e,n,i,qr(c),o):void 0)||(yo(s)||function(t){return 2==(2&t)}(c)&&(s=mo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Zt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,ee(Le(),n),i,s))}(s,s.data[Le()+Dt],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=x(Vn(t)))),t}(e,n),r,o)}function po(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=go(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function go(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pt(t,o,!!n||e[++s]))}return void 0===t?null:t}function mo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Nr&&(l=c?ao:void 0);let h=c?gt(l,r):u===r?l:void 0;if(s&&!yo(h)&&(h=gt(e,r)),yo(h)&&(a=h,o))return a;const f=t[i+1];i=o?Ur(f):qr(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=gt(t,r))}return a}function yo(t){return void 0!==t}function vo(t,e=""){const n=de(),r=pe(),i=t+Dt,s=r.firstCreatePass?Wr(r,t,2,null,null):r.data[i],o=n[i]=function(t,e){return Zt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);zi(r,n,o,s),ye(s,!1)}function bo(t){return _o("",t,""),bo}function _o(t,e,n){const r=de(),i=function(t,e,n,r){return Vs(t,Se(),n)?e+rn(n)+r:Nr}(r,t,e,n);return i!==Nr&&Ni(r,Le(),i),_o}function wo(t,e,n,r,i){const s=de(),o=function(t,e,n,r,i,s){const o=function(t,e,n,r){const i=Vs(t,e,n);return Vs(t,e+1,r)||i}(t,Ee(),n,i);return Oe(2),o?e+rn(n)+r+rn(i)+s:Nr}(s,t,e,n,r,i);return o!==Nr&&Ni(s,Le(),o),wo}function Eo(t,e,n){const r=de();return Vs(r,Se(),e)&&oi(pe(),Fe(),r,t,e,r[11],n,!0),Eo}function So(t,e,n){const r=de();if(Vs(r,Se(),e)){const i=pe(),s=Fe();oi(i,s,r,t,e,Ai(Ie(i.data),s,r),n,!0)}return So}function Oo(t,e,n,r,i){if(t=N(t),Array.isArray(t))for(let s=0;s<t.length;s++)Oo(t[s],e,n,r,i);else{const s=pe(),o=de();let a=_s(t)?t:N(t.provide),u=ys(t);const c=me(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(_s(t)||!t.multi){const r=new We(u,i,Fs),d=Io(a,e,i?l:l+f,h);-1===d?(gn(hn(c,o),s,a),Co(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Io(a,e,l+f,h),p=Io(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){gn(hn(c,o),s,a);const l=function(t,e,n,r,i){const s=new We(t,n,Fs);return s.multi=[],s.index=e,s.componentProviders=0,To(s,i,r&&!n),s}(i?Ao:xo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Co(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Co(s,t,d>-1?d:p,To(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Co(t,e,n,r){const i=_s(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function To(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Io(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xo(t,e,n,r){return jo(this.multi,[])}function Ao(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=_n(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),jo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],jo(i,s);return s}function jo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ko(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=pe();if(r.firstCreatePass){const i=Ht(t);Oo(n,r.data,r.blueprint,i,!0),Oo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class No{}class Po{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${x(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Do=(()=>{class t{}return t.NULL=new Po,t})(),Ro=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Vo(t),t})();const Vo=function(t){return es(t,me(),de())};class Lo{}var Mo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Fo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Uo(),t})();const Uo=function(){const t=de(),e=ie(me().index,t);return function(t){const e=t[11];if(Zt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(e)?e:t)};let Ho=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class qo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Bo=new qo("10.1.6");class zo{constructor(){}supports(t){return Ds(t)}create(t){return new $o(t)}}const Go=(t,e)=>e;class $o{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Go}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Jo(n,r,i)?e:n,o=Jo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ds(t))throw new Error(`Error trying to diff '${x(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ns()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ko(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Qo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ko{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Qo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Wo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Yo{constructor(){}supports(t){return t instanceof Map||Rs(t)}create(){return new Zo}}class Zo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Rs(t)))throw new Error(`Error trying to diff '${x(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Xo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Xo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ta=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new f]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new zo])}),t})(),ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new f]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new Yo])}),t})();const na=[new Yo],ra=new ta([new zo]),ia=new ea(na);let sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oa(t,Ro),t})();const oa=function(t,e){return ns(t,e,me(),de())};let aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ua(t,Ro),t})();const ua=function(t,e){return rs(t,e,me(),de())},ca={};class la extends Do{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=kt(t);return new da(e,this.ngModule)}}function ha(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const fa=new $("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>on});class da extends No{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(kr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ha(this.componentDef.inputs)}get outputs(){return ha(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ca,i);return s!==ca||r===ca?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Lo,Xt),o=i.get(Ho,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Zt(t))return t.selectRootElement(e,n===vt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):$r(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?Qt:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:on,clean:Ii,playerHandler:null,flags:0},f=ri(0,null,null,1,0,null,null,null,null,null),d=Kr(null,f,h,l,null,null,s,a,o,i);let p,g;ke(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Wr(o,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Os(a,u,!0),null!==t&&(Qe(i,t,u),null!==a.classes&&Qi(i,t,a.classes),null!==a.styles&&Wi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Kr(n,ni(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(gn(hn(a,n),o,e.type),fi(o,a),pi(a,n.length,1)),Ei(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Qe(a,c,["ng-version",Bo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Tr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Qe(a,c,t),e&&e.length>0&&Qi(a,c,e.join(" "))}if(g=re(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=me();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),hi(t,r,1),gi(t,e,n));const i=_n(e,t,e.length-1,r);br(i,e);const s=ne(r,e);return s&&br(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=me();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Me(a.index-Dt);const t=n[1];ui(t,e),ci(t,n,e.hostVars),li(e,o)}return o}(t,this.componentDef,d,h,[Cs]),Qr(f,d,null)}finally{Ve()}return new pa(this.componentType,p,es(Ro,g,d),d,g)}}class pa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Yi(r),this.componentType=t}get injector(){return new Sn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ga=void 0;var ma=["en",[["a","p"],["AM","PM"],ga],[["AM","PM"],ga,ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ga,"{1} 'at' {0}",ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ya={};function va(t,e,n){"string"!=typeof e&&(n=e,e=t[Sa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ya[e]=t,n&&(ya[e][Sa.ExtraData]=n)}function ba(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ea(e);if(n)return n;const r=e.split("-")[0];if(n=Ea(r),n)return n;if("en"===r)return ma;throw new Error(`Missing locale data for the locale "${t}".`)}function _a(t){return ba(t)[Sa.CurrencyCode]||null}function wa(t){return ba(t)[Sa.PluralCase]}function Ea(t){return t in ya||(ya[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),ya[t]}var Sa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Oa="en-US";let Ca=Oa;function Ta(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ca=t.toLowerCase().replace(/_/g,"-"))}const Ia=new Map;class xa extends ut{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new la(this);const n=Pt(t),r=t[B]||null;r&&Ta(r),this._bootstrapComponents=an(n.bootstrap),this._r3Injector=ps(t,e,[{provide:ut,useValue:this},{provide:Do,useValue:this.componentFactoryResolver}],x(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Es.THROW_IF_NOT_FOUND,n=g.Default){return t===Es||t===ut||t===K?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Aa extends ct{constructor(t){super(),this.moduleType=t,null!==Pt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${x(e)} vs ${x(e.name)}`)})(t,Ia.get(t),e),Ia.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new xa(this.moduleType,t)}}function ja(t,e){const n=pe();let r;const i=t+Dt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Nt(r.type)),o=et(Fs);try{const e=cn(!1),r=s();return cn(e),function(t,e,n,r){const i=n+Dt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,de(),t,r),r}finally{et(o)}}function ka(t,e,n){const r=de(),i=function(t,e){return t[e+Dt]}(r,t);return function(t,e){return Ps.isWrapped(e)&&(e=Ps.unwrap(e),t[Ee()]=Nr),e}(r,function(t,e){return t[1].data[e+Dt].pure}(r,t)?function(t,e,n,r,i,s){const o=e+n;return Vs(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===Nr?void 0:n}(t,o+1)}(r,function(){const t=he.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,i.transform,n,i):i.transform(n))}const Na=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Pa(){return this._results[Ns()]()}class Da{constructor(){this.dirty=!0,this._results=[],this.changes=new Na,this.length=0;const t=Ns(),e=Da.prototype;e[t]||(e[t]=Pa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ra{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ra(this.queryList)}setDirty(){this.queryList.setDirty()}}class Va{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Va(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Xa(t,e).matches&&this.queries[e].setDirty()}}class La{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ma{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ma(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Fa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Fa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ua(e,i)),this.matchTNodeWithReadOption(t,e,bn(e,t,i,!1,!1))}else n===sa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,bn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ro||r===aa||r===sa&&0===e.type)this.addMatch(e.index,-2);else{const n=bn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ua(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ha(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?es(Ro,t,e):0===t.type?ns(sa,Ro,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ro?es(Ro,e,t):n===sa?ns(sa,Ro,e,t):n===aa?rs(aa,Ro,e,t):void 0}(t,e,r):_n(t,t[1],n,e)}function qa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Ha(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ba(t){const e=de(),n=pe(),r=xe();Ae(r+1);const i=Xa(n,r);if(t.dirty&&oe(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=qa(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=Rt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):qa(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function za(t,e,n){$a(pe(),de(),t,e,n,!0)}function Ga(t,e,n){$a(pe(),de(),t,e,n,!1)}function $a(t,e,n,r,i,s){t.firstCreatePass&&(Za(t,new La(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),Ya(t,e)}function Ka(t,e,n,r){Qa(pe(),de(),e,n,r,!1,me(),t)}function Wa(t,e,n,r){Qa(pe(),de(),e,n,r,!0,me(),t)}function Qa(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Za(t,new La(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Ya(t,e)}function Ja(){return t=de(),e=xe(),t[19].queries[e].queryList;var t,e}function Ya(t,e){const n=new Da;ii(t,e,n,n.destroy),null===e[19]&&(e[19]=new Va),e[19].queries.push(new Ra(n))}function Za(t,e,n){null===t.queries&&(t.queries=new Ma),t.queries.track(new Fa(e,n))}function Xa(t,e){return t.queries.getByIndex(e)}function tu(t=g.Default){const e=is(!0);if(null!=e||t&g.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const eu=new $("Application Initializer");let nu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Js(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rt(eu,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const ru=new $("AppId"),iu={provide:ru,useFactory:function(){return`${su()}${su()}${su()}`},deps:[]};function su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ou=new $("Platform Initializer"),au=new $("Platform ID"),uu=new $("appBootstrapListener");let cu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const lu=new $("LocaleId"),hu=new $("DefaultCurrencyCode");class fu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const du=function(t){return new Aa(t)},pu=du,gu=function(t){return Promise.resolve(du(t))},mu=function(t){const e=du(t),n=an(Pt(t).declarations).reduce((t,e)=>{const n=kt(e);return n&&t.push(new da(n)),t},[]);return new fu(e,n)},yu=mu,vu=function(t){return Promise.resolve(mu(t))};let bu=(()=>{class t{constructor(){this.compileModuleSync=pu,this.compileModuleAsync=gu,this.compileModuleAndAllComponentsSync=yu,this.compileModuleAndAllComponentsAsync=vu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const _u=(()=>Promise.resolve(0))();function wu(t){"undefined"==typeof Zone?_u.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Eu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Na(!1),this.onMicrotaskEmpty=new Na(!1),this.onStable=new Na(!1),this.onError=new Na(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tu(t),Cu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Iu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),xu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Iu(t),e.invoke(r,i,s,o,a)}finally{xu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Tu(t),Cu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Eu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ou,Su,Su);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Su(){}const Ou={};function Cu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Iu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xu(t){t._nesting--,Cu(t)}class Au{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Na,this.onMicrotaskEmpty=new Na,this.onStable=new Na,this.onError=new Na}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ju=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eu.assertNotInAngularZone(),wu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rt(Eu))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),ku=(()=>{class t{constructor(){this._applications=new Map,Ru.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ru.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class Nu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Pu(t){Ru=t}let Du,Ru=new Nu;const Vu=new $("AllowMultipleToken");class Lu{constructor(t,e){this.name=t,this.token=e}}function Mu(t,e,n=[]){const r="Platform: "+e,i=new $(r);return(e=[])=>{let s=Fu();if(!s||s.injector.get(Vu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:us,useValue:"platform"});!function(t){if(Du&&!Du.destroyed&&!Du.injector.get(Vu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Du=t.get(Uu);const e=t.get(ou,null);e&&e.forEach(t=>t())}(Es.create({providers:t,name:r}))}return function(t){const e=Fu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Fu(){return Du&&!Du.destroyed?Du:null}let Uu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Au:("zone.js"===t?void 0:t)||new Eu({enableLongStackTrace:$n(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Eu,useValue:n}];return n.run(()=>{const e=Es.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(An,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Bu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Js(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(nu);return t.runInitializers(),t.donePromise.then(()=>(Ta(i.injector.get(lu,Oa)||Oa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Hu({},e);return function(t,e,n){const r=new Aa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${x(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rt(Es))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Hu(t,e){return Array.isArray(e)?e.reduce(Hu,t):Object.assign(Object.assign({},t),e)}let qu=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=$n(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Eu.assertNotInAngularZone(),wu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof No?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ut),i=n.create(Es.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(ju,null);return s&&i.injector.get(ku).registerApplication(i.location.nativeElement,s),this._loadComponent(i),$n()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Bu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(uu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Bu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rt(Eu),rt(cu),rt(Es),rt(An),rt(Do),rt(nu))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Bu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zu{}class Gu{}const $u={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ku=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||$u}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Wu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Wu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(rt(bu),rt(Gu,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Wu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Qu extends ss{}class Ju extends Qu{}const Yu=function(t){return null},Zu=Mu(null,"core",[{provide:au,useValue:"unknown"},{provide:Uu,deps:[Es]},{provide:ku,deps:[]},{provide:cu,deps:[]}]),Xu=[{provide:qu,useClass:qu,deps:[Eu,cu,Es,An,Do,nu]},{provide:fa,deps:[Eu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:nu,useClass:nu,deps:[[new f,eu]]},{provide:bu,useClass:bu,deps:[]},iu,{provide:ta,useFactory:function(){return ra},deps:[]},{provide:ea,useFactory:function(){return ia},deps:[]},{provide:lu,useFactory:function(t){return Ta(t=t||"undefined"!=typeof $localize&&$localize.locale||Oa),t},deps:[[new h(lu),new f,new p]]},{provide:hu,useValue:"USD"}];let tc=(()=>{class t{constructor(t){}}return t.\u0275mod=Tt({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(rt(qu))},providers:Xu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return g}));var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),_=new u.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[v,u.A,[new u.B,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)(u.Vb(u.C))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDZWF19rJaDXVbXKPToOjXfbIxezX0OFGA",authDomain:"fir-01-700a4.firebaseapp.com",databaseURL:"https://fir-01-700a4.firebaseio.com",projectId:"fir-01-700a4",storageBucket:"fir-01-700a4.appspot.com",messagingSenderId:"48645672333",appId:"1:48645672333:web:970fc7664ba47c1b5dc1c4"};let s=null;function o(){return s}const a=new r.r("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Vb)(h)}const l=new r.r("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a))},t.\u0275prov=Object(r.Hb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Vb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Vb)(a).location;return new _(Object(r.Vb)(u),e&&e.origin||"")}const b=new r.r("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(u),r.Vb(b,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(u),r.Vb(b,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(y),r.Vb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Hb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Vb)(y),Object(r.Vb)(u))}function O(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),I=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),x=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function j(t,e){return V(Object(r.lb)(t)[r.cb.DateFormat],e)}function k(t,e){return V(Object(r.lb)(t)[r.cb.TimeFormat],e)}function N(t,e){return V(Object(r.lb)(t)[r.cb.DateTimeFormat],e)}function P(t,e){const n=Object(r.lb)(t),i=n[r.cb.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.cb.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.cb.NumberSymbols][A.Group]}return i}const D=r.ob;function R(t){if(!t[r.cb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.cb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function V(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function L(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const M=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F={},U=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var H=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),q=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),B=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function z(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function G(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function $(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===q.Hours)0===a&&-12===n&&(a=12);else if(t===q.FractionalSeconds)return u=e,G(a,3).substr(0,u);var u;const c=P(o,A.MinusSign);return G(a,e,c,r,i)}}function K(t,e,n=T.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case B.Months:return function(t,e,n){const i=Object(r.lb)(t),s=V([i[r.cb.MonthsFormat],i[r.cb.MonthsStandalone]],e);return V(s,n)}(e,s,i)[t.getMonth()];case B.Days:return function(t,e,n){const i=Object(r.lb)(t),s=V([i[r.cb.DaysFormat],i[r.cb.DaysStandalone]],e);return V(s,n)}(e,s,i)[t.getDay()];case B.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.lb)(t);return R(e),(e[r.cb.ExtraData][2]||[]).map(t=>"string"==typeof t?L(t):[L(t[0]),L(t[1])])}(e),n=function(t,e,n){const i=Object(r.lb)(t);R(i);const s=V([i[r.cb.ExtraData][0],i[r.cb.ExtraData][1]],e)||[];return V(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.lb)(t),s=V([i[r.cb.DayPeriodsFormat],i[r.cb.DayPeriodsStandalone]],e);return V(s,n)}(e,s,i)[a<12?0:1];case B.Eras:return function(t,e){return V(Object(r.lb)(t)[r.cb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,o,t,e,n,i)}}function W(t){return function(e,n,r){const i=-1*r,s=P(n,A.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case H.Short:return(i>=0?"+":"")+G(o,2,s)+G(Math.abs(i%60),2,s);case H.ShortGMT:return"GMT"+(i>=0?"+":"")+G(o,1,s);case H.Long:return"GMT"+(i>=0?"+":"")+G(o,2,s)+":"+G(Math.abs(i%60),2,s);case H.Extended:return 0===r?"Z":(i>=0?"+":"")+G(o,2,s)+":"+G(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Q(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var s;return G(i,t,P(r,A.MinusSign))}}const J={};function Y(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Z(t){return t instanceof Date&&!isNaN(t.valueOf())}class X{}let tt=(()=>{class t extends X{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(D(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class et{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new et(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new rt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new rt(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.R),r.Lb(r.M),r.Lb(r.t))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class rt{constructor(t,e){this.record=t,this.view=e}}let it=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new st,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ot("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ot("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.R),r.Lb(r.M))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class st{constructor(){this.$implicit=null,this.ngIf=null}}function ot(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}function at(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(t)}'`)}class ut{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ct{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const lt=new ct,ht=new ut;let ft=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return lt;if(Object(r.sb)(e))return ht;throw at(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Xb())},t.\u0275pipe=r.Kb({name:"async",type:t,pure:!1}),t})(),dt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let s=function(t){if(Z(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(M))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!Z(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.lb)(t)[r.cb.LocaleId]}(e);if(F[i]=F[i]||{},F[i][n])return F[i][n];let s="";switch(n){case"shortDate":s=j(e,x.Short);break;case"mediumDate":s=j(e,x.Medium);break;case"longDate":s=j(e,x.Long);break;case"fullDate":s=j(e,x.Full);break;case"shortTime":s=k(e,x.Short);break;case"mediumTime":s=k(e,x.Medium);break;case"longTime":s=k(e,x.Long);break;case"fullTime":s=k(e,x.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");s=z(N(e,x.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),o=t(e,"mediumDate");s=z(N(e,x.Medium),[i,o]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");s=z(N(e,x.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");s=z(N(e,x.Full),[c,l])}return s&&(F[i][n]=s),s}(n,e)||e;let o,a=[];for(;e;){if(o=U.exec(e),!o){a.push(e);break}{a=a.concat(o.slice(1));const t=a.pop();if(!t)break;e=t}}let u=s.getTimezoneOffset();i&&(u=Y(i,u),s=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Y(e,r)-r))}(s,i));let c="";return a.forEach(t=>{const e=function(t){if(J[t])return J[t];let e;switch(t){case"G":case"GG":case"GGG":e=K(B.Eras,I.Abbreviated);break;case"GGGG":e=K(B.Eras,I.Wide);break;case"GGGGG":e=K(B.Eras,I.Narrow);break;case"y":e=$(q.FullYear,1,0,!1,!0);break;case"yy":e=$(q.FullYear,2,0,!0,!0);break;case"yyy":e=$(q.FullYear,3,0,!1,!0);break;case"yyyy":e=$(q.FullYear,4,0,!1,!0);break;case"M":case"L":e=$(q.Month,1,1);break;case"MM":case"LL":e=$(q.Month,2,1);break;case"MMM":e=K(B.Months,I.Abbreviated);break;case"MMMM":e=K(B.Months,I.Wide);break;case"MMMMM":e=K(B.Months,I.Narrow);break;case"LLL":e=K(B.Months,I.Abbreviated,T.Standalone);break;case"LLLL":e=K(B.Months,I.Wide,T.Standalone);break;case"LLLLL":e=K(B.Months,I.Narrow,T.Standalone);break;case"w":e=Q(1);break;case"ww":e=Q(2);break;case"W":e=Q(1,!0);break;case"d":e=$(q.Date,1);break;case"dd":e=$(q.Date,2);break;case"E":case"EE":case"EEE":e=K(B.Days,I.Abbreviated);break;case"EEEE":e=K(B.Days,I.Wide);break;case"EEEEE":e=K(B.Days,I.Narrow);break;case"EEEEEE":e=K(B.Days,I.Short);break;case"a":case"aa":case"aaa":e=K(B.DayPeriods,I.Abbreviated);break;case"aaaa":e=K(B.DayPeriods,I.Wide);break;case"aaaaa":e=K(B.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":e=K(B.DayPeriods,I.Abbreviated,T.Standalone,!0);break;case"bbbb":e=K(B.DayPeriods,I.Wide,T.Standalone,!0);break;case"bbbbb":e=K(B.DayPeriods,I.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(B.DayPeriods,I.Abbreviated,T.Format,!0);break;case"BBBB":e=K(B.DayPeriods,I.Wide,T.Format,!0);break;case"BBBBB":e=K(B.DayPeriods,I.Narrow,T.Format,!0);break;case"h":e=$(q.Hours,1,-12);break;case"hh":e=$(q.Hours,2,-12);break;case"H":e=$(q.Hours,1);break;case"HH":e=$(q.Hours,2);break;case"m":e=$(q.Minutes,1);break;case"mm":e=$(q.Minutes,2);break;case"s":e=$(q.Seconds,1);break;case"ss":e=$(q.Seconds,2);break;case"S":e=$(q.FractionalSeconds,1);break;case"SS":e=$(q.FractionalSeconds,2);break;case"SSS":e=$(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=W(H.Short);break;case"ZZZZZ":e=W(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=W(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=W(H.Long);break;default:return null}return J[t]=e,e}(t);c+=e?e(s,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,s||this.locale,i)}catch(o){throw at(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.v))},t.\u0275pipe=r.Kb({name:"date",type:t,pure:!0}),t})(),pt=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[{provide:X,useClass:tt}]}),t})();function gt(t){return"server"===t}let mt=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new yt(Object(r.Vb)(a),window,Object(r.Vb)(r.n))}),t})();class yt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=vt(this.window.history)||vt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function vt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class bt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new bt,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=wt||(wt=document.querySelector("base"),wt)?wt.getAttribute("href"):null;return null==e?null:(n=e,_t||(_t=document.createElement("a")),_t.setAttribute("href",n),"/"===_t.pathname.charAt(0)?_t.pathname:"/"+_t.pathname);var n}resetBaseElement(){wt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let _t,wt=null;const Et=new r.r("TRANSITION_ID"),St=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Et,a,r.s],multi:!0}];class Ot{static init(){Object(r.Z)(new Ot)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Ct=new r.r("EventManagerPlugins");let Tt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Ct),r.Vb(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class It{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let xt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),At=(()=>{class t extends xt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kt=/%COMP%/g;function Nt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Nt(t,i,n):(i=i.replace(kt,t),n.push(i))}return n}function Pt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Vt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.S.Native:case r.S.ShadowDom:return new Lt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Nt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Tt),r.Vb(At),r.Vb(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(jt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=jt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=jt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.H.DashCase?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Pt(n)):this.eventManager.addEventListener(t,e,Pt(n))}}class Vt extends Rt{constructor(t,e,n,r){super(t),this.component=n;const i=Nt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(kt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(kt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Lt extends Rt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.S.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Nt(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Mt=(()=>{class t extends It{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Ft=["alt","control","meta","shift"],Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Bt=(()=>{class t extends It{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ht.hasOwnProperty(e)&&(e=Ht[e]))}return Ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ft.forEach(r=>{r!=n&&(0,qt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const zt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){bt.makeCurrent(),Ot.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],Gt=Object(r.T)(r.Y,"browser",zt),$t=[[],{provide:r.bb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:Ct,useClass:Mt,multi:!0,deps:[a,r.A,r.C]},{provide:Ct,useClass:Bt,multi:!0,deps:[a]},[],{provide:Dt,useClass:Dt,deps:[Tt,At,r.c]},{provide:r.G,useExisting:Dt},{provide:xt,useExisting:At},{provide:At,useClass:At,deps:[a]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:Tt,useClass:Tt,deps:[Ct,r.A]},[]];let Kt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Et,useExisting:r.c},St]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Vb(t,12))},providers:$t,imports:[pt,r.f]}),t})();"undefined"!=typeof window&&window;var Wt=n("LRne"),Qt=n("Cfvw"),Jt=n("XNiG"),Yt=n("9ppp");class Zt extends Jt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Yt.a;return this._value}next(t){super.next(this._value=t)}}var Xt=n("z+Ro"),te=n("DH7j"),ee=n("7o/Q");class ne extends ee.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class re extends ee.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ie=n("SeVD"),se=n("HDdC");function oe(t,e,n,r,i=new re(t,n,r)){if(!i.closed)return e instanceof se.a?e.subscribe(i):Object(ie.a)(e)(i)}var ae=n("yCtX");const ue={};class ce{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new le(t,this.resultSelector))}}class le extends ne{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ue),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(oe(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===ue?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const he=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var fe=n("EY2u");function de(t){return new se.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Qt.a)(n):Object(fe.b)()).subscribe(e)})}var pe=n("lJxs"),ge=n("bHdf");function me(){return Object(ge.a)(1)}function ye(t,e){return function(n){return n.lift(new ve(t,e))}}class ve{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new be(t,this.predicate,this.thisArg))}}class be extends ee.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const _e=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function we(t){return function(e){return 0===t?Object(fe.b)():e.lift(new Ee(t))}}class Ee{constructor(t){if(this.total=t,this.total<0)throw new _e}call(t,e){return e.subscribe(new Se(t,this.total))}}class Se extends ee.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Oe(t=Ie){return e=>e.lift(new Ce(t))}class Ce{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Te(t,this.errorFactory))}}class Te extends ee.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(z_){t=z_}this.destination.error(t)}}}function Ie(){return new he}function xe(t=null){return e=>e.lift(new Ae(t))}class Ae{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new je(t,this.defaultValue))}}class je extends ee.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ke=n("SpAZ"),Ne=n("zx2A");function Pe(t,e){return"function"==typeof e?n=>n.pipe(Pe((n,r)=>Object(Qt.a)(t(n,r)).pipe(Object(pe.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new De(t))}class De{constructor(t){this.project=t}call(t,e){return e.subscribe(new Re(t,this.project))}}class Re extends Ne.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ne.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ne.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Ve(t){return e=>0===t?Object(fe.b)():e.lift(new Le(t))}class Le{constructor(t){if(this.total=t,this.total<0)throw new _e}call(t,e){return e.subscribe(new Me(t,this.total))}}class Me extends ee.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Fe(...t){return me()(Object(Wt.a)(...t))}function Ue(...t){const e=t[t.length-1];return Object(Xt.a)(e)?(t.pop(),n=>Fe(t,n,e)):e=>Fe(t,e)}function He(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new qe(t,e,n))}}class qe{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Be(t,this.accumulator,this.seed,this.hasSeed))}}class Be extends ee.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ze(t){return function(e){const n=new Ge(t),r=e.lift(n);return n.caught=r}}class Ge{constructor(t){this.selector=t}call(t,e){return e.subscribe(new $e(t,this.selector,this.caught))}}class $e extends Ne.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ne.a(this);this.add(r);const i=Object(Ne.c)(n,r);i!==r&&this.add(i)}}}var Ke=n("5+tZ");function We(t,e){return Object(Ke.a)(t,e,1)}function Qe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ye((e,n)=>t(e,n,r)):ke.a,Ve(1),n?xe(e):Oe(()=>new he))}var Je=n("vkgz"),Ye=n("quSY");class Ze{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Xe(t,this.callback))}}class Xe extends ee.a{constructor(t,e){super(t),this.add(new Ye.a(e))}}class tn{constructor(t,e){this.id=t,this.url=e}}class en extends tn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nn extends tn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rn extends tn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sn extends tn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class on extends tn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an extends tn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends tn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cn extends tn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends tn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vn="primary";class bn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _n(t){return new bn(t)}function wn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function En(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!On(t[i],e[i]))return!1;return!0}function On(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Cn(t){return Array.prototype.concat.apply([],t)}function Tn(t){return t.length>0?t[t.length-1]:null}function In(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function xn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Qt.a)(Promise.resolve(t)):Object(Wt.a)(t)}function An(t,e,n){return n?function(t,e){return Sn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Pn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>On(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Pn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Pn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Pn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class jn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return Ln.serialize(this)}}class kn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,In(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mn(this)}}class Nn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}toString(){return zn(this)}}function Pn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Dn(t,e){let n=[];return In(t.children,(t,r)=>{r===vn&&(n=n.concat(e(t,r)))}),In(t.children,(t,r)=>{r!==vn&&(n=n.concat(e(t,r)))}),n}class Rn{}class Vn{parse(t){const e=new Qn(t);return new jn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Mn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return In(e.children,(e,n)=>{n!==vn&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Dn(e,(n,r)=>r===vn?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Mn(e)}/${n[0]}`:`${Mn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Un(e)}=${Un(t)}`).join("&"):`${Un(e)}=${Un(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Ln=new Vn;function Mn(t){return t.segments.map(t=>zn(t)).join("/")}function Fn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Un(t){return Fn(t).replace(/%3B/gi,";")}function Hn(t){return Fn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qn(t){return decodeURIComponent(t)}function Bn(t){return qn(t.replace(/\+/g,"%20"))}function zn(t){return`${Hn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Hn(t)}=${Hn(e[t])}`).join("")}`;var e}const Gn=/^[^\/()?;=#]+/;function $n(t){const e=t.match(Gn);return e?e[0]:""}const Kn=/^[^=?&#]+/,Wn=/^[^?&#]+/;class Qn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new kn(t,e)),n}parseSegment(){const t=$n(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Nn(qn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$n(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=$n(this.remaining);t&&(n=t,this.capture(n))}t[qn(e)]=qn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Kn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Wn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Bn(e),i=Bn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$n(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vn);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new kn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Jn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zn(t,this._root).map(t=>t.value)}}function Yn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yn(t,n);if(e)return e}return null}function Zn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zn(t,n);if(r.length)return r.unshift(e),r}return[]}class Xn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class er extends Jn{constructor(t,e){super(t),this.snapshot=e,ar(this,t)}toString(){return this.snapshot.toString()}}function nr(t,e){const n=function(t,e){const n=new sr([],{},{},"",{},vn,e,null,t.root,-1,{});return new or("",new Xn(n,[]))}(t,e),r=new Zt([new Nn("",{})]),i=new Zt({}),s=new Zt({}),o=new Zt({}),a=new Zt(""),u=new rr(r,i,o,a,s,vn,e,n.root);return u.snapshot=n.root,new er(new Xn(u,[]),n)}class rr{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(pe.a)(t=>_n(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(pe.a)(t=>_n(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ir(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class sr{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class or extends Jn{constructor(t,e){super(e),this.url=t,ar(this,e)}toString(){return ur(this._root)}}function ar(t,e){e.value._routerState=t,e.children.forEach(e=>ar(t,e))}function ur(t){const e=t.children.length>0?` { ${t.children.map(ur).join(", ")} } `:"";return`${t.value}${e}`}function cr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Sn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Sn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Sn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function lr(t,e){return Sn(t.params,e.params)&&function(t,e){return Pn(t,e)&&t.every((t,n)=>Sn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||lr(t.parent,e.parent))}function hr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fr(t,e,n,r,i){let s={};return r&&In(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new jn(n.root===t?e:function t(e,n,r){const i={};return In(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new kn(e.segments,i)}(n.root,t,e),s,i)}class dr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&hr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Tn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function gr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function mr(t,e,n){if(t||(t=new kn([],{})),0===t.segments.length&&t.hasChildren())return yr(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=gr(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!wr(o,a,e))return s;r+=2}else{if(!wr(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new kn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new kn(t.segments.slice(r.pathIndex),t.children),yr(e,0,i)}return r.match&&0===i.length?new kn(t.segments,{}):r.match&&!t.hasChildren()?vr(t,e,n):r.match?yr(t,0,i):vr(t,e,n)}function yr(t,e,n){if(0===n.length)return new kn(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[vn]:t}}(n),i={};return In(r,(n,r)=>{null!==n&&(i[r]=mr(t.children[r],e,n))}),In(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new kn(t.segments,i)}}function vr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=br(n[i].outlets);return new kn(r,t)}if(0===i&&hr(n[0])){r.push(new Nn(t.segments[e].path,n[0])),i++;continue}const s=gr(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&hr(o)?(r.push(new Nn(s,_r(o))),i+=2):(r.push(new Nn(s,{})),i++)}return new kn(r,{})}function br(t){const e={};return In(t,(t,n)=>{null!==t&&(e[n]=vr(new kn([],{}),0,t))}),e}function _r(t){const e={};return In(t,(t,n)=>e[n]=""+t),e}function wr(t,e,n){return t==n.path&&Sn(e,n.parameters)}class Er{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=tr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),In(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=tr(t),i=t.value.component?n.children:e;In(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=tr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new mn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new pn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(cr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Sr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Sr(t){cr(t.value),t.children.forEach(Sr)}class Or{constructor(t,e){this.routes=t,this.module=e}}function Cr(t){return"function"==typeof t}function Tr(t){return t instanceof jn}const Ir=Symbol("INITIAL_VALUE");function xr(){return Pe(t=>function(...t){let e=void 0,n=void 0;return Object(Xt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(te.a)(t[0])&&(t=t[0]),Object(ae.a)(t,n).lift(new ce(e))}(...t.map(t=>t.pipe(Ve(1),Ue(Ir)))).pipe(He((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ir)return t;if(r===Ir&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Tr(r))return r}return t},t)},Ir),ye(t=>t!==Ir),Object(pe.a)(t=>Tr(t)?t:!0===t),Ve(1)))}class Ar{constructor(t){this.segmentGroup=t||null}}class jr{constructor(t){this.urlTree=t}}function kr(t){return new se.a(e=>e.error(new Ar(t)))}function Nr(t){return new se.a(e=>e.error(new jr(t)))}function Pr(t){return new se.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Dr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vn).pipe(Object(pe.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ze(t=>{if(t instanceof jr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ar)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vn).pipe(Object(pe.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ze(t=>{if(t instanceof Ar)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new kn([],{[vn]:t}):t;return new jn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(pe.a)(t=>new kn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Wt.a)({});const n=[],r=[],i={};return In(t,(t,s)=>{const o=e(s,t).pipe(Object(pe.a)(t=>i[s]=t));s===vn?n.push(o):r.push(o)}),Wt.a.apply(null,n.concat(r)).pipe(me(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ye((e,n)=>t(e,n,r)):ke.a,we(1),n?xe(e):Oe(()=>new he))}(),Object(pe.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Wt.a)(...n).pipe(We(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ze(t=>{if(t instanceof Ar)return Object(Wt.a)(null);throw t}))),Qe(t=>!!t),ze((t,n)=>{if(t instanceof he||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Wt.a)(new kn([],{}));throw new Ar(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Mr(r)!==s?kr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):kr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Nr(i):this.lineralizeSegments(n,i).pipe(Object(Ke.a)(n=>{const i=new kn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Rr(e,r,i);if(!o)return kr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Nr(l):this.lineralizeSegments(r,l).pipe(Object(Ke.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(pe.a)(t=>(n._loadedConfig=t,new kn(r,{})))):Object(Wt.a)(new kn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Rr(e,n,r);if(!i)return kr(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Ke.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Lr(t,e,n)&&Mr(n)!==vn)}(t,n,r)?{segmentGroup:Vr(new kn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Mr(r)!==vn&&(n[Mr(r)]=new kn([],{}));return n}(r,new kn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Lr(t,e,n))}(t,n,r)?{segmentGroup:Vr(new kn(t.segments,function(t,e,n,r){const i={};for(const s of n)Lr(t,e,s)&&!r[Mr(s)]&&(i[Mr(s)]=new kn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(pe.a)(t=>new kn(s,t))):0===r.length&&0===o.length?Object(Wt.a)(new kn(s,{})):this.expandSegment(n,i,r,o,vn,!0).pipe(Object(pe.a)(t=>new kn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Wt.a)(new Or(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Wt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ke.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(pe.a)(t=>(e._loadedConfig=t,t))):function(t){return new se.a(e=>e.error(wn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Wt.a)(new Or([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Wt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Cr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Cr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return xn(s)});return Object(Wt.a)(i).pipe(xr(),Object(Je.a)(t=>{if(!Tr(t))return;const e=wn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(pe.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Pr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new jn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return In(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return In(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new kn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Rr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||En)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Vr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new kn(t.segments.concat(e.segments),e.children)}return t}function Lr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Mr(t){return t.outlet||vn}class Fr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ur{constructor(t,e){this.component=t,this.route=e}}function Hr(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=tr(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pn(t.url,e.url)||!Sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lr(t,e)||!Sn(t.queryParams,e.queryParams);case"paramsChange":default:return!lr(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Fr(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&u&&u.outlet&&u.outlet.isActivated&&s.canDeactivateChecks.push(new Ur(u.outlet.component,a))}else a&&Br(n,u,s),s.canActivateChecks.push(new Fr(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),In(o,(t,e)=>Br(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function qr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Br(t,e,n){const r=tr(t),i=t.value;In(r,(t,r)=>{Br(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ur(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zr(t,e){return null!==t&&e&&e(new gn(t)),Object(Wt.a)(!0)}function Gr(t,e){return null!==t&&e&&e(new dn(t)),Object(Wt.a)(!0)}function $r(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Wt.a)(!0);const i=r.map(r=>de(()=>{const i=qr(r,e,n);let s;if(function(t){return t&&Cr(t.canActivate)}(i))s=xn(i.canActivate(e,t));else{if(!Cr(i))throw new Error("Invalid CanActivate guard");s=xn(i(e,t))}return s.pipe(Qe())}));return Object(Wt.a)(i).pipe(xr())}function Kr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>de(()=>{const i=e.guards.map(i=>{const s=qr(i,e.node,n);let o;if(function(t){return t&&Cr(t.canActivateChild)}(s))o=xn(s.canActivateChild(r,t));else{if(!Cr(s))throw new Error("Invalid CanActivateChild guard");o=xn(s(r,t))}return o.pipe(Qe())});return Object(Wt.a)(i).pipe(xr())}));return Object(Wt.a)(i).pipe(xr())}class Wr{}class Qr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Zr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vn),n=new sr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Xn(n,e),i=new or(this.url,r);return this.inheritParamsAndData(i._root),Object(Wt.a)(i)}catch(z_){return new se.a(e=>e.error(z_))}}inheritParamsAndData(t){const e=t.value,n=ir(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Dn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===vn?-1:e.value.outlet===vn?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(z_){if(!(z_ instanceof Wr))throw z_}if(this.noLeftoversInUrl(e,n,r))return[];throw new Wr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Wr;if((t.outlet||vn)!==r)throw new Wr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Tn(n).parameters:{};i=new sr(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ei(t),r,t.component,t,Jr(e),Yr(e)+n.length,ni(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Wr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||En)(n,t,e);if(!r)throw new Wr;const i={};In(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new sr(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ei(t),r,t.component,t,Jr(e),Yr(e)+s.length,ni(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Zr(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Xn(i,t)]}if(0===a.length&&0===c.length)return[new Xn(i,[])];const l=this.processSegment(a,u,c,vn);return[new Xn(i,l)]}}function Jr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Yr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Xr(t,e,n)&&ti(n)!==vn)}(t,n,r)){const i=new kn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&ti(s)!==vn){const n=new kn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ti(s)]=n}return i}(t,e,r,new kn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Xr(t,e,n))}(t,n,r)){const s=new kn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Xr(t,n,a)&&!i[ti(a)]){const n=new kn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[ti(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new kn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Xr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ti(t){return t.outlet||vn}function ei(t){return t.data||{}}function ni(t){return t.resolve||{}}function ri(t){return function(e){return e.pipe(Pe(e=>{const n=t(e);return n?Object(Qt.a)(n).pipe(Object(pe.a)(()=>e)):Object(Qt.a)([e])}))}}class ii extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let si=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[wi]},encapsulation:2}),t})();function oi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ai(r,ui(e,r))}}function ai(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==vn)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&oi(t.children,e)}function ui(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ci(t){const e=t.children&&t.children.map(ci),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vn&&(n.component=si),n}const li=new r.r("ROUTES");class hi{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(pe.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Or(Cn(r.injector.get(li)).map(ci),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Qt.a)(this.loader.load(t)):xn(t()).pipe(Object(Ke.a)(t=>t instanceof r.w?Object(Wt.a)(t):Object(Qt.a)(this.compiler.compileModuleAsync(t))))}}class fi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new di,this.attachRef=null}}class di{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new fi,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class pi{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function gi(t){throw t}function mi(t,e,n){return e.parse("/")}function yi(t,e){return Object(Wt.a)(null)}let vi=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Jt.a,this.errorHandler=gi,this.malformedUriErrorHandler=mi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yi,afterPreactivation:yi},this.urlHandlingStrategy=new pi,this.routeReuseStrategy=new ii,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A,this.resetConfig(u),this.currentUrlTree=new jn(new kn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hi(o,a,t=>this.triggerEvent(new hn(t)),t=>this.triggerEvent(new fn(t))),this.routerState=nr(this.currentUrlTree,this.rootComponentType),this.transitions=new Zt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ye(t=>0!==t.id),Object(pe.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pe(t=>{let n=!1,r=!1;return Object(Wt.a)(t).pipe(Object(Je.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pe(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Wt.a)(t).pipe(Pe(t=>{const n=this.transitions.getValue();return e.next(new en(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?fe.a:[t]}),Pe(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Pe(t=>function(t,e,n,r,i){return new Dr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(pe.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Je.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Ke.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Qr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(pe.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Je.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Je.a)(t=>{const n=new on(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new en(n,this.serializeUrl(r),i,s);e.next(a);const u=nr(r,this.rootComponentType).snapshot;return Object(Wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),fe.a}),ri(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Je.a)(t=>{const e=new an(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(pe.a)(t=>Object.assign(Object.assign({},t),{guards:Hr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Ke.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Qt.a)(t).pipe(Object(Ke.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Wt.a)(!0);const o=s.map(s=>{const o=qr(s,e,i);let a;if(function(t){return t&&Cr(t.canDeactivate)}(o))a=xn(o.canDeactivate(t,e,n,r));else{if(!Cr(o))throw new Error("Invalid CanDeactivate guard");a=xn(o(t,e,n,r))}return a.pipe(Qe())});return Object(Wt.a)(o).pipe(xr())}(t.component,t.route,n,e,r)),Qe(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Ke.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Qt.a)(e).pipe(We(e=>Object(Qt.a)([Gr(e.route.parent,r),zr(e.route,r),Kr(t,e.path,n),$r(t,e.route,n)]).pipe(me(),Qe(t=>!0!==t,!0))),Qe(t=>!0!==t,!0))}(r,s,t,e):Object(Wt.a)(n)),Object(pe.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Je.a)(t=>{if(Tr(t.guardsResult)){const e=wn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Je.a)(t=>{const e=new un(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ye(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ri(t=>{if(t.guards.canActivateChecks.length)return Object(Wt.a)(t).pipe(Object(Je.a)(t=>{const e=new cn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pe(t=>{let n=!1;return Object(Wt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Ke.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Wt.a)(t);let s=0;return Object(Qt.a)(n).pipe(We(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Wt.a)({});const s={};return Object(Qt.a)(i).pipe(Object(Ke.a)(i=>function(t,e,n,r){const i=qr(t,e,r);return xn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Je.a)(t=>{s[i]=t}))),we(1),Object(Ke.a)(()=>Object.keys(s).length===i.length?Object(Wt.a)(s):fe.a))}(t._resolve,t,e,r).pipe(Object(pe.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ir(t,n).resolve),null)))}(t.route,e,r,i)),Object(Je.a)(()=>s++),we(1),Object(Ke.a)(e=>s===n.length?Object(Wt.a)(t):fe.a))}))}),Object(Je.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new rn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Je.a)(t=>{const e=new ln(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ri(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(pe.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Xn(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new rr(new Zt((i=n.value).url),new Zt(i.params),new Zt(i.queryParams),new Zt(i.fragment),new Zt(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Xn(r,s)}}var i}(t,e._root,n?n._root:void 0);return new er(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Je.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(pe.a)(t=>(new Er(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Je.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new rn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ze(i))),ze(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Tr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new rn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new sn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(df){t.reject(df)}}var i;return fe.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){oi(t),this.config=t.map(ci),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.X)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return fr(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return In(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new dr(n,e,r)}(n);if(s.toRoot())return fr(e.root,new kn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new pr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new pr(t,t===e.root,0)}const r=hr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?yr(o.segmentGroup,o.index,s.commands):mr(o.segmentGroup,o.index,s.commands);return fr(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.X)()&&this.isNgZoneEnabled&&!r.A.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Tr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(z_){e=this.malformedUriErrorHandler(z_,this.urlSerializer,t)}return e}isActive(t,e){if(Tr(t))return An(this.currentUrlTree,t,e);const n=this.parseUrl(t);return An(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new nn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.O),r.Vb(Rn),r.Vb(di),r.Vb(E),r.Vb(r.s),r.Vb(r.x),r.Vb(r.i),r.Vb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),bi=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Jt.a,this.subscription=t.events.subscribe(t=>{t instanceof nn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:_i(this.skipLocationChange),replaceUrl:_i(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:_i(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:_i(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(vi),r.Lb(rr),r.Lb(y))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Yb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Ub("href",e.href,r.jc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.zb]}),t})();function _i(t){return""===t||!!t}let wi=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||vn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ei(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(di),r.Lb(r.R),r.Lb(r.j),r.Wb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ei{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===rr?this.route:t===di?this.childContexts:this.parent.get(t,e)}}class Si{}class Oi{preload(t,e){return Object(Wt.a)(null)}}let Ci=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new hi(e,n,e=>t.triggerEvent(new hn(e)),e=>t.triggerEvent(new fn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ye(t=>t instanceof nn),We(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Qt.a)(n).pipe(Object(ge.a)(),Object(pe.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Ke.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(vi),r.Vb(r.x),r.Vb(r.i),r.Vb(r.s),r.Vb(Si))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ti=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof en?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new yn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(vi),r.Vb(mt),r.Vb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Ii=new r.r("ROUTER_CONFIGURATION"),xi=new r.r("ROUTER_FORROOT_GUARD"),Ai=[E,{provide:Rn,useClass:Vn},{provide:vi,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new vi(null,t,e,n,r,i,s,Cn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Rn,di,E,r.s,r.x,r.i,li,Ii,[class{},new r.B],[class{},new r.B]]},di,{provide:rr,useFactory:function(t){return t.routerState.root},deps:[vi]},{provide:r.x,useClass:r.L},Ci,Oi,class{preload(t,e){return e().pipe(ze(()=>Object(Wt.a)(null)))}},{provide:Ii,useValue:{enableTracing:!1}}];function ji(){return new r.z("Router",vi)}let ki=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ai,Ri(e),{provide:xi,useFactory:Di,deps:[[vi,new r.B,new r.K]]},{provide:Ii,useValue:n||{}},{provide:y,useFactory:Pi,deps:[u,[new r.q(b),new r.B],Ii]},{provide:Ti,useFactory:Ni,deps:[vi,mt,Ii]},{provide:Si,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Oi},{provide:r.z,multi:!0,useFactory:ji},[Vi,{provide:r.d,multi:!0,useFactory:Li,deps:[Vi]},{provide:Fi,useFactory:Mi,deps:[Vi]},{provide:r.b,multi:!0,useExisting:Fi}]]}}static forChild(e){return{ngModule:t,providers:[Ri(e)]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Vb(xi,8),r.Vb(vi,8))}}),t})();function Ni(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ti(t,e,n)}function Pi(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Di(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ri(t){return[{provide:r.a,multi:!0,useValue:t},{provide:li,multi:!0,useValue:t}]}let Vi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Jt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(vi),r=this.injector.get(Ii);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Wt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ii),n=this.injector.get(Ci),i=this.injector.get(Ti),s=this.injector.get(vi),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function Li(t){return t.appInitializer.bind(t)}function Mi(t){return t.bootstrapListener.bind(t)}const Fi=new r.r("Router Initializer");var Ui=n("XoHu");function Hi(t,e){return new se.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Qt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const qi=new r.r("NgValueAccessor"),Bi={provide:qi,useExisting:Object(r.V)(()=>zi),multi:!0};let zi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([Bi])]}),t})();const Gi={provide:qi,useExisting:Object(r.V)(()=>Ki),multi:!0},$i=new r.r("CompositionEventMode");let Ki=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l),r.Lb($i,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Yb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Ab([Gi])]}),t})(),Wi=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Qi=(()=>{class t extends Wi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ji(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.yb]}),t})();const Ji=r.Tb(Qi);class Yi extends Wi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Zi{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Xi=(()=>{class t extends Zi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Yi,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})(),ts=(()=>{class t extends Zi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qi,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})();function es(t){return null==t||0===t.length}function ns(t){return null!=t&&"number"==typeof t.length}const rs=new r.r("NgValidators"),is=new r.r("NgAsyncValidators"),ss=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class os{static min(t){return e=>{if(es(e.value)||es(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(es(e.value)||es(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return es(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return es(t.value)||ss.test(t.value)?null:{email:!0}}static minLength(t){return e=>es(e.value)||!ns(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>ns(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return os.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(es(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(as);return 0==e.length?null:function(t){return cs(ls(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(as);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(te.a)(e))return Hi(e,null);if(Object(Ui.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Hi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Hi(t=1===t.length&&Object(te.a)(t[0])?t[0]:t,null).pipe(Object(pe.a)(t=>e(...t)))}return Hi(t,null)}(ls(t,e).map(us)).pipe(Object(pe.a)(cs))}}}function as(t){return null!=t}function us(t){const e=Object(r.tb)(t)?Object(Qt.a)(t):t;return Object(r.sb)(e),e}function cs(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ls(t,e){return e.map(e=>e(t))}function hs(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const fs={provide:qi,useExisting:Object(r.V)(()=>ds),multi:!0};let ds=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([fs])]}),t})();const ps={provide:qi,useExisting:Object(r.V)(()=>ms),multi:!0};let gs=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ms=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Yi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l),r.Lb(gs),r.Lb(r.s))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ab([ps])]}),t})();const ys={provide:qi,useExisting:Object(r.V)(()=>vs),multi:!0};let vs=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([ys])]}),t})();const bs={provide:qi,useExisting:Object(r.V)(()=>_s),multi:!0};let _s=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([bs])]}),t})();const ws={provide:qi,useExisting:Object(r.V)(()=>Es),multi:!0};let Es=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([ws])]}),t})();function Ss(t,e){return[...e.path,t]}function Os(t,e){t.validator=os.compose([t.validator,e.validator]),t.asyncValidator=os.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Cs(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Cs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Cs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ts(t,e){t.validator=os.compose([t.validator,e.validator]),t.asyncValidator=os.composeAsync([t.asyncValidator,e.asyncValidator])}function Is(t){return null!=t?os.compose(hs(t)):null}function xs(t){return null!=t?os.composeAsync(hs(t)):null}function As(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const js=[zi,vs,ds,_s,Es,ms];function ks(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ki?n=t:(e=t,js.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}const Ns="VALID",Ps="INVALID",Ds="PENDING",Rs="DISABLED";function Vs(t){return(Us(t)?t.validators:t)||null}function Ls(t){return Array.isArray(t)?Is(t):t||null}function Ms(t,e){return(Us(e)?e.asyncValidators:t)||null}function Fs(t){return Array.isArray(t)?xs(t):t||null}function Us(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Hs{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ls(this._rawValidators),this._composedAsyncValidatorFn=Fs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ns}get invalid(){return this.status===Ps}get pending(){return this.status==Ds}get disabled(){return this.status===Rs}get enabled(){return this.status!==Rs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ls(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Fs(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ds,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rs,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ns,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ns&&this.status!==Ds||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rs:Ns}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ds,this._hasOwnPendingAsyncValidator=!0;const e=us(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Bs?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof zs&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?Rs:this.errors?Ps:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ds)?Ds:this._anyControlsHaveStatus(Ps)?Ps:Ns}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Us(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class qs extends Hs{constructor(t=null,e,n){super(Vs(e),Ms(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Bs extends Hs{constructor(t,e,n){super(Vs(e),Ms(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof qs?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class zs extends Hs{constructor(t,e,n){super(Vs(e),Ms(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof qs?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Gs={provide:Yi,useExisting:Object(r.V)(()=>Ks)},$s=(()=>Promise.resolve(null))();let Ks=(()=>{class t extends Yi{constructor(t,e,n,i){super(),this.control=new qs,this._registered=!1,this.update=new r.o,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ks(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),As(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ss(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Is(this._rawValidators)}get asyncValidator(){return xs(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Os(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){$s.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;$s.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qi,9),r.Lb(rs,10),r.Lb(is,10),r.Lb(qi,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([Gs]),r.yb,r.zb]}),t})(),Ws=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Qs=new r.r("NgModelWithFormControlWarning"),Js={provide:Qi,useExisting:Object(r.V)(()=>Ys)};let Ys=(()=>{class t extends Qi{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.o}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Os(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Ts(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Ts(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Os(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Is(this._validators);this.form.validator=os.compose([this.form.validator,t]);const e=xs(this._asyncValidators);this.form.asyncValidator=os.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(rs,10),r.Lb(is,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Js]),r.yb,r.zb]}),t})();const Zs={provide:Yi,useExisting:Object(r.V)(()=>Xs)};let Xs=(()=>{class t extends Yi{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.o,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ks(0,i)}set isDisabled(t){}ngOnChanges(e){var n,i;this._added||this._setUpControl(),As(e,this.viewModel)&&(n=t,this,i=this._ngModelWarningConfig,Object(r.X)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ss(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Is(this._rawValidators)}get asyncValidator(){return xs(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qi,13),r.Lb(rs,10),r.Lb(is,10),r.Lb(qi,10),r.Lb(Qs,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([Zs]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})(),to=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),eo=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Bs(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new qs(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new zs(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof qs||t instanceof Bs||t instanceof zs?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),no=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[gs],imports:[to]}),t})(),ro=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Qs,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[eo,gs],imports:[to]}),t})();var io=n("VRyK"),so=n("pxpQ"),oo=n("qgXg"),ao=n("Ylt2");class uo extends Jt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new co(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Yt.a;if(this.isStopped||this.hasError?s=Ye.a.EMPTY:(this.observers.push(t),s=new ao.a(this,t)),r&&t.add(t=new so.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||oo.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class co{constructor(t,e){this.time=t,this.value=e}}function lo(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new uo(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function ho(t,e){return e?Pe(()=>t,e):Pe(()=>t)}var fo=n("tf+s"),po=n("spgP");const go=new r.r("angularfire2.auth.use-emulator"),mo=new r.r("angularfire2.auth.settings"),yo=new r.r("angularfire2.auth.tenant-id"),vo=new r.r("angularfire2.auth.langugage-code"),bo=new r.r("angularfire2.auth.use-device-language"),_o=new r.r("angularfire.auth.persistence");let wo=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new po.d(i),f=Object(po.h)(h),d=new Jt.a,p=Object(Wt.a)(void 0).pipe(Object(so.b)(h.outsideAngular),Pe(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(pe.a)(()=>Object(po.g)(t,i,e)),Object(pe.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(po.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),lo({bufferSize:1,refCount:!1}));if(gt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Wt.a)(null);else{p.pipe(Qe()).subscribe();const t=p.pipe(Pe(t=>t.getRedirectResult().then(t=>t,()=>null)),f,lo({bufferSize:1,refCount:!1})),e=t=>new se.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Pe(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Pe(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ho(n),Object(fo.a)(h.outsideAngular),Object(so.b)(h.insideAngular)),this.user=t.pipe(ho(r),Object(fo.a)(h.outsideAngular),Object(so.b)(h.insideAngular)),this.idToken=this.user.pipe(Pe(t=>t?Object(Qt.a)(t.getIdToken()):Object(Wt.a)(null))),this.idTokenResult=this.user.pipe(Pe(t=>t?Object(Qt.a)(t.getIdTokenResult()):Object(Wt.a)(null))),this.credential=Object(io.a)(t,d,this.authState.pipe(ye(t=>!t))).pipe(Object(pe.a)(t=>(null==t?void 0:t.user)?t:null),Object(fo.a)(h.outsideAngular),Object(so.b)(h.insideAngular))}return Object(po.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(po.c),r.Vb(po.b,8),r.Vb(r.C),r.Vb(r.A),r.Vb(go,8),r.Vb(mo,8),r.Vb(yo,8),r.Vb(vo,8),r.Vb(bo,8),r.Vb(_o,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(po.c),Object(r.Vb)(po.b,8),Object(r.Vb)(r.C),Object(r.Vb)(r.A),Object(r.Vb)(go,8),Object(r.Vb)(mo,8),Object(r.Vb)(yo,8),Object(r.Vb)(vo,8),Object(r.Vb)(bo,8),Object(r.Vb)(_o,8))},token:t,providedIn:"any"}),t})(),Eo=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[wo]}),t})(),So=(()=>{class t{constructor(t,e){this.afAuth=t,this.router=e,this.obtenirEmail="",this.usuariValidat=t.authState}afegirUsuari(t,e){this.afAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.usuariValidat.subscribe(t=>{t&&(this.obtenirEmail=t.email,this.router.navigate(["/xat"]))})}).catch(t=>{alert("error alta nou usuari!!!"+t)})}validarUsuari(t,e){this.afAuth.signInWithEmailAndPassword(t,e).then(t=>{this.usuariValidat.subscribe(t=>{t&&(this.obtenirEmail=t.email,console.log(this.obtenirEmail),this.router.navigate(["/xat"]))})}).catch(t=>{alert("error validaci\xf3 usuari:"+t)})}desvalidarUsuari(){this.afAuth.signOut(),this.obtenirEmail="",this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(wo),r.Vb(vi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Oo=n("D0XW");function Co(){return t=>t.lift(new To)}class To{call(t,e){return e.subscribe(new Io(t))}}class Io extends ee.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class xo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ao(t,this.compare,this.keySelector))}}class Ao extends ee.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var jo=n("Jgta"),ko=n("zIRd"),No=n("q/0M"),Po=n("qOnz"),Do=function(t,e){return(Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ro(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Vo,Lo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mo=Mo||{},Fo=Lo||self;function Uo(){}function Ho(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Bo="closure_uid_"+(1e9*Math.random()>>>0),zo=0;function Go(t,e,n){return t.call.apply(t.bind,arguments)}function $o(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ko(t,e,n){return(Ko=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Go:$o).apply(null,arguments)}function Wo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Qo(){return Date.now()}function Jo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Yo(){this.j=this.j,this.i=this.i}Yo.prototype.j=!1,Yo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Bo)&&t[Bo]||(t[Bo]=++zo)}(this)},Yo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Zo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ta(t){return Array.prototype.concat.apply([],arguments)}function ea(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function na(t){return/^[\s\xa0]*$/.test(t)}var ra,ia=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function sa(t,e){return-1!=t.indexOf(e)}function oa(t,e){return t<e?-1:t>e?1:0}t:{var aa=Fo.navigator;if(aa){var ua=aa.userAgent;if(ua){ra=ua;break t}}ra=""}function ca(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function la(t){var e={};for(var n in t)e[n]=t[n];return e}var ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fa(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ha.length;s++)n=ha[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function da(t){return da[" "](t),t}da[" "]=Uo;var pa,ga,ma=sa(ra,"Opera"),ya=sa(ra,"Trident")||sa(ra,"MSIE"),va=sa(ra,"Edge"),ba=va||ya,_a=sa(ra,"Gecko")&&!(sa(ra.toLowerCase(),"webkit")&&!sa(ra,"Edge"))&&!(sa(ra,"Trident")||sa(ra,"MSIE"))&&!sa(ra,"Edge"),wa=sa(ra.toLowerCase(),"webkit")&&!sa(ra,"Edge");function Ea(){var t=Fo.document;return t?t.documentMode:void 0}t:{var Sa="",Oa=(ga=ra,_a?/rv:([^\);]+)(\)|;)/.exec(ga):va?/Edge\/([\d\.]+)/.exec(ga):ya?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ga):wa?/WebKit\/(\S+)/.exec(ga):ma?/(?:Version)[ \/]?(\S+)/.exec(ga):void 0);if(Oa&&(Sa=Oa?Oa[1]:""),ya){var Ca=Ea();if(null!=Ca&&Ca>parseFloat(Sa)){pa=String(Ca);break t}}pa=Sa}var Ta={};function Ia(t){return function(t,e){var n=Ta;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=ia(String(pa)).split("."),r=ia(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=oa(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||oa(0==o[2].length,0==a[2].length)||oa(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var xa=Fo.document&&ya&&(Ea()||parseInt(pa,10))||void 0,Aa=!ya||9<=Number(xa),ja=ya&&!Ia("9"),ka=function(){if(!Fo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Fo.addEventListener("test",Uo,e),Fo.removeEventListener("test",Uo,e)}catch(n){}return t}();function Na(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Pa(t,e){if(Na.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(_a){t:{try{da(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Da[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Na.prototype.b=function(){this.defaultPrevented=!0},Jo(Pa,Na);var Da={2:"touch",3:"pen",4:"mouse"};Pa.prototype.b=function(){Pa.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ja)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ra="closure_listenable_"+(1e6*Math.random()|0),Va=0;function La(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Va,this.Y=this.Z=!1}function Ma(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Fa(t){this.src=t,this.a={},this.b=0}function Ua(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Zo(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ma(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ha(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Fa.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Ha(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new La(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var qa="closure_lm_"+(1e6*Math.random()|0),Ba={};function za(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Za(r),e&&e[Ra]?e.wa(n,r,qo(i)?!!i.capture:!!i,s):Ga(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)za(t,e[s],n,r,i);return null}return n=Za(n),t&&t[Ra]?t.va(e,n,qo(r)?!!r.capture:!!r,i):Ga(t,e,n,!1,r,i)}function Ga(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=qo(i)?!!i.capture:!!i;if(o&&!Aa)return null;var a=Ja(t);if(a||(t[qa]=a=new Fa(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Qa,e=Aa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ka||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ka(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $a(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ra])Ua(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ka(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ja(e))?(Ua(n,t),0==n.b&&(n.src=null,e[qa]=null)):Ma(t)}}}function Ka(t){return t in Ba?Ba[t]:Ba[t]="on"+t}function Wa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&$a(t),n.call(r,e)}function Qa(t,e){if(t.Y)return!0;if(!Aa){if(!e)t:{e=["window","event"];for(var n=Fo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Wa(t,e=new Pa(e,this))}return Wa(t,new Pa(e,this))}function Ja(t){return(t=t[qa])instanceof Fa?t:null}var Ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Za(t){return"function"==typeof t?t:(t[Ya]||(t[Ya]=function(e){return t.handleEvent(e)}),t[Ya])}function Xa(){Yo.call(this),this.c=new Fa(this),this.J=this,this.C=null}function tu(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Na(e,t);else if(e instanceof Na)e.target=e.target||t;else{var i=e;fa(e=new Na(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=eu(o,r,!0,e)&&i}if(i=eu(o=e.a=t,r,!0,e)&&i,i=eu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=eu(o=e.a=n[s],r,!1,e)&&i}function eu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Ua(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Jo(Xa,Yo),Xa.prototype[Ra]=!0,(Vo=Xa.prototype).addEventListener=function(t,e,n,r){za(this,t,e,n,r)},Vo.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=qo(i)?!!i.capture:!!i,r=Za(r),e&&e[Ra]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Ha(o=e.a[n],r,i,s))&&(Ma(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Ja(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Ha(n,r,i,s)),(r=-1<e?n[e]:null)&&$a(r))}(this,t,e,n,r)},Vo.G=function(){if(Xa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ma(n[r]);delete e.a[t],e.b--}}this.C=null},Vo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Vo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var nu=Fo.JSON.stringify;function ru(){this.b=this.a=null}var iu,su=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new au}),(function(t){t.reset()}));function ou(){var t=hu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function au(){this.next=this.b=this.a=null}function uu(t){Fo.setTimeout((function(){throw t}),0)}function cu(t,e){iu||function(){var t=Fo.Promise.resolve(void 0);iu=function(){t.then(fu)}}(),lu||(iu(),lu=!0),hu.add(t,e)}ru.prototype.add=function(t,e){var n=su.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},au.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},au.prototype.reset=function(){this.next=this.b=this.a=null};var lu=!1,hu=new ru;function fu(){for(var t;t=ou();){try{t.a.call(t.b)}catch(n){uu(n)}var e=su;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}lu=!1}function du(t,e){Xa.call(this),this.b=t||1,this.a=e||Fo,this.f=Ko(this.Za,this),this.g=Qo()}function pu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function gu(t,e,n){if("function"==typeof t)n&&(t=Ko(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ko(t.handleEvent,t)}return 2147483647<Number(e)?-1:Fo.setTimeout(t,e||0)}function mu(t){t.a=gu((function(){t.a=null,t.c&&(t.c=!1,mu(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Jo(du,Xa),(Vo=du.prototype).aa=!1,Vo.M=null,Vo.Za=function(){if(this.aa){var t=Qo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),tu(this,"tick"),this.aa&&(pu(this),this.start()))}},Vo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Qo())},Vo.G=function(){du.X.G.call(this),pu(this),delete this.a};var yu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Do(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:mu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Fo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Yo);function vu(t){Yo.call(this),this.b=t,this.a={}}Jo(vu,Yo);var bu=[];function _u(t,e,n,r){Array.isArray(n)||(n&&(bu[0]=n.toString()),n=bu);for(var i=0;i<n.length;i++){var s=za(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function wu(t){ca(t.a,(function(t,e){this.a.hasOwnProperty(e)&&$a(t)}),t),t.a={}}function Eu(){this.a=!0}function Su(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return nu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}vu.prototype.G=function(){vu.X.G.call(this),wu(this)},vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eu.prototype.info=function(){};var Ou={},Cu=null;function Tu(){return Cu=Cu||new Xa}function Iu(t){Na.call(this,Ou.Fa,t)}function xu(t){var e=Tu();tu(e,new Iu(e,t))}function Au(t,e){Na.call(this,Ou.STAT_EVENT,t),this.stat=e}function ju(t){var e=Tu();tu(e,new Au(e,t))}function ku(t){Na.call(this,Ou.Ga,t)}function Nu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Fo.setTimeout((function(){t()}),e)}Ou.Fa="serverreachability",Jo(Iu,Na),Ou.STAT_EVENT="statevent",Jo(Au,Na),Ou.Ga="timingevent",Jo(ku,Na);var Pu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Du={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ru(){}function Vu(){}Ru.prototype.a=null;var Lu,Mu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Fu(){Na.call(this,"d")}function Uu(){Na.call(this,"c")}function Hu(){}function qu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new vu(this),this.P=Bu,this.R=new du(t=ba?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Jo(Fu,Na),Jo(Uu,Na),Jo(Hu,Ru),Lu=new Hu;var Bu=45e3,zu={},Gu={};function $u(t,e,n){t.H=1,t.i=pc(uc(e)),t.j=n,t.I=!0,Ku(t,null)}function Ku(t,e){t.u=Qo(),Ju(t),t.l=uc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ic(n.b,"t",r),t.D=0,t.a=wl(t.g,t.g.C?e:null),0<t.O&&(t.F=new yu(Ko(t.Ca,t,t.a),t.O)),_u(t.J,t.a,"readystatechange",t.Xa),e=t.B?la(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),xu(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Wu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Qu(t,n);if(i==Gu){4==e&&(t.h=4,ju(14),r=!1),Su(t.c,t.f,null,"[Incomplete Response]");break}if(i==zu){t.h=4,ju(15),Su(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Su(t.c,t.f,i,null),ec(t,i)}4==e&&0==n.length&&(t.h=1,ju(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),dl(e),e.F=!0,ju(11))):(Su(t.c,t.f,n,"[Invalid Chunked Response]"),tc(t),Xu(t))}function Qu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Gu:(n=Number(e.substring(n,r)),isNaN(n)?zu:(r+=1)+n>e.length?Gu:(e=e.substr(r,n),t.D=r+n,e))}function Ju(t){t.T=Qo()+t.P,Yu(t,t.P)}function Yu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Nu(Ko(t.Va,t),e)}function Zu(t){t.o&&(Fo.clearTimeout(t.o),t.o=null)}function Xu(t){0==t.g.v||t.A||ml(t.g,t)}function tc(t){Zu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,pu(t.R),wu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ec(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Dc(n.b,t)))if(n.I=t.N,!t.C&&Dc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(r_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;gl(n),il(n)}fl(n),ju(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Nu(Ko(n.Sa,n),6e3));if(1>=Pc(n.b)&&n.ea){try{n.ea()}catch(r_){}n.ea=void 0}}else vl(n,11)}else if((t.C||n.a==t)&&gl(n),!na(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(sa(l,"spdy")||sa(l,"quic")||sa(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Rc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,dc(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Qo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=_l(u,u.C?u.ga:null,u.fa),d.C){Vc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Zu(p),Ju(p)),u.a=d}else hl(u);0<n.g.length&&al(n)}else"stop"!=i[0]&&"close"!=i[0]||vl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?vl(n,7):rl(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);xu(4)}catch(r_){}}function nc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ho(t)||"string"==typeof t)Xo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ho(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ho(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function rc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof rc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ic(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];sc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)sc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function sc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Vo=qu.prototype).setTimeout=function(t){this.P=t},Vo.Xa=function(t){t=t.target;var e=this.F;e&&3==Xc(t)?e.f():this.Ca(t)},Vo.Ca=function(t){try{if(t==this.a)t:{var e=Xc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ba&&!this.a.$())){this.A||4!=e||7==n||xu(8==n||0>=r?3:2),Zu(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!na(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,ju(12),tc(this),Xu(this);break t}Su(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ec(this,u)}this.I?(Wu(this,e,s),ba&&this.b&&3==e&&(_u(this.J,this.R,"tick",this.Wa),this.R.start())):(Su(this.c,this.f,s,null),ec(this,s)),4==e&&tc(this),this.b&&!this.A&&(4==e?ml(this.g,this):(this.b=!1,Ju(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,ju(12)):(this.h=0,ju(13)),tc(this),Xu(this)}}}catch(c){}},Vo.Wa=function(){if(this.a){var t=Xc(this.a),e=this.a.$();this.D<e.length&&(Zu(this),Wu(this,t,e),this.b&&4!=t&&Ju(this))}},Vo.cancel=function(){this.A=!0,tc(this)},Vo.Va=function(){this.o=null;var t=Qo();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(xu(3),ju(17)),tc(this),this.h=2,Xu(this)):Yu(this,this.T-t)},(Vo=rc.prototype).K=function(){ic(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Vo.L=function(){return ic(this),this.a.concat()},Vo.get=function(t,e){return sc(this.b,t)?this.b[t]:e},Vo.set=function(t,e){sc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Vo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var oc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ac(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ac){this.a=void 0!==e?e:t.a,cc(this,t.f),this.j=t.j,lc(this,t.c),hc(this,t.h),this.g=t.g,e=t.b;var n=new Sc;n.c=e.c,e.a&&(n.a=new rc(e.a),n.b=e.b),fc(this,n),this.i=t.i}else t&&(n=String(t).match(oc))?(this.a=!!e,cc(this,n[1]||"",!0),this.j=gc(n[2]||""),lc(this,n[3]||"",!0),hc(this,n[4]),this.g=gc(n[5]||"",!0),fc(this,n[6]||"",!0),this.i=gc(n[7]||"")):(this.a=!!e,this.b=new Sc(null,this.a))}function uc(t){return new ac(t)}function cc(t,e,n){t.f=n?gc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function lc(t,e,n){t.c=n?gc(e,!0):e}function hc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function fc(t,e,n){e instanceof Sc?(t.b=e,function(t,e){e&&!t.f&&(Oc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Cc(this,e),Ic(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=mc(e,wc)),t.b=new Sc(e,t.a))}function dc(t,e,n){t.b.set(e,n)}function pc(t){return dc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Qo()).toString(36)),t}function gc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ac.prototype.toString=function(){var t=[],e=this.f;e&&t.push(mc(e,vc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(mc(e,vc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(mc(n,"/"==n.charAt(0)?_c:bc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",mc(n,Ec)),t.join("")};var vc=/[#\/\?@]/g,bc=/[#\?:]/g,_c=/[#\?]/g,wc=/[#\?@]/g,Ec=/#/g;function Sc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Oc(t){t.a||(t.a=new rc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Cc(t,e){Oc(t),e=xc(t,e),sc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,sc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ic(t)))}function Tc(t,e){return Oc(t),e=xc(t,e),sc(t.a.b,e)}function Ic(t,e,n){Cc(t,e),0<n.length&&(t.c=null,t.a.set(xc(t,e),ea(n)),t.b+=n.length)}function xc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Vo=Sc.prototype).add=function(t,e){Oc(this),this.c=null,t=xc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Vo.forEach=function(t,e){Oc(this),this.a.forEach((function(n,r){Xo(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Vo.L=function(){Oc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Vo.K=function(t){Oc(this);var e=[];if("string"==typeof t)Tc(this,t)&&(e=ta(e,this.a.get(xc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ta(e,t[n])}return e},Vo.set=function(t,e){return Oc(this),this.c=null,Tc(this,t=xc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Vo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Vo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ac=function(){return function(t,e){this.b=t,this.a=e}}();function jc(t){this.g=t||kc,t=Fo.PerformanceNavigationTiming?0<(t=Fo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Fo.ia&&Fo.ia.ya&&Fo.ia.ya()&&Fo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var kc=10;function Nc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Pc(t){return t.b?1:t.a?t.a.size:0}function Dc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Rc(t,e){t.a?t.a.add(e):t.b=e}function Vc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Lc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ro(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ea(t.c)}function Mc(){}function Fc(){this.a=new Mc}function Uc(t,e,n){var r=n||"";try{nc(t,(function(t,n){var i=t;qo(t)&&(i=nu(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(z_){throw e.push(r+"type="+encodeURIComponent("_badmap")),z_}}function Hc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}jc.prototype.cancel=function(){var t,e;if(this.c=Lc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ro(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Mc.prototype.stringify=function(t){return Fo.JSON.stringify(t,void 0)},Mc.prototype.parse=function(t){return Fo.JSON.parse(t,void 0)};var qc=Fo.JSON.parse;function Bc(t){Xa.call(this),this.headers=new rc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=zc,this.D=this.F=!1}Jo(Bc,Xa);var zc="",Gc=/^https?$/i,$c=["POST","PUT"];function Kc(t){return"content-type"==t.toLowerCase()}function Wc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Qc(t),Yc(t)}function Qc(t){t.u||(t.u=!0,tu(t,"complete"),tu(t,"error"))}function Jc(t){if(t.b&&void 0!==Mo&&(!t.s[1]||4!=Xc(t)||2!=t.W()))if(t.l&&4==Xc(t))gu(t.za,0,t);else if(tu(t,"readystatechange"),4==Xc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(oc)[1]||null;if(!s&&Fo.self&&Fo.self.location){var o=Fo.self.location.protocol;s=o.substr(0,o.length-1)}i=!Gc.test(s?s.toLowerCase():"")}e=i}if(e)tu(t,"complete"),tu(t,"success");else{t.h=6;try{var a=2<Xc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Qc(t)}}finally{Yc(t)}}}function Yc(t,e){if(t.a){Zc(t);var n=t.a,r=t.s[0]?Uo:null;t.a=null,t.s=null,e||tu(t,"ready");try{n.onreadystatechange=r}catch(z_){}}}function Zc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Fo.clearTimeout(t.m),t.m=null)}function Xc(t){return t.a?t.a.readyState:0}function tl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ca(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):dc(t,e,n))}function el(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nl(t){this.pa=0,this.g=[],this.c=new Eu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=el("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=el("baseRetryDelayMs",5e3,t),this.Ra=el("retryDelaySeedMs",1e4,t),this.Ma=el("forwardChannelMaxRetries",2,t),this.ma=el("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new jc(t&&t.concurrentRequestLimit),this.ka=new Fc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function rl(t){if(sl(t),3==t.v){var e=t.R++,n=uc(t.B);dc(n,"SID",t.J),dc(n,"RID",e),dc(n,"TYPE","terminate"),cl(t,n),(e=new qu(t,t.c,e,void 0)).H=2,e.i=pc(uc(n)),n=!1,Fo.navigator&&Fo.navigator.sendBeacon&&(n=Fo.navigator.sendBeacon(e.i.toString(),"")),!n&&Fo.Image&&((new Image).src=e.i,n=!0),n||(e.a=wl(e.g,null),e.a.ba(e.i)),e.u=Qo(),Ju(e)}bl(t)}function il(t){t.a&&(dl(t),t.a.cancel(),t.a=null)}function sl(t){il(t),t.j&&(Fo.clearTimeout(t.j),t.j=null),gl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Fo.clearTimeout(t.h),t.h=null)}function ol(t,e){t.g.push(new Ac(t.Oa++,e)),3==t.v&&al(t)}function al(t){Nc(t.b)||t.h||(t.h=!0,cu(t.Ba,t),t.u=0)}function ul(t,e){var n;n=e?e.f:t.R++;var r=uc(t.B);dc(r,"SID",t.J),dc(r,"RID",n),dc(r,"AID",t.P),cl(t,r),t.i&&t.l&&tl(r,t.i,t.l),n=new qu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ll(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Rc(t.b,n),$u(n,r,e)}function cl(t,e){t.f&&nc({},(function(t,n){dc(e,n,t)}))}function ll(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ko(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Uc(l,o,"req"+c+"_")}catch(rh){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function hl(t){t.a||t.j||(t.T=1,cu(t.Aa,t),t.o=0)}function fl(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Nu(Ko(t.Aa,t),yl(t,t.o)),t.o++,0))}function dl(t){null!=t.s&&(Fo.clearTimeout(t.s),t.s=null)}function pl(t){t.a=new qu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=uc(t.la);dc(e,"RID","rpc"),dc(e,"SID",t.J),dc(e,"CI",t.H?"0":"1"),dc(e,"AID",t.P),cl(t,e),dc(e,"TYPE","xmlhttp"),t.i&&t.l&&tl(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=pc(uc(e)),n.j=null,n.I=!0,Ku(n,t)}function gl(t){null!=t.m&&(Fo.clearTimeout(t.m),t.m=null)}function ml(t,e){var n=null;if(t.a==e){gl(t),dl(t),t.a=null;var r=2}else{if(!Dc(t.b,e))return;n=e.s,Vc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Qo()-e.u;var i=t.u;tu(r=Tu(),new ku(r,n,e,i)),al(t)}else hl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Pc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Nu(Ko(t.Ba,t,e),yl(t,t.u)),t.u++,0)))}(t,e)||2==r&&fl(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:vl(t,5);break;case 4:vl(t,10);break;case 3:vl(t,6);break;default:vl(t,2)}}function yl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function vl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ko(t.Ya,t);n||(n=new ac("//www.google.com/images/cleardot.gif"),Fo.location&&"http"==Fo.location.protocol||cc(n,"https"),pc(n)),function(t,e){var n=new Eu;if(Fo.Image){var r=new Image;r.onload=Wo(Hc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wo(Hc,n,r,"TestLoadImage: error",!1,e),r.onabort=Wo(Hc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wo(Hc,n,r,"TestLoadImage: timeout",!1,e),Fo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ju(2);t.v=0,t.f&&t.f.ra(e),bl(t),sl(t)}function bl(t){t.v=0,t.I=-1,t.f&&(0==Lc(t.b).length&&0==t.g.length||(t.b.c.length=0,ea(t.g),t.g.length=0),t.f.qa())}function _l(t,e,n){var r=function(t){return t instanceof ac?uc(t):new ac(t,void 0)}(n);if(""!=r.c)e&&lc(r,e+"."+r.c),hc(r,r.h);else{var i=Fo.location;r=function(t,e,n,r){var i=new ac(null,void 0);return t&&cc(i,t),e&&lc(i,e),n&&hc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ca(t.V,(function(t,e){dc(r,e,t)})),n=t.na,(e=t.A)&&n&&dc(r,e,n),dc(r,"VER",t.ha),cl(t,r),r}function wl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bc(t.Na)).F=t.C,e}function El(){}function Sl(){if(ya&&!(10<=Number(xa)))throw Error("Environmental error: no available transport.")}function Ol(t,e){Xa.call(this),this.a=new nl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!na(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!na(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Il(this)}function Cl(t){Fu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Tl(){Uu.call(this),this.status=1}function Il(t){this.a=t}(Vo=Bc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Lu),this.a.onreadystatechange=Ko(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Wc(this,s)}t=n||"";var i=new rc(this.headers);r&&nc(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Kc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Fo.FormData&&t instanceof Fo.FormData,!(0<=Zo($c,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Zc(this),0<this.o&&((this.D=function(t){return ya&&Ia(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ko(this.xa,this)):this.m=gu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Wc(this,s)}},Vo.xa=function(){void 0!==Mo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,tu(this,"timeout"),this.abort(8))},Vo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,tu(this,"complete"),tu(this,"abort"),Yc(this))},Vo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Yc(this,!0)),Bc.X.G.call(this)},Vo.za=function(){this.j||(this.A||this.l||this.g?Jc(this):this.Ua())},Vo.Ua=function(){Jc(this)},Vo.W=function(){try{return 2<Xc(this)?this.a.status:-1}catch(ga){return-1}},Vo.$=function(){try{return this.a?this.a.responseText:""}catch(ga){return""}},Vo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qc(e)}},Vo.ua=function(){return this.h},Vo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Vo=nl.prototype).ha=8,Vo.v=1,Vo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new qu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?fa(r=la(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ll(this,n,e),dc(i=uc(this.B),"RID",t),dc(i,"CVER",22),this.A&&dc(i,"X-HTTP-Session-Id",this.A),cl(this,i),this.i&&r&&tl(i,this.i,r),Rc(this.b,n),this.Ia&&dc(i,"TYPE","init"),this.da?(dc(i,"$req",e),dc(i,"SID","null"),n.U=!0,$u(n,i,null)):$u(n,i,e),this.v=2}}else 3==this.v&&(t?ul(this,t):0==this.g.length||Nc(this.b)||ul(this))},Vo.Aa=function(){if(this.j=null,pl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Nu(Ko(this.Ta,this),t)}},Vo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ju(10),il(this),pl(this))},Vo.Sa=function(){null!=this.m&&(this.m=null,il(this),fl(this),ju(19))},Vo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ju(2)):(this.c.info("Failed to ping google.com"),ju(1))},(Vo=El.prototype).ta=function(){},Vo.sa=function(){},Vo.ra=function(){},Vo.qa=function(){},Vo.Ja=function(){},Sl.prototype.a=function(t,e){return new Ol(t,e)},Jo(Ol,Xa),Ol.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ju(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=_l(t,null,t.fa),al(t)},Ol.prototype.close=function(){rl(this.a)},Ol.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ol(this.a,e)}else this.l?((e={}).__data__=nu(t),ol(this.a,e)):ol(this.a,t)},Ol.prototype.G=function(){this.a.f=null,delete this.f,rl(this.a),delete this.a,Ol.X.G.call(this)},Jo(Cl,Fu),Jo(Tl,Uu),Jo(Il,El),Il.prototype.ta=function(){tu(this.a,"a")},Il.prototype.sa=function(t){tu(this.a,new Cl(t))},Il.prototype.ra=function(t){tu(this.a,new Tl(t))},Il.prototype.qa=function(){tu(this.a,"b")},Sl.prototype.createWebChannel=Sl.prototype.a,Ol.prototype.send=Ol.prototype.h,Ol.prototype.open=Ol.prototype.g,Ol.prototype.close=Ol.prototype.close,Pu.NO_ERROR=0,Pu.TIMEOUT=8,Pu.HTTP_ERROR=6,Du.COMPLETE="complete",Vu.EventType=Mu,Mu.OPEN="a",Mu.CLOSE="b",Mu.ERROR="c",Mu.MESSAGE="d",Xa.prototype.listen=Xa.prototype.va,Bc.prototype.listenOnce=Bc.prototype.wa,Bc.prototype.getLastError=Bc.prototype.Qa,Bc.prototype.getLastErrorCode=Bc.prototype.ua,Bc.prototype.getStatus=Bc.prototype.W,Bc.prototype.getResponseJson=Bc.prototype.Pa,Bc.prototype.getResponseText=Bc.prototype.$,Bc.prototype.send=Bc.prototype.ba;var xl=Pu,Al=Du,jl=Ou,kl=Vu,Nl=Bc,Pl=n("os0x"),Dl=new No.b("@firebase/firestore");function Rl(){return Dl.logLevel}function Vl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dl.logLevel<=No.a.DEBUG){var r=e.map(Fl);Dl.debug.apply(Dl,Object(Pl.g)(["Firestore (8.2.2): "+t],r))}}function Ll(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dl.logLevel<=No.a.ERROR){var r=e.map(Fl);Dl.error.apply(Dl,Object(Pl.g)(["Firestore (8.2.2): "+t],r))}}function Ml(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dl.logLevel<=No.a.WARN){var r=e.map(Fl);Dl.warn.apply(Dl,Object(Pl.g)(["Firestore (8.2.2): "+t],r))}}function Fl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(z_){return t}}function Ul(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw Ll(e),new Error(e)}function Hl(t,e){t||Ul()}function ql(t,e){return t}function Bl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zl=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Bl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Gl(t,e){return t<e?-1:t>e?1:0}function $l(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Kl(t){return t+"\0"}var Wl=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Gl(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Wl.h=new Wl("");var Ql={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Jl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Pl.c)(e,t),e}(Error),Yl=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Wl.fromBase64String(e))}catch(e){throw new Jl(Ql.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Wl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Zl=function(t){this._=t};function Xl(){if("undefined"==typeof Uint8Array)throw new Jl(Ql.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function th(){if("undefined"==typeof atob)throw new Jl(Ql.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.fromBase64String=function(t){return th(),new e(Yl.fromBase64String(t))},e.fromUint8Array=function(t){return Xl(),new e(Yl.fromUint8Array(t))},e.prototype.toBase64=function(){return th(),this._.toBase64()},e.prototype.toUint8Array=function(){return Xl(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Zl),nh=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},rh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ih=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ih.UNAUTHENTICATED=new ih(null),ih.P=new ih("google-credentials-uid"),ih.g=new ih("first-party-uid");var sh=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},oh=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(ih.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),ah=function(){function t(t){var e=this;this.C=null,this.currentUser=ih.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(Vl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Hl("string"==typeof n.accessToken),new sh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Hl(null===t||"string"==typeof t),new ih(t)},t}(),uh=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=ih.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ch=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new uh(this.k,this.M))},t.prototype.S=function(t){t(ih.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),lh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();lh.U=-1;var hh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Jl(Ql.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Jl(Ql.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Jl(Ql.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jl(Ql.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Gl(this.nanoseconds,t.nanoseconds):Gl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),fh=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new hh(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),dh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ul(),void 0===n?n=t.length-e:n>t.length-e&&Ul(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(dh),gh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return gh.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Jl(Ql.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Jl(Ql.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Jl(Ql.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(dh),yh=function(){function t(t){this.path=t}return t.ft=function(e){return new t(ph.ct(e))},t.dt=function(e){return new t(ph.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ph.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return ph.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new ph(e.slice()))},t}();function vh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _h(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var wh=function(){function t(t){this.fields=t,t.sort(mh.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return $l(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sh(t){if(Hl(!!t),"string"==typeof t){var e=0,n=Eh.exec(t);if(Hl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Oh(t.seconds),nanos:Oh(t.nanos)}}function Oh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ch(t){return"string"==typeof t?Wl.fromBase64String(t):Wl.fromUint8Array(t)}function Th(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ih(t){var e=Sh(t.mapValue.fields.__local_write_time__.timestampValue);return new hh(e.seconds,e.nanos)}function xh(t){return null==t}function Ah(t){return 0===t&&1/t==-1/0}function jh(t){return"number"==typeof t&&Number.isInteger(t)&&!Ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function kh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Th(t)?4:10:Ul()}function Nh(t,e){var n=kh(t);if(n!==kh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ih(t).isEqual(Ih(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Sh(t.timestampValue),r=Sh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ch(t.bytesValue).isEqual(Ch(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Oh(t.geoPointValue.latitude)===Oh(e.geoPointValue.latitude)&&Oh(t.geoPointValue.longitude)===Oh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Oh(t.integerValue)===Oh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Oh(t.doubleValue),r=Oh(e.doubleValue);return n===r?Ah(n)===Ah(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],Nh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(vh(n)!==vh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nh(n[i],r[i])))return!1;return!0}(t,e);default:return Ul()}}function Ph(t,e){return void 0!==(t.values||[]).find((function(t){return Nh(t,e)}))}function Dh(t,e){var n=kh(t),r=kh(e);if(n!==r)return Gl(n,r);switch(n){case 0:return 0;case 1:return Gl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Oh(t.integerValue||t.doubleValue),r=Oh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rh(t.timestampValue,e.timestampValue);case 4:return Rh(Ih(t),Ih(e));case 5:return Gl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ch(t),r=Ch(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Gl(n[i],r[i]);if(0!==s)return s}return Gl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Gl(Oh(t.latitude),Oh(e.latitude));return 0!==n?n:Gl(Oh(t.longitude),Oh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Dh(n[i],r[i]);if(s)return s}return Gl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Gl(r[o],s[o]);if(0!==a)return a;var u=Dh(n[r[o]],i[s[o]]);if(0!==u)return u}return Gl(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ul()}}function Rh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Gl(t,e);var n=Sh(t),r=Sh(e),i=Gl(n.seconds,r.seconds);return 0!==i?i:Gl(n.nanos,r.nanos)}function Vh(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Sh(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ch(e.bytesValue).toBase64():"referenceValue"in e?yh.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):Ul();var n}(t)}function Lh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Mh(t){return!!t&&"integerValue"in t}function Fh(t){return!!t&&"arrayValue"in t}function Uh(t){return!!t&&"nullValue"in t}function Hh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qh(t){return!!t&&"mapValue"in t}var Bh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!qh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Nh(this.proto,t.proto)},t}(),zh=function(){function t(t){void 0===t&&(t=Bh.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===kh(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(mh.at(),this.Rt);return null!=t?new Bh(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=qh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Gh(t){var e=[];return bh(t.fields||{},(function(t,n){var r=new mh([t]);if(qh(n)){var i=Gh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new wh(e)}var $h=function(t,e){this.key=t,this.version=e},Kh=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Pl.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}($h),Wh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Pl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}($h),Qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}($h),Jh=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function Yh(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Jh(t,e,n,r,i,s,o)}function Zh(t){var e=ql(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Vh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ff(e.startAt)),e.endAt&&(n+="|ub:",n+=ff(e.endAt)),e.St=n}return e.St}function Xh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Nh(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mf(t.startAt,e.startAt)&&mf(t.endAt,e.endAt)}function tf(t){return yh.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Pl.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new nf(t,n,r):"array-contains"===n?new af(t,r):"in"===n?new uf(t,r):"not-in"===n?new cf(t,r):"array-contains-any"===n?new lf(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new rf(t,n):new sf(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Dh(e,this.value)):null!==e&&kh(this.value)===kh(e)&&this.Ct(Dh(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ul()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),nf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=yh.dt(r.referenceValue),i}return Object(Pl.c)(e,t),e.prototype.matches=function(t){var e=yh.J(t.key,this.key);return this.Ct(e)},e}(ef),rf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=of(0,n),r}return Object(Pl.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ef),sf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=of(0,n),r}return Object(Pl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ef);function of(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return yh.dt(t.referenceValue)}))}var af=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Pl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Fh(e)&&Ph(e.arrayValue,this.value)},e}(ef),uf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Pl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ph(this.value.arrayValue,e)},e}(ef),cf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Pl.c)(e,t),e.prototype.matches=function(t){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ph(this.value.arrayValue,e)},e}(ef),lf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Pl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ph(e.value.arrayValue,t)}))},e}(ef),hf=function(t,e){this.position=t,this.before=e};function ff(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Vh(t)})).join(",")}var df=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function pf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function gf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?yh.J(yh.dt(o.referenceValue),n.key):Dh(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function mf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Nh(t.position[n],e.position[n]))return!1;return!0}var yf=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ot=null,this.Ft=null};function vf(t,e,n,r,i,s,o,a){return new yf(t,e,n,r,i,s,o,a)}function bf(t){return new yf(t)}function _f(t){return!xh(t.limit)&&"F"===t.limitType}function wf(t){return!xh(t.limit)&&"L"===t.limitType}function Ef(t){return t.Nt.length>0?t.Nt[0].field:null}function Sf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Of(t){return null!==t.collectionGroup}function Cf(t){var e=ql(t);if(null===e.Ot){e.Ot=[];var n=Sf(e),r=Ef(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new df(n)),e.Ot.push(new df(mh.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new df(mh.lt(),u))}}}return e.Ot}function Tf(t){var e=ql(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Yh(e.path,e.collectionGroup,Cf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Cf(e);r<i.length;r++){var s=i[r];n.push(new df(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new hf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new hf(e.startAt.position,!e.startAt.before):null;e.Ft=Yh(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ft}function If(t,e,n){return new yf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return Xh(Tf(t),Tf(e))&&t.limitType===e.limitType}function Af(t){return Zh(Tf(t))+"|lt:"+t.limitType}function jf(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Vh(e.value);var e})).join(", ")+"]"),xh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ff(t.startAt)),t.endAt&&(e+=", endAt: "+ff(t.endAt)),"Target("+e+")"}(Tf(t))+"; limitType="+t.limitType+")"}function kf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):yh.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!gf(t.startAt,Cf(t),e)||t.endAt&&gf(t.endAt,Cf(t),e))}(t,e)}function Nf(t){return function(e,n){for(var r=!1,i=0,s=Cf(t);i<s.length;i++){var o=s[i],a=Pf(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function Pf(t,e,n){var r=t.field.ht()?yh.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Dh(r,i):Ul()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ul()}}var Df=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=fh.min()),void 0===s&&(s=fh.min()),void 0===o&&(o=Wl.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Rf(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function Vf(t){return{integerValue:""+t}}function Lf(t,e){return jh(e)?Vf(e):Rf(t,e)}var Mf=function(){this.Ut=void 0};function Ff(t,e,n){return t instanceof qf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Bf?zf(t,e):t instanceof Gf?$f(t,e):function(t,e){var n=Hf(t,e),r=Wf(n)+Wf(t.Qt);return Mh(n)&&Mh(t.Qt)?Vf(r):Rf(t.Kt,r)}(t,e)}function Uf(t,e,n){return t instanceof Bf?zf(t,e):t instanceof Gf?$f(t,e):n}function Hf(t,e){return t instanceof Kf?Mh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e}(Mf),Bf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pl.c)(e,t),e}(Mf);function zf(t,e){for(var n=Qf(e),r=function(t){n.some((function(e){return Nh(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pl.c)(e,t),e}(Mf);function $f(t,e){for(var n=Qf(e),r=function(t){n=n.filter((function(e){return!Nh(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Kf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Pl.c)(e,t),e}(Mf);function Wf(t){return Oh(t.integerValue||t.doubleValue)}function Qf(t){return Fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Jf=function(t,e){this.field=t,this.transform=e},Yf=function(t,e){this.version=t,this.transformResults=e},Zf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Xf(t,e){return void 0!==t.updateTime?e instanceof Kh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Kh}var td=function(){};function ed(t,e,n){return t instanceof od?function(t,e,n){var r=t.value;if(n.transformResults){var i=cd(t.fieldTransforms,e,n.transformResults);r=hd(t.fieldTransforms,r,i)}return new Kh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ad?function(t,e,n){if(!Xf(t.Gt,e))return new Qh(t.key,n.version);var r=ud(t,e,n.transformResults?cd(t.fieldTransforms,e,n.transformResults):[]);return new Kh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Wh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function nd(t,e,n,r){return t instanceof od?function(t,e,n,r){if(!Xf(t.Gt,e))return e;var i=t.value,s=ld(t.fieldTransforms,n,e);i=hd(t.fieldTransforms,i,s);var o=sd(e);return new Kh(t.key,o,i,{bt:!0})}(t,e,r):t instanceof ad?function(t,e,n,r){if(!Xf(t.Gt,e))return e;var i=sd(e),s=ud(t,e,ld(t.fieldTransforms,n,e));return new Kh(t.key,i,s,{bt:!0})}(t,e,r):function(t,e){return Xf(t.Gt,e)?new Wh(t.key,fh.min()):e}(t,e)}function rd(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Kh?e.field(s.field):void 0,a=Hf(s.transform,o||null);null!=a&&(n=null==n?(new zh).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function id(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&$l(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Bf&&e instanceof Bf||t instanceof Gf&&e instanceof Gf?$l(t.elements,e.elements,Nh):t instanceof Kf&&e instanceof Kf?Nh(t.Qt,e.Qt):t instanceof qf&&e instanceof qf}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function sd(t){return t instanceof Kh?t.version:fh.min()}var od=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(Pl.c)(e,t),e}(td),ad=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(Pl.c)(e,t),e}(td);function ud(t,e,n){var r;return r=function(t,e){var n=new zh(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Kh?e.data():Bh.empty()),hd(t.fieldTransforms,r,n)}function cd(t,e,n){var r=[];Hl(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Kh&&(a=e.field(s.field)),r.push(Uf(o,a,n[i]))}return r}function ld(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Kh&&(c=n.field(a.field)),i.push(Ff(u,c,e))}return i}function hd(t,e,n){for(var r=new zh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var fd,dd,pd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Pl.c)(e,t),e}(td),gd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Pl.c)(e,t),e}(td),md=function(t){this.count=t};function yd(t){switch(t){case Ql.OK:return Ul();case Ql.CANCELLED:case Ql.UNKNOWN:case Ql.DEADLINE_EXCEEDED:case Ql.RESOURCE_EXHAUSTED:case Ql.INTERNAL:case Ql.UNAVAILABLE:case Ql.UNAUTHENTICATED:return!1;case Ql.INVALID_ARGUMENT:case Ql.NOT_FOUND:case Ql.ALREADY_EXISTS:case Ql.PERMISSION_DENIED:case Ql.FAILED_PRECONDITION:case Ql.ABORTED:case Ql.OUT_OF_RANGE:case Ql.UNIMPLEMENTED:case Ql.DATA_LOSS:return!0;default:return Ul()}}function vd(t){if(void 0===t)return Ll("GRPC error has no .code"),Ql.UNKNOWN;switch(t){case fd.OK:return Ql.OK;case fd.CANCELLED:return Ql.CANCELLED;case fd.UNKNOWN:return Ql.UNKNOWN;case fd.DEADLINE_EXCEEDED:return Ql.DEADLINE_EXCEEDED;case fd.RESOURCE_EXHAUSTED:return Ql.RESOURCE_EXHAUSTED;case fd.INTERNAL:return Ql.INTERNAL;case fd.UNAVAILABLE:return Ql.UNAVAILABLE;case fd.UNAUTHENTICATED:return Ql.UNAUTHENTICATED;case fd.INVALID_ARGUMENT:return Ql.INVALID_ARGUMENT;case fd.NOT_FOUND:return Ql.NOT_FOUND;case fd.ALREADY_EXISTS:return Ql.ALREADY_EXISTS;case fd.PERMISSION_DENIED:return Ql.PERMISSION_DENIED;case fd.FAILED_PRECONDITION:return Ql.FAILED_PRECONDITION;case fd.ABORTED:return Ql.ABORTED;case fd.OUT_OF_RANGE:return Ql.OUT_OF_RANGE;case fd.UNIMPLEMENTED:return Ql.UNIMPLEMENTED;case fd.DATA_LOSS:return Ql.DATA_LOSS;default:return Ul()}}(dd=fd||(fd={}))[dd.OK=0]="OK",dd[dd.CANCELLED=1]="CANCELLED",dd[dd.UNKNOWN=2]="UNKNOWN",dd[dd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dd[dd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dd[dd.NOT_FOUND=5]="NOT_FOUND",dd[dd.ALREADY_EXISTS=6]="ALREADY_EXISTS",dd[dd.PERMISSION_DENIED=7]="PERMISSION_DENIED",dd[dd.UNAUTHENTICATED=16]="UNAUTHENTICATED",dd[dd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dd[dd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dd[dd.ABORTED=10]="ABORTED",dd[dd.OUT_OF_RANGE=11]="OUT_OF_RANGE",dd[dd.UNIMPLEMENTED=12]="UNIMPLEMENTED",dd[dd.INTERNAL=13]="INTERNAL",dd[dd.UNAVAILABLE=14]="UNAVAILABLE",dd[dd.DATA_LOSS=15]="DATA_LOSS";var bd=function(){function t(t,e){this.J=t,this.root=e||wd.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,wd.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,wd.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new _d(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new _d(this.root,t,this.J,!1)},t.prototype.se=function(){return new _d(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new _d(this.root,t,this.J,!0)},t}(),_d=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),wd=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Ul();if(this.right._e())throw Ul();var t=this.left.me();if(t!==this.right.me())throw Ul();return t+(this._e()?0:1)},t}();wd.EMPTY=null,wd.RED=!0,wd.Jt=!1,wd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new wd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ed=function(){function t(t){this.J=t,this.data=new bd(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Sd(this.data.ee())},t.prototype.ne=function(t){return new Sd(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Sd=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Od=new bd(yh.J);function Cd(){return Od}function Td(){return Cd()}var Id=new bd(yh.J);function xd(){return Id}var Ad=new bd(yh.J);function jd(){return Ad}var kd=new Ed(yh.J);function Nd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=kd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Pd=new Ed(Gl);function Dd(){return Pd}var Rd=function(){function t(t){this.J=t?function(e,n){return t(e,n)||yh.J(e.key,n.key)}:function(t,e){return yh.J(t.key,e.key)},this.Ve=xd(),this.pe=new bd(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Vd=function(){function t(){this.ve=new bd(yh.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Ul():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Ld=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Oe=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Rd.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&xf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Md=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Fd.Be(e,n)),new t(fh.min(),r,Dd(),Cd(),Nd())},t}(),Fd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Wl.h,n,Nd(),Nd(),Nd())},t}(),Ud=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},Hd=function(t,e){this.targetId=t,this.Ge=e},qd=function(t,e,n,r){void 0===n&&(n=Wl.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Bd=function(){function t(){this.ze=0,this.He=$d(),this.Je=Wl.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Nd(),e=Nd(),n=Nd();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ul()}})),new Fd(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=$d()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),zd=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Cd(),this.fn=Gd(),this.dn=new Ed(Gl)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Kh?this.En(r,t.We):t.We instanceof Wh&&this.Tn(r,t.key,t.We)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Ul()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(tf(i))if(0===n){var s=new yh(i.path);this.Tn(e,s,new Wh(s,fh.min()))}else Hl(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var s=e.gn(i);if(s){if(r.qe&&tf(s.target)){var o=new yh(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new Wh(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Nd();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Md(t,n,this.dn,this._n,r);return this._n=Cd(),this.fn=Gd(),this.dn=new Ed(Gl),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Bd,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ed(Gl),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Vl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Bd),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Gd(){return new bd(yh.J)}function $d(){return new bd(yh.J)}var Kd={asc:"ASCENDING",desc:"DESCENDING"},Wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qd=function(t,e){this.T=t,this.qt=e};function Jd(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yd(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Zd(t,e){return Jd(t,e.G())}function Xd(t){return Hl(!!t),fh.j(function(t){var e=Sh(t);return new hh(e.seconds,e.nanos)}(t))}function tp(t,e){return function(t){return new ph(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function ep(t){var e=ph.ct(t);return Hl(Op(e)),e}function np(t,e){return tp(t.T,e.path)}function rp(t,e){var n=ep(e);if(n.get(1)!==t.T.projectId)throw new Jl(Ql.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Jl(Ql.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new yh(ap(n))}function ip(t,e){return tp(t.T,e)}function sp(t){var e=ep(t);return 4===e.length?ph.at():ap(e)}function op(t){return new ph(["projects",t.T.projectId,"databases",t.T.database]).ot()}function ap(t){return Hl(t.length>4&&"documents"===t.get(4)),t.X(5)}function up(t,e,n){return{name:np(t,e),fields:n.proto.mapValue.fields}}function cp(t,e,n){var r=rp(t,e.name),i=Xd(e.updateTime),s=new Bh({mapValue:{fields:e.fields}});return new Kh(r,i,s,{hasCommittedMutations:!!n})}function lp(t,e){var n;if(e instanceof od)n={update:up(t,e.key,e.value)};else if(e instanceof pd)n={delete:np(t,e.key)};else if(e instanceof ad)n={update:up(t,e.key,e.data),updateMask:Sp(e.zt)};else{if(!(e instanceof gd))return Ul();n={verify:np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof qf)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bf)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Gf)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Kf)return{fieldPath:e.field.ot(),increment:n.Qt};throw Ul()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Zd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ul()}(t,e.Gt)),n}function hp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Zf.updateTime(Xd(t.updateTime)):void 0!==t.exists?Zf.exists(t.exists):Zf.jt()}(e.currentDocument):Zf.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Hl("REQUEST_TIME"===e.setToServerValue),n=new qf):"appendMissingElements"in e?n=new Bf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Gf(e.removeAllFromArray.values||[]):"increment"in e?n=new Kf(t,e.increment):Ul();var r=mh._t(e.fieldPath);return new Jf(r,n)}(t,e)})):[];if(e.update){var i=rp(t,e.update.name),s=new Bh({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new wh((t.fieldPaths||[]).map((function(t){return mh._t(t)})))}(e.updateMask);return new ad(i,s,o,n,r)}return new od(i,s,n,r)}if(e.delete){var a=rp(t,e.delete);return new pd(a,n)}if(e.verify){var u=rp(t,e.verify);return new gd(u,n)}return Ul()}function fp(t,e){return{documents:[ip(t,e.path)]}}function dp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ip(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ip(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Hh(t.value))return{unaryFilter:{field:bp(t.field),op:"IS_NAN"}};if(Uh(t.value))return{unaryFilter:{field:bp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Hh(t.value))return{unaryFilter:{field:bp(t.field),op:"IS_NOT_NAN"}};if(Uh(t.value))return{unaryFilter:{field:bp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bp(t.field),op:vp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:bp(t.field),direction:yp(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||xh(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=gp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=gp(e.endAt)),n}function pp(t){var e=sp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Hl(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Ep(e)]:void 0!==e.fieldFilter?[wp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ul():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new df(_p(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return xh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=mp(n.startAt));var l=null;return n.endAt&&(l=mp(n.endAt)),vf(e,i,a,o,u,"F",c,l)}function gp(t){return{before:t.before,values:t.position}}function mp(t){return new hf(t.values||[],!!t.before)}function yp(t){return Kd[t]}function vp(t){return Wd[t]}function bp(t){return{fieldPath:t.ot()}}function _p(t){return mh._t(t.fieldPath)}function wp(t){return ef.create(_p(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ul()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ep(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_p(t.unaryFilter.field);return ef.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_p(t.unaryFilter.field);return ef.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_p(t.unaryFilter.field);return ef.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_p(t.unaryFilter.field);return ef.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ul()}}function Sp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Op(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Cp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Tp=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&Ul(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),Ip=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Cp,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new jp(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Rp(e.target.error);n.qn.reject(new jp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jp(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Vl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Np(e)},t}(),xp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Po.g)())&&Ll("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Vl("SimpleDb","Removing database:",t),Pp(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Po.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Vl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new jp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Jl(Ql.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new jp(t,n))},i.onupgradeneeded=function(t){Vl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Vl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Pl.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(Pl.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Pl.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Ip.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Tp.reject(t)})).Mn(),u={},o.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Vl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ap=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Pp(this.ts.delete())},t}(),jp=function(t){function e(e,n){var r=this;return(r=t.call(this,Ql.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Pl.c)(e,t),e}(Jl);function kp(t){return"IndexedDbTransactionError"===t.name}var Np=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Vl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Vl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Pp(n)},t.prototype.add=function(t){return Vl("SimpleDb","ADD",this.store.name,t,t),Pp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Pp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Vl("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Vl("SimpleDb","DELETE",this.store.name,t),Pp(this.store.delete(t))},t.prototype.count=function(){return Vl("SimpleDb","COUNT",this.store.name),Pp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Vl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Tp((function(n,r){e.onerror=function(t){var e=Rp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Tp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Ap(i),o=e(i.primaryKey,i.value,s);if(o instanceof Tp){var a=o.catch((function(t){return s.done(),Tp.reject(t)}));n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}})).next((function(){return Tp.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Pp(t){return new Tp((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Rp(t.target.error);n(e)}}))}var Dp=!1;function Rp(t){var e=xp.Kn(Object(Po.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Jl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dp||(Dp=!0,setTimeout((function(){throw r}),0)),r}}return t}var Vp=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Cp,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Jl(Ql.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Lp(t,e){if(Ll("AsyncQueue",e+": "+t),kp(t))return new Jl(Ql.UNAVAILABLE,e+": "+t);throw t}var Mp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fp=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function Up(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qp(e)),e=Hp(t.get(n),e);return qp(e)}function Hp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function qp(t){return t+"\x01\x01"}function Bp(t){var e=t.length;if(Hl(e>=2),2===e)return Hl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ph.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ul(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ul()}s=o+2}return new ph(r)}var zp=function(t,e){this.seconds=t,this.nanoseconds=e},Gp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gp.store="owner",Gp.key="owner";var $p=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};$p.store="mutationQueues",$p.keyPath="userId";var Kp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Kp.store="mutations",Kp.keyPath="batchId",Kp.userMutationsIndex="userMutationsIndex",Kp.userMutationsKeyPath=["userId","batchId"];var Wp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Up(e)]},t.key=function(t,e,n){return[t,Up(e),n]},t}();Wp.store="documentMutations",Wp.PLACEHOLDER=new Wp;var Qp=function(t,e){this.path=t,this.readTime=e},Jp=function(t,e){this.path=t,this.version=e},Yp=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Yp.store="remoteDocuments",Yp.readTimeIndex="readTimeIndex",Yp.readTimeIndexPath="readTime",Yp.collectionReadTimeIndex="collectionReadTimeIndex",Yp.collectionReadTimeIndexPath=["parentPath","readTime"];var Zp=function(t){this.byteSize=t};Zp.store="remoteDocumentGlobal",Zp.key="remoteDocumentGlobalKey";var Xp=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Xp.store="targets",Xp.keyPath="targetId",Xp.queryTargetsIndexName="queryTargetsIndex",Xp.queryTargetsKeyPath=["canonicalId","targetId"];var tg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};tg.store="targetDocuments",tg.keyPath=["targetId","path"],tg.documentTargetsIndex="documentTargetsIndex",tg.documentTargetsKeyPath=["path","targetId"];var eg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};eg.key="targetGlobalKey",eg.store="targetGlobal";var ng=function(t,e){this.collectionId=t,this.parent=e};ng.store="collectionParents",ng.keyPath=["collectionId","parent"];var rg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};rg.store="clientMetadata",rg.keyPath="clientId";var ig=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ig.store="bundles",ig.keyPath="bundleId";var sg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sg.store="namedQueries",sg.keyPath="name";var og=Object(Pl.g)(Object(Pl.g)(Object(Pl.g)(Object(Pl.g)([$p.store,Kp.store,Wp.store,Yp.store,Xp.store,Gp.store,eg.store,tg.store],[rg.store]),[Zp.store]),[ng.store]),[ig.store,sg.store]),ag=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Pl.c)(e,t),e}(Fp);function ug(t,e){var n=ql(t);return xp.Hn(n.bs,e)}var cg=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=ed(s,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=nd(o,e,0,this.Ss));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=nd(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Nd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$l(this.mutations,t.mutations,(function(t,e){return id(t,e)}))&&$l(this.baseMutations,t.baseMutations,(function(t,e){return id(t,e)}))},t}(),lg=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){Hl(e.mutations.length===r.length);for(var i=jd(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),hg=function(t){this.ks=t};function fg(t,e){if(e.document)return cp(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=yh.Tt(e.noDocument.path),r=yg(e.noDocument.readTime);return new Wh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=yh.Tt(e.unknownDocument.path);return r=yg(e.unknownDocument.version),new Qh(i,r)}return Ul()}function dg(t,e,n){var r=pg(n),i=e.key.path.Z().rt();if(e instanceof Kh){var s=function(t,e){return{name:np(t,e.key),fields:e.vt().mapValue.fields,updateTime:Jd(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new Yp(null,null,s,o,r,i)}if(e instanceof Wh){var a=e.key.path.rt(),u=mg(e.version);return o=e.hasCommittedMutations,new Yp(null,new Qp(a,u),null,o,r,i)}if(e instanceof Qh){var c=e.key.path.rt(),l=mg(e.version);return new Yp(new Jp(c,l),null,null,!0,r,i)}return Ul()}function pg(t){var e=t.G();return[e.seconds,e.nanoseconds]}function gg(t){var e=new hh(t[0],t[1]);return fh.j(e)}function mg(t){var e=t.G();return new zp(e.seconds,e.nanoseconds)}function yg(t){var e=new hh(t.seconds,t.nanoseconds);return fh.j(e)}function vg(t,e){for(var n=(e.baseMutations||[]).map((function(e){return hp(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map((function(e){return hp(t.ks,e)})),o=hh.fromMillis(e.localWriteTimeMs);return new cg(e.batchId,o,n,s)}function bg(t){var e,n,r=yg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?yg(t.lastLimboFreeSnapshotVersion):fh.min();return void 0!==t.query.documents?(Hl(1===(n=t.query).documents.length),e=Tf(bf(sp(n.documents[0])))):e=function(t){return Tf(pp(t))}(t.query),new Df(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Wl.fromBase64String(t.resumeToken))}function _g(t,e){var n,r=mg(e.Mt),i=mg(e.lastLimboFreeSnapshotVersion);n=tf(e.target)?fp(t.ks,e.target):dp(t.ks,e.target);var s=e.resumeToken.toBase64();return new Xp(e.targetId,Zh(e.target),r,s,e.sequenceNumber,i,n)}function wg(t){var e=pp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?If(e,e.limit,"L"):e}var Eg=function(){function t(){}return t.prototype.Ms=function(t,e){return Sg(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:yg(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Sg(t).put({bundleId:(n=e).id,createTime:mg(Xd(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Og(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:wg(e.bundledQuery),readTime:yg(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return Og(t).put(function(t){return{name:t.name,readTime:mg(Xd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Sg(t){return ug(t,ig.store)}function Og(t){return ug(t,sg.store)}var Cg=function(){function t(){this.qs=new Tg}return t.prototype.Us=function(t,e){return this.qs.add(e),Tp.resolve()},t.prototype.Qs=function(t,e){return Tp.resolve(this.qs.getEntries(e))},t}(),Tg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Ed(ph.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ed(ph.J)).rt()},t}(),Ig=function(){function t(){this.Ks=new Tg}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var s={collectionId:r,parent:Up(i)};return xg(t).put(s)}return Tp.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Kl(e),""],!1,!0);return xg(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Bp(s.parent))}return n}))},t}();function xg(t){return ug(t,ng.store)}var Ag={js:!1,Ws:0,Gs:0,zs:0},jg=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function kg(t){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){if(t.code!==Ql.FAILED_PRECONDITION||t.message!==Mp)throw t;return Vl("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}jg.Zs=10,jg.ti=1e3,jg.ei=new jg(41943040,jg.Zs,jg.ti),jg.ni=new jg(-1,0,0);var Ng=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){bh(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.nt=function(){return _h(this.ri)},t}(),Pg=function(){function t(){this.oi=new Ng((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:fh.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Tp.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Dg(t,e,n){var r=t.store(Kp.store),i=t.store(Wp.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){Hl(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Wp.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Tp.$n(s).next((function(){return c}))}function Rg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ul();e=t.noDocument}return JSON.stringify(e).length}var Vg=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Hl(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mg(t).ls({index:Kp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,s=Fg(t),o=Mg(t);return o.add({}).next((function(a){Hl("number"==typeof a);for(var u=new cg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return lp(t.ks,e)})),i=n.mutations.map((function(e){return lp(t.ks,e)}));return new Kp(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Ed((function(t,e){return Gl(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Wp.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(c)),l.push(s.put(g,Wp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[a]=u.keys()})),Tp.$n(l).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return Mg(t).get(e).next((function(t){return t?(Hl(t.userId===n.userId),vg(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Tp.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Mg(t).ls({index:Kp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Hl(e.batchId>=r),s=vg(n.Kt,e)),i.done()})).next((function(){return s}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Mg(t).ls({index:Kp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mg(t).os(Kp.userMutationsIndex,n).next((function(t){return t.map((function(t){return vg(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=Wp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Fg(t).ls({range:i},(function(r,i,o){var a=r[0],u=r[2],c=Bp(r[1]);if(a===n.userId&&e.path.isEqual(c))return Mg(t).get(u).next((function(t){if(!t)throw Ul();Hl(t.userId===n.userId),s.push(vg(n.Kt,t))}));o.done()})).next((function(){return s}))},t.prototype.Si=function(t,e){var n=this,r=new Ed(Gl),i=[];return e.forEach((function(e){var s=Wp.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Fg(t).ls({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Bp(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Tp.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,s=Wp.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ed(Gl);return Fg(t).ls({range:o},(function(t,e,s){var o=t[0],u=t[2],c=Bp(t[1]);o===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Di(t,a)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Mg(t).get(e).next((function(t){if(null===t)throw Ul();Hl(t.userId===n.userId),r.push(vg(n.Kt,t))})))})),Tp.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return Dg(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),Tp.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return Tp.resolve();var r=IDBKeyRange.lowerBound(Wp.prefixForUser(e.userId)),i=[];return Fg(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Bp(t[1]);i.push(s)}else r.done()})).next((function(){Hl(0===i.length)}))}))},t.prototype.ki=function(t,e){return Lg(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Ug(t).get(this.userId).next((function(t){return t||new $p(e.userId,-1,"")}))},t}();function Lg(t,e,n){var r=Wp.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Fg(t).ls({range:s,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Mg(t){return ug(t,Kp.store)}function Fg(t){return ug(t,Wp.store)}function Ug(t){return ug(t,$p.store)}var Hg=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),qg=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new Hg(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return fh.j(new hh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Bg(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return Hl(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return Bg(t).ls((function(o,a){var u=bg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Yi(t,u)))})).next((function(){return Tp.$n(s)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Bg(t).ls((function(t,n){var r=bg(n);e(r)}))},t.prototype.Ui=function(t){return zg(t).get(eg.key).next((function(t){return Hl(null!==t),t}))},t.prototype.Qi=function(t,e){return zg(t).put(eg.key,e)},t.prototype.zi=function(t,e){return Bg(t).put(_g(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=Zh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bg(t).ls({range:r,index:Xp.queryTargetsIndexName},(function(t,n,r){var s=bg(n);Xh(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],s=Gg(t);return e.forEach((function(e){var o=Up(e.path);i.push(s.put(new tg(n,o))),i.push(r.Ii.sr(t,n,e))})),Tp.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Gg(t);return Tp.forEach(e,(function(e){var s=Up(e.path);return Tp.$n([i.delete([n,s]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=Gg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gg(t),i=Nd();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Bp(t[1]),s=new yh(r);i=i.add(s)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=Up(e.path),r=IDBKeyRange.bound([n],[Kl(n)],!1,!0),i=0;return Gg(t).ls({index:tg.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Bg(t).get(e).next((function(t){return t?bg(t):null}))},t}();function Bg(t){return ug(t,Xp.store)}function zg(t){return ug(t,eg.store)}function Gg(t){return ug(t,tg.store)}function $g(t,e){var n=t[1],r=e[1],i=Gl(t[0],e[0]);return 0===i?Gl(n,r):i}var Kg=function(){function t(t){this.ar=t,this.buffer=new Ed($g),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$g(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Wg=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Vl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(Pl.b)(e,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return kp(e=n.sent())?(Vl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,kg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Qg=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return Tp.resolve(lh.U);var r=new Kg(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Vl("LruGarbageCollector","Garbage collection skipped; disabled"),Tp.resolve(Ag)):this.br(t).next((function(r){return r<n.params.Hs?(Vl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Ag):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>c.params.Ys?(Vl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,s=Date.now(),c.yr(t,r)})).next((function(r){return n=r,o=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Vr(t,n)})).next((function(t){return u=Date.now(),Rl()<=No.a.DEBUG&&Vl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Tp.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),Jg=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Qg(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return Yg(t,n)},t.prototype.rr=function(t,e,n){return Yg(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return Yg(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Ug(t)._s((function(r){return Lg(t,r,e).next((function(t){return t&&(n=!0),Tp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],s=0;return this.Cr(t,(function(o,a){if(a<=e){var u=n.Nr(t,o).next((function(e){if(!e)return s++,r.fi(t,o).next((function(){return r._i(o),Gg(t).delete([0,Up(o.path)])}))}));i.push(u)}})).next((function(){return Tp.$n(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Yg(t,e)},t.prototype.Cr=function(t,e){var n,r=Gg(t),i=lh.U;return r.ls({index:tg.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==lh.U&&e(new yh(Bp(n)),i),i=o,n=s):i=lh.U})).next((function(){i!==lh.U&&e(new yh(Bp(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function Yg(t,e){return Gg(t).put(function(t,e){return new tg(0,Up(t.path),e)}(e,t.vs))}var Zg=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return em(t).put(nm(e),n)},t.prototype._i=function(t,e){var n=em(t),r=nm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return em(t).get(nm(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return em(t).get(nm(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:Rg(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Td();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=Td(),i=new bd(yh.J);return this.qr(t,e,(function(t,e){var s=n.$r(e);s?(r=r.Ht(t,s),i=i.Ht(t,Rg(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return Tp.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return em(t).ls({range:r},(function(t,e,r){for(var o=yh.Tt(t);s&&yh.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()})).next((function(){for(;s;)n(s,null),s=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=xd(),s=e.path.length+1,o={};if(n.isEqual(fh.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=pg(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Yp.collectionReadTimeIndex}return em(t).ls(o,(function(t,n,o){if(t.length===s){var a=fg(r.Kt,n);e.path.st(a.key.path)?a instanceof Kh&&kf(e,a)&&(i=i.Ht(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Xg(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return tm(t).get(Zp.key).next((function(t){return Hl(!!t),t}))},t.prototype.Lr=function(t,e){return tm(t).put(Zp.key,e)},t.prototype.$r=function(t){if(t){var e=fg(this.Kt,t);return e instanceof Wh&&e.version.isEqual(fh.min())?null:e}return null},t}(),Xg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Ng((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Pl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Ed((function(t,e){return Gl(t.ot(),e.ot())}));return this.oi.forEach((function(s,o){var a=e.zr.get(s);if(o.li){var u=dg(e.Gr.Kt,o.li,e.ai(s));i=i.add(s.path.Z());var c=Rg(u);r+=c-a,n.push(e.Gr.ui(t,s,u))}else if(r-=a,e.Wr){var l=dg(e.Gr.Kt,new Wh(s,fh.min()),e.ai(s));n.push(e.Gr.ui(t,s,l))}else n.push(e.Gr._i(t,s))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),Tp.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(Pg);function tm(t){return ug(t,Zp.store)}function em(t){return ug(t,Yp.store)}function nm(t){return t.path.rt()}var rm=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Hl(n<r&&n>=0&&r<=11);var s=new Ip("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Gp.store)}(t),function(t){t.createObjectStore($p.store,{keyPath:$p.keyPath}),t.createObjectStore(Kp.store,{keyPath:Kp.keyPath,autoIncrement:!0}).createIndex(Kp.userMutationsIndex,Kp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Wp.store)}(t),im(t),function(t){t.createObjectStore(Yp.store)}(t));var o=Tp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(tg.store),t.deleteObjectStore(Xp.store),t.deleteObjectStore(eg.store)}(t),im(t)),o=o.next((function(){return function(t){var e=t.store(eg.store),n=new eg(0,0,fh.min().G(),0);return e.put(eg.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Kp.store).os().next((function(n){t.deleteObjectStore(Kp.store),t.createObjectStore(Kp.store,{keyPath:Kp.keyPath,autoIncrement:!0}).createIndex(Kp.userMutationsIndex,Kp.userMutationsKeyPath,{unique:!0});var r=e.store(Kp.store),i=n.map((function(t){return r.put(t)}));return Tp.$n(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(rg.store,{keyPath:rg.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.Hr(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Zp.store)}(t),i.Jr(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.Yr(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.Xr(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Yp.store);e.createIndex(Yp.readTimeIndex,Yp.readTimeIndexPath,{unique:!1}),e.createIndex(Yp.collectionReadTimeIndex,Yp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Zr(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(ig.store,{keyPath:ig.keyPath})}(t),function(t){t.createObjectStore(sg.store,{keyPath:sg.keyPath})}(t)}))),o},t.prototype.Jr=function(t){var e=0;return t.store(Yp.store).ls((function(t,n){e+=Rg(n)})).next((function(){var n=new Zp(e);return t.store(Zp.store).put(Zp.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store($p.store),r=t.store(Kp.store);return n.os().next((function(n){return Tp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Kp.userMutationsIndex,i).next((function(r){return Tp.forEach(r,(function(r){Hl(r.userId===n.userId);var i=vg(e.Kt,r);return Dg(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(tg.store),n=t.store(Yp.store);return t.store(eg.store).get(eg.key).next((function(t){var r=[];return n.ls((function(n,i){var s=new ph(n),o=function(t){return[0,Up(t)]}(s);r.push(e.get(o).next((function(n){return n?Tp.resolve():function(n){return e.put(new tg(0,Up(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Tp.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(ng.store,{keyPath:ng.keyPath});var n=e.store(ng.store),r=new Tg,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Up(i)})}};return e.store(Yp.store).ls({hs:!0},(function(t,e){var n=new ph(t);return i(n.Z())})).next((function(){return e.store(Wp.store).ls({hs:!0},(function(t,e){var n=Bp(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(Xp.store);return n.ls((function(t,r){var i=bg(r),s=_g(e.Kt,i);return n.put(s)}))},t}();function im(t){t.createObjectStore(tg.store,{keyPath:tg.keyPath}).createIndex(tg.documentTargetsIndex,tg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xp.store,{keyPath:Xp.keyPath}).createIndex(Xp.queryTargetsIndexName,Xp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(eg.store)}var sm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",om=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=s,this.window=o,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new Jl(Ql.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Jg(this,i),this.lo=n+"main",this.Kt=new hg(u),this._o=new xp(this.lo,11,new rm(this.Kt)),this.fo=new qg(this.Ii,this.Kt),this.Ti=new Ig,this.wo=function(t,e){return new Zg(t,e)}(this.Kt,this.Ti),this.Eo=new Eg,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Ll("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Jl(Ql.FAILED_PRECONDITION,sm);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new lh(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Pl.b)(e,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(Pl.b)(e,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(Pl.b)(e,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return um(e).put(new rg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(kp(e))return Vl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Vl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return am(t).get(Gp.key).next((function(t){return Tp.resolve(e.Co(t))}))},t.prototype.xo=function(t){return um(t).delete(this.clientId)},t.prototype.No=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=ug(t,rg.store);return e.os().next((function(t){var n=r.Fo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Tp.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Tp.resolve(!0):am(t).get(Gp.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Jl(Ql.FAILED_PRECONDITION,sm);return!1}}return!(!e.networkEnabled||!e.inForeground)||um(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Vl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t=this;return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Gp.store,rg.store],(function(e){var n=new ag(e,lh.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return um(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Vg.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Vl("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",og,(function(s){return r=new ag(s,i.io?i.io.next():lh.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw Ll("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new Jl(Ql.FAILED_PRECONDITION,Mp);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return am(t).get(Gp.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Jl(Ql.FAILED_PRECONDITION,sm)}))},t.prototype.Do=function(t){var e=new Gp(this.clientId,this.allowTabSynchronization,Date.now());return am(t).put(Gp.key,e)},t.jn=function(){return xp.jn()},t.prototype.So=function(t){var e=this,n=am(t);return n.get(Gp.key).next((function(t){return e.Co(t)?(Vl("IndexedDbPersistence","Releasing primary lease."),n.delete(Gp.key)):Tp.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ll("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Vl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ll("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Ll("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function am(t){return ug(t,Gp.store)}function um(t){return ug(t,rg.store)}function cm(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var lm=function(t,e){this.progress=t,this.zo=e},hm=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=Td();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),s=Cd();return i.forEach((function(t,e){e||(e=new Wh(t,fh.min())),s=s.Ht(t,e)})),s}))},t.prototype.jr=function(t,e,n){return function(t){return yh.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Of(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new yh(e)).next((function(t){var e=xd();return t instanceof Kh&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=xd();return this.Ti.Qs(t,i).next((function(o){return Tp.forEach(o,(function(o){var a=function(t,e){return new yf(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Ht(t,e)}))}))})).next((function(){return s}))}))},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.wo.jr(t,e,n).next((function(n){return r=n,s.Ho.Ci(t,e)})).next((function(e){return s.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=nd(u,r.get(c),0,s.Ss);r=l instanceof Kh?r.Ht(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){kf(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Nd(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof ad&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Kh&&(c=c.Ht(t,e))})),c}))},t}(),fm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Nd(),i=Nd(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),dm=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(fh.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(s){var o=i.lc(e,s);return(_f(e)||wf(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(Rl()<=No.a.DEBUG&&Vl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),jf(e)),i.uc.jr(t,e,n).next((function(t){return o.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Ed(Nf(t));return e.forEach((function(e,r){r instanceof Kh&&kf(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Rl()<=No.a.DEBUG&&Vl("QueryEngine","Using full collection scan to execute query:",jf(e)),this.uc.jr(t,e,fh.min())},t}(),pm=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new bd(Gl),this.wc=new Ng((function(t){return Zh(t)}),Xh),this.Ec=fh.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new hm(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function gm(t,e,n,r){return new pm(t,e,n,r)}function mm(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Pl.d)(this,(function(o){switch(o.label){case 0:return n=ql(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.Ho.bi(t).next((function(o){return s=o,r=n.persistence.Ko(e),i=new hm(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],o=Nd(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.Zo(t,o).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}}))}))}function ym(t,e){var n=ql(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Tp.resolve();return s.forEach((function(t){o=o.next((function(){return r.fi(e,t)})).next((function(e){var s=e,o=n.Fs.get(t);Hl(null!==o),(!s||s.version.u(o)<0)&&(s=i.Ds(t,s,n))&&r.ui(s,n.Os)}))})),o.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function vm(t){var e=ql(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function bm(t,e){var n=ql(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Tc.Or({Wr:!0});i=n.dc;var o=[];e.Fe.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next((function(){return n.fo.nr(t,e.Ue,s)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(s,c),function(t,e,n){return Hl(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&o.push(n.fo.Ji(t,c))}}}));var a=Cd();if(e.Me.forEach((function(r,i){e.Le.has(r)&&o.push(n.persistence.Ii.kr(t,r))})),o.push(_m(t,s,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(fh.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));o.push(u)}return Tp.$n(o).next((function(){return s.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function _m(t,e,n,r,i){var s=Nd();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var s=Cd();return n.forEach((function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof Wh&&o.version.isEqual(fh.min())?(e._i(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,u),s=s.Ht(n,o)):Vl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function wm(t,e){var n=ql(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function Em(t,e){var n=ql(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?Tp.resolve(r=i):n.fo.qi(t).next((function(i){return r=new Df(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Sm(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Pl.d)(this,(function(a){switch(a.label){case 0:r=ql(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!kp(o=a.sent()))throw o;return Vl("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Om(t,e,n){var r=ql(t),i=fh.min(),s=Nd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=ql(t),i=r.wc.get(n);return void 0!==i?Tp.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Tf(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.fc.jr(t,e,n?i:fh.min(),n?s:Nd())})).next((function(t){return{documents:t,Pc:s}}))}))}function Cm(t,e){var n=ql(t),r=ql(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Tm(t){var e=ql(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=ql(t),i=Cd(),s=pg(n),o=em(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:Yp.readTimeIndex,range:a},(function(t,e){var n=fg(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime})).next((function(){return{zo:i,readTime:gg(s)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function Im(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){return[2,(e=ql(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=em(t),n=fh.min();return e.ls({index:Yp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=gg(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function xm(t,e,n,r){return Object(Pl.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c,l,h,f,d;return Object(Pl.d)(this,(function(p){switch(p.label){case 0:for(i=ql(t),s=Nd(),o=Cd(),a=jd(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,Em(i,function(t){return Tf(bf(ph.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return _m(t,f,o,fh.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,s,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function Am(t,e,n){return void 0===n&&(n=Nd()),Object(Pl.b)(this,void 0,void 0,(function(){var r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return[4,Em(t,Tf(wg(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=ql(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var s=Xd(e.readTime);if(r.Mt.u(s)>=0)return i.Eo.Bs(t,e);var o=r.$t(Wl.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.fo.Ji(t,o).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var jm=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Tp.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Xd(n.createTime)}),Tp.resolve()},t.prototype.$s=function(t,e){return Tp.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:wg(t.bundledQuery),readTime:Xd(t.readTime)}}(e)),Tp.resolve()},t}(),km=function(){function t(){this.Sc=new Ed(Nm.Dc),this.Cc=new Ed(Nm.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Nm(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new Nm(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new yh(new ph([])),r=new Nm(n,t),i=new Nm(n,t+1),s=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),s.push(t.key)})),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new yh(new ph([])),n=new Nm(e,t),r=new Nm(e,t+1),i=Nd();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new Nm(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Nm=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return yh.J(t.key,e.key)||Gl(t.$c,e.$c)},t.xc=function(t,e){return Gl(t.$c,e.$c)||yh.J(t.key,e.key)},t}(),Pm=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Ed(Nm.Dc)}return t.prototype.Ri=function(t){return Tp.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new cg(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new Nm(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Tp.resolve(s)},t.prototype.yi=function(t,e){return Tp.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Tp.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Tp.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Tp.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Nm(e,0),i=new Nm(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);s.push(e)})),Tp.resolve(s)},t.prototype.Si=function(t,e){var n=this,r=new Ed(Gl);return e.forEach((function(t){var e=new Nm(t,0),i=new Nm(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Tp.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;yh.Et(i)||(i=i.child(""));var s=new Nm(new yh(i),0),o=new Ed(Gl);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)}),s),Tp.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;Hl(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Tp.forEach(e.mutations,(function(i){var s=new Nm(i.key,e.batchId);return r=r.delete(s),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Nm(e,0),r=this.qc.Pe(n);return Tp.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return Tp.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Dm=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new bd(yh.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Tp.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Td();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),Tp.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=xd(),i=new yh(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a.li,c=a.readTime;if(!e.path.st(o.key.path))break;c.u(n)<=0||u instanceof Kh&&kf(e,u)&&(r=r.Ht(u.key,u))}return Tp.resolve(r)},t.prototype.Gc=function(t,e){return Tp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Rm(this)},t.prototype.Mr=function(t){return Tp.resolve(this.size)},t}(),Rm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Pl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),Tp.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Pg),Vm=function(){function t(t){this.persistence=t,this.zc=new Ng((function(t){return Zh(t)}),Xh),this.lastRemoteSnapshotVersion=fh.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new km,this.targetCount=0,this.Yc=Hg.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Tp.resolve()},t.prototype.Ki=function(t){return Tp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Tp.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Tp.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Tp.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Hg(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Tp.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Tp.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Tp.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Xi(t,a.targetId)),i++)})),Tp.$n(s).next((function(){return i}))},t.prototype.tr=function(t){return Tp.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Tp.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Tp.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Tp.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Tp.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Tp.resolve(n)},t.prototype.ki=function(t,e){return Tp.resolve(this.Jc.ki(e))},t}(),Lm=function(){function t(t,e){var n=this;this.Xc={},this.io=new lh(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Vm(this),this.Ti=new Cg,this.wo=function(t,e){return new Dm(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new hg(e),this.Eo=new jm(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Pm(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Vl("MemoryPersistence","Starting transaction:",t);var i=new Mm(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return Tp.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),Mm=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Pl.c)(e,t),e}(Fp),Fm=function(){function t(t){this.persistence=t,this.sa=new km,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Ul()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Tp.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Tp.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Tp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Tp.forEach(this.oa,(function(r){var i=yh.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Tp.Bn([function(){return Tp.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Um(t,e){return"firestore_clients_"+t+"_"+e}function Hm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function qm(t,e){return"firestore_targets_"+t+"_"+e}var Bm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Jl(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Ll("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Jl(r.error.code,r.error.message)),i?new t(e,r.state,s):(Ll("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Dd(),o=0;i&&o<r.activeTargetIds.length;++o)i=jh(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Ll("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$m=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ll("SharedClientState","Failed to parse online state: "+e),null)},t}(),Km=function(){function t(){this.activeTargetIds=Dd()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Wm=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new bd(Gl),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Um(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Km),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Pl.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Um(this.persistenceKey,r)))&&(s=Gm.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(qm(this.persistenceKey,t));if(n){var r=zm.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(qm(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Vl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Vl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Vl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Vl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Ll("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(Pl.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(Pl.d)(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=lh.U;if(null!=t)try{var n=JSON.parse(t);Hl("number"==typeof n),e=n}catch(t){Ll("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==lh.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Bm(this.currentUser,t,e,n),i=Hm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=Hm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=qm(this.persistenceKey,t),i=new zm(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Gm.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Bm.aa(new ih(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return zm.aa(r,e)},t.prototype.ba=function(t){return $m.aa(t)},t.prototype.Xa=function(t){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Vl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.fa.iu(o,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Dd();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Qm=function(){function t(){this.ru=new Km,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Km,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),Jm=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Ym=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Vl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Vl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Zm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Xm=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),ty=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Pl.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,s){var o=new Nl;o.listenOnce(Al.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case xl.NO_ERROR:var e=o.getResponseJson();Vl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case xl.TIMEOUT:Vl("Connection",'RPC "'+t+'" timed out'),s(new Jl(Ql.DEADLINE_EXCEEDED,"Request time out"));break;case xl.HTTP_ERROR:var n=o.getStatus();if(Vl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ql).indexOf(e)>=0?e:Ql.UNKNOWN}(r.status);s(new Jl(a,r.message))}else s(new Jl(Ql.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Jl(Ql.UNAVAILABLE,"Connection failed."));break;default:Ul()}}finally{Vl("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Sl,i=Tu(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(Po.l)()||Object(Po.n)()||Object(Po.j)()||Object(Po.k)()||Object(Po.o)()||Object(Po.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Vl("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Xm({du:function(t){c?Vl("Connection","Not sending because WebChannel is closed:",t):(u||(Vl("Connection","Opening WebChannel transport."),a.open(),u=!0),Vl("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,kl.EventType.OPEN,(function(){c||Vl("Connection","WebChannel transport opened.")})),h(a,kl.EventType.CLOSE,(function(){c||(c=!0,Vl("Connection","WebChannel transport closed"),l.Pu())})),h(a,kl.EventType.ERROR,(function(t){c||(c=!0,Ml("Connection","WebChannel transport errored:",t),l.Pu(new Jl(Ql.UNAVAILABLE,"The operation could not be completed")))})),h(a,kl.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Hl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Vl("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=fd[t];if(void 0!==e)return vd(e)}(i),o=r.message;void 0===s&&(s=Ql.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Jl(s,o)),a.close()}else Vl("Connection","WebChannel received:",n),l.yu(n)}})),h(i,jl.STAT_EVENT,(function(t){10===t.stat?Vl("Connection","Detected buffering proxy"):11===t.stat&&Vl("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Vl("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then((function(t){return Vl("RestConnection","Received: ",t),t}),(function(e){throw Ml("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Zm[t]},t}());function ey(){return"undefined"!=typeof window?window:null}function ny(){return"undefined"!=typeof document?document:null}function ry(t){return new Qd(t,!0)}var iy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Vl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),sy=function(){function t(t,e,n,r,i,s){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=s,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new iy(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Ql.RESOURCE_EXHAUSTED?(Ll(e.toString()),Ll("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Ql.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new Jl(Ql.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Pl.b)(t,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Vl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(Vl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),oy=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(Pl.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ul()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(Hl(void 0===e||"string"==typeof e),Wl.fromBase64String(e||"")):(Hl(void 0===e||e instanceof Uint8Array),Wl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ql.UNKNOWN:vd(t.code);return new Jl(e,t.message||"")}(a);n=new qd(r,i,s,o||null)}else if("documentChange"in e){i=rp(t,(r=e.documentChange).document.name),s=Xd(r.document.updateTime);var a=new Bh({mapValue:{fields:r.document.fields}}),u=(o=new Kh(i,s,a,{}),r.targetIds||[]);n=new Ud(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=rp(t,(r=e.documentDelete).document),s=r.readTime?Xd(r.readTime):fh.min(),a=new Wh(i,s),n=new Ud([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=rp(t,(r=e.documentRemove).document),n=new Ud([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ul();var c=e.filter;i=new md(r=c.count||0),n=new Hd(s=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return fh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?fh.min():e.readTime?Xd(e.readTime):fh.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=op(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=tf(r)?{documents:fp(t,r)}:{query:dp(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Yd(t,e.resumeToken):e.Mt.u(fh.min())>0&&(n.readTime=Jd(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ul()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=op(this.Kt),e.removeTarget=t,this.eh(e)},e}(sy),ay=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(Pl.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Hl(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Hl(void 0!==e),t.map((function(t){return function(t,e){var n=Xd(t.updateTime?t.updateTime:e);n.isEqual(fh.min())&&(n=Xd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Yf(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Xd(t.commitTime);return this.listener.wh(n,e)}return Hl(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=op(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return lp(e.Kt,t)}))};this.eh(n)},e}(sy),uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Pl.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Jl(Ql.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Ql.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Ql.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),cy=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Ll(e),this.Ph=!1):Vl("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),ly=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(Pl.b)(s,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){switch(t.label){case 0:return by(this)?(Vl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return(e=ql(t)).Oh.add(4),[4,fy(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,hy(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new cy(n,r)};function hy(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e,n;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:if(!by(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function fy(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e,n;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function dy(t,e){var n=ql(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),vy(n)?yy(n):Dy(n).Ju()&&gy(n,e))}function py(t,e){var n=ql(t),r=Dy(n);n.Nh.delete(e),r.Ju()&&my(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():by(n)&&n.Mh.set("Unknown"))}function gy(t,e){t.Lh.cn(e.targetId),Dy(t).hh(e)}function my(t,e){t.Lh.cn(e),Dy(t).lh(e)}function yy(t){t.Lh=new zd({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Dy(t).start(),t.Mh.yh()}function vy(t){return by(t)&&!Dy(t).Hu()&&t.Nh.size>0}function by(t){return 0===ql(t).Oh.size}function _y(t){t.Lh=void 0}function wy(t){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){return t.Nh.forEach((function(e,n){gy(t,e)})),[2]}))}))}function Ey(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(n){return _y(t),vy(t)?(t.Mh.ph(e),yy(t)):t.Mh.set("Unknown"),[2]}))}))}function Sy(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Pl.d)(this,(function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof qd&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Pl.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Vl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Oy(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ud?t.Lh.wn(e):e instanceof Hd?t.Lh.yn(e):t.Lh.In(e),n.isEqual(fh.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,vm(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Wl.h,n.Mt)),my(t,e);var r=new Df(n.target,e,1,n.sequenceNumber);gy(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Vl("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Oy(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function Oy(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r=this;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:if(!kp(e))throw e;return t.Oh.add(1),[4,fy(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return vm(t.Sh)}),t.fs.bo((function(){return Object(Pl.b)(r,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return Vl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,hy(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Cy(t,e){return e().catch((function(n){return Oy(t,n,e)}))}function Ty(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(Pl.d)(this,(function(o){switch(o.label){case 0:e=ql(t),n=Ry(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return by(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,wm(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Ry(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Oy(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Iy(e)&&xy(e),[2]}}))}))}function Iy(t){return by(t)&&!Ry(t).Hu()&&t.xh.length>0}function xy(t){Ry(t).start()}function Ay(t){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){return Ry(t).Th(),[2]}))}))}function jy(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Pl.d)(this,(function(i){for(e=Ry(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function ky(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return r=t.xh.shift(),i=lg.from(r,e,n),[4,Cy(t,(function(){return t.Ch.qh(i)}))];case 1:return s.sent(),[4,Ty(t)];case 2:return s.sent(),[2]}}))}))}function Ny(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return e&&Ry(t).fh?[4,function(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return yd(r=e.code)&&r!==Ql.ABORTED?(n=t.xh.shift(),Ry(t).Xu(),[4,Cy(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ty(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Iy(t)&&xy(t),[2]}}))}))}function Py(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return n=ql(t),e?(n.Oh.delete(2),[4,hy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,fy(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Dy(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=ql(t);return r.mh(),new oy(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:wy.bind(null,t),Iu:Ey.bind(null,t),uh:Sy.bind(null,t)}),t.Fh.push((function(n){return Object(Pl.b)(e,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),vy(t)?yy(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),_y(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Ry(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=ql(t);return r.mh(),new ay(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Ay.bind(null,t),Iu:Ny.bind(null,t),Eh:jy.bind(null,t),wh:ky.bind(null,t)}),t.Fh.push((function(n){return Object(Pl.b)(e,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Ty(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Vl("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Vy=function(){this.jh=void 0,this.listeners=[]},Ly=function(){this.queries=new Ng((function(t){return Af(t)}),xf),this.onlineState="Unknown",this.Wh=new Set};function My(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Pl.d)(this,(function(c){switch(c.label){case 0:if(n=ql(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Vy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=Lp(a,"Initialization of query '"+jf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.jh&&e.Hh(s.jh)&&qy(n),[2]}}))}))}function Fy(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Pl.d)(this,(function(a){return n=ql(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Uy(t,e){for(var n=ql(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(o)&&(r=!0);a.jh=o}}r&&qy(n)}function Hy(t,e,n){var r=ql(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function qy(t){t.Wh.forEach((function(t){t.next()}))}var By=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ld(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Ld.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),zy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Gy=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return rp(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?cp(this.Kt,t.document,!1):new Wh(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Xd(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Gy(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Nd()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return[4,xm(this.Sh,new Gy(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Am(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new lm(Object.assign({},this.progress),t))]}}))}))}}();var $y=function(t){this.key=t},Ky=function(t){this.key=t},Wy=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Nd(),this.Ce=Nd(),this.ll=Nf(t),this._l=new Rd(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Vd,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=_f(this.query)&&i.size===this.query.limit?i.last():null,c=wf(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof Kh?e:null;h&&(h=kf(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),_f(this.query)||wf(this.query))for(;o.size>this.query.limit;){var l=_f(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ul()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new Ld(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Vd,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Nd(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Ky(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new $y(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Nd();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Ld.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Qy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Jy=function(t){this.key=t,this.yl=!1},Yy=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new Ng((function(t){return Af(t)}),xf),this.Dl=new Map,this.Cl=[],this.xl=new bd(yh.J),this.Nl=new Map,this.Ol=new km,this.Fl={},this.kl=new Map,this.Ml=Hg.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Zy(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Pl.d)(this,(function(a){switch(a.label){case 0:return n=Iv(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Em(n.Sh,Tf(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,Xy(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&dy(n.gl,s),a.label=4;case 4:return[2,r]}}))}))}function Xy(t,e,n,r){return Object(Pl.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(Pl.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Pl.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Pl.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Om(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Fe.get(e.targetId),o=e.view.Ei(i,t.$l,s),[2,(fv(t,e.targetId,o.ml),o.snapshot)]}}))}))}(t,e,n,r)},[4,Om(t.Sh,e,!0)];case 1:return i=l.sent(),s=new Wy(e,i.Pc),o=s.dl(i.documents),a=Fd.Be(n,r&&"Offline"!==t.onlineState),u=s.Ei(o,t.$l,a),fv(t,n,u.ml),c=new Qy(e,n,s),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function tv(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return n=ql(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!xf(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Sm(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),py(n.gl,r.targetId),lv(n,r.targetId)})).catch(kg)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return lv(n,r.targetId),[4,Sm(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function ev(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Pl.d)(this,(function(a){switch(a.label){case 0:r=xv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ql(t),i=hh.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Nd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=rd(c,n.get(c.key));null!=l&&o.push(new ad(c.key,l,Gh(l.proto.mapValue),Zf.exists(!0)))}return r.Ho.Pi(t,i,o,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new bd(Gl)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,gv(r,i.oi)];case 3:return a.sent(),[4,Ty(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Lp(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function nv(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:n=ql(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,bm(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Hl(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Hl(r.yl):t.Ke.size>0&&(Hl(r.yl),r.yl=!1))})),[4,gv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,kg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function rv(t,e,n){var r=ql(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=ql(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)})),r&&qy(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function iv(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(Pl.d)(this,(function(c){switch(c.label){case 0:return(r=ql(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new bd(yh.J)).Ht(s,new Wh(s,fh.min())),a=Nd().add(s),u=new Md(fh.min(),new Map,new Ed(Gl),o,a),[4,nv(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),pv(r),[3,4];case 2:return[4,Sm(r.Sh,e,!1).then((function(){return lv(r,e,n)})).catch(kg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function sv(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:n=ql(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,ym(n.Sh,e)];case 2:return i=s.sent(),cv(n,r,null),uv(n,r),n.pl.Oa(r,"acknowledged"),[4,gv(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,kg(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function ov(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:r=ql(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=ql(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return Hl(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=s.sent(),cv(r,e,n),uv(r,e),r.pl.Oa(e,"rejected",n),[4,gv(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,kg(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function av(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Pl.d)(this,(function(a){switch(a.label){case 0:by((n=ql(t)).gl)||Vl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ql(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=Lp(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function uv(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function cv(t,e,n){var r=ql(t),i=r.Fl[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function lv(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||hv(t,e)}))}function hv(t,e){var n=t.xl.get(e);null!==n&&(py(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),pv(t))}function fv(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof $y?(t.Ol.sr(s.key,e),dv(t,s)):s instanceof Ky?(Vl("SyncEngine","Document no longer in limbo: "+s.key),t.Ol.rr(s.key,e),t.Ol.ki(s.key)||hv(t,s.key)):Ul()}}function dv(t,e){var n=e.key;t.xl.get(n)||(Vl("SyncEngine","New document in limbo: "+n),t.Cl.push(n),pv(t))}function pv(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Jy(e)),t.xl=t.xl.Ht(e,n),dy(t.gl,new Df(Tf(bf(e.path)),n,2,lh.U))}}function gv(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Pl.d)(this,(function(a){switch(a.label){case 0:return r=ql(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){o.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=fm.cc(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(Pl.d)(this,(function(l){switch(l.label){case 0:n=ql(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Tp.forEach(e,(function(e){return Tp.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return Tp.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!kp(r=l.sent()))throw r;return Vl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}}))}))}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function mv(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return(n=ql(t)).currentUser.isEqual(e)?[3,3]:(Vl("SyncEngine","User change. New user:",e.R()),[4,mm(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new Jl(Ql.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,gv(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function yv(t,e){var n=ql(t),r=n.Nl.get(e);if(r&&r.yl)return Nd().add(r.key);var i=Nd(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function vv(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return[4,Om((n=ql(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&fv(n,e.targetId,i.ml),i)]}}))}))}function bv(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){return[2,Tm((e=ql(t)).Sh).then((function(t){return gv(e,t)}))]}))}))}function _v(t,e,n,r){return Object(Pl.b)(this,void 0,void 0,(function(){var i,s;return Object(Pl.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=ql(t),r=ql(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Tp.resolve(null)}))}))}((i=ql(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ty(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cv(i,e,r||null),uv(i,e),function(t,e){ql(ql(t).Ho).Ni(e)}(i.Sh,e)):Ul(),o.label=4;case 4:return[4,gv(i,s)];case 5:return o.sent(),[3,7];case 6:Vl("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function wv(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Pl.d)(this,(function(c){switch(c.label){case 0:return Iv(n=ql(t)),xv(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Ev(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Py(n.gl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)dy(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):u=u.then((function(){return lv(n,e),Sm(n.Sh,e,!0)})),py(n.gl,e)})),[4,u]);case 4:return c.sent(),[4,Ev(n,a)];case 5:return c.sent(),function(t){var e=ql(t);e.Nl.forEach((function(t,n){py(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new bd(yh.J)}(n),n.Ll=!1,[4,Py(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Ev(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Pl.d)(this,(function(g){switch(g.label){case 0:n=ql(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Dl.get(a=o[s]))&&0!==c.length?[4,Em(n.Sh,Tf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,vv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Cm(n.Sh,a)];case 8:return p=g.sent(),[4,Em(n.Sh,p)];case 9:return u=g.sent(),[4,Xy(n,Sv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Sv(t){return vf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ov(t){var e=ql(t);return ql(ql(e.Sh).persistence).Qo()}function Cv(t,e,n,r){return Object(Pl.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Pl.d)(this,(function(a){switch(a.label){case 0:return(i=ql(t)).Ll?(Vl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tm(i.Sh)];case 3:return s=a.sent(),o=Md.$e(e,"current"===n),[4,gv(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Sm(i.Sh,e,!0)];case 6:return a.sent(),lv(i,e,r),[3,8];case 7:Ul(),a.label=8;case 8:return[2]}}))}))}function Tv(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(Pl.d)(this,(function(f){switch(f.label){case 0:if(!(r=Iv(t)).Ll)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(Vl("SyncEngine","Adding an already active target "+o),[3,5]):[4,Cm(r.Sh,o)]:[3,6];case 2:return a=f.sent(),[4,Em(r.Sh,a)];case 3:return u=f.sent(),[4,Xy(r,Sv(a),u.targetId,!1)];case 4:f.sent(),dy(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Sm(r.Sh,t,!1).then((function(){py(r.gl,t),lv(r,t)})).catch(kg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Iv(t){var e=ql(t);return e.gl.Ch.Bh=nv.bind(null,e),e.gl.Ch.Sn=yv.bind(null,e),e.gl.Ch.$h=iv.bind(null,e),e.vl.uh=Uy.bind(null,e.Vl),e.vl.ql=Hy.bind(null,e.Vl),e}function xv(t){var e=ql(t);return e.gl.Ch.qh=sv.bind(null,e),e.gl.Ch.Uh=ov.bind(null,e),e}var Av=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return this.Kt=ry(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return gm(this.persistence,new dm,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Lm(Fm.ra,this.Kt)},t.prototype.Wl=function(t){return new Qm},t.prototype.terminate=function(){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Pl.c)(e,t),e.prototype.initialize=function(e){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Im(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,xv(this.Xl.fa)];case 4:return n.sent(),[4,Ty(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return gm(this.persistence,new dm,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Wg(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=cm(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?jg.Xs(this.cacheSizeBytes):jg.ei;return new om(this.synchronizeTabs,e,t.clientId,n,t.fs,ey(),ny(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Qm},e}(Av),kv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Pl.c)(e,t),e.prototype.initialize=function(e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Wm?(this.pl.fa={nu:_v.bind(null,n),su:Cv.bind(null,n),iu:Tv.bind(null,n),Qo:Ov.bind(null,n),eu:bv.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(Pl.b)(r,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return[4,wv(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=ey();if(!Wm.jn(e))throw new Jl(Ql.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=cm(t.gu.T,t.gu.persistenceKey);return new Wm(e,t.fs,n,t.clientId,t.Yl)},e}(jv),Nv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n=this;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return rv(n.fa,t,1)},this.gl.Ch.s_=mv.bind(null,this.fa),[4,Py(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Ly},t.prototype.Zl=function(t){var e=ry(t.gu.T),n=new ty(t.gu);return function(t,e,n){return new uy(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return rv(o.fa,t,0)},s=Ym.jn()?new Ym:new Jm,new ly(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Yy(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return e=ql(t),Vl("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,fy(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Pv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Dv=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Cp,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new zy(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t,e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t,e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new mh(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Rv=function(t){this._methodName=t};function Vv(t,e,n){if(!n)throw new Jl(Ql.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Lv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Mv(t,e,n,r){if(!0===e&&!0===r)throw new Jl(Ql.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Fv(t){if(!yh.Et(t))throw new Jl(Ql.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Uv(t){if(yh.Et(t))throw new Jl(Ql.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Hv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ul()}function qv(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Jl(Ql.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hv(t);throw new Jl(Ql.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Bv(t,e){if(e<=0)throw new Jl(Ql.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var zv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Jl(Ql.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Jl(Ql.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Mv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gv=new Map,$v=function(){function t(t,e){this.w_="(lite)",this.E_=new zv({}),this.T_=!1,t instanceof rh?(this.I_=t,this.m_=new oh):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Jl(Ql.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(t.options.projectId)}(t),this.m_=new ah(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Jl(Ql.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Jl(Ql.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new zv(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new oh;switch(t.type){case"gapi":var e=t.client;return Hl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ch(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Jl(Ql.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Gv.get(this))&&(Vl("ComponentProvider","Removing Datastore"),Gv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Kv=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Qv(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Wv=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,bf(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Pl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Kv(this.firestore,null,new yh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Wv);function Jv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Zl&&(t=t._),Vv("collection","path",e),t instanceof $v)return Uv(n=ph.ct.apply(ph,Object(Pl.g)([e],r))),new Qv(t,null,n);if(!(t instanceof Kv||t instanceof Qv))throw new Jl(Ql.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uv(n=ph.ct.apply(ph,Object(Pl.g)([t.path],r)).child(ph.ct(e))),new Qv(t.firestore,null,n)}function Yv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Zl&&(t=t._),1===arguments.length&&(e=zl.t()),Vv("doc","path",e),t instanceof $v)return Fv(n=ph.ct.apply(ph,Object(Pl.g)([e],r))),new Kv(t,null,new yh(n));if(!(t instanceof Kv||t instanceof Qv))throw new Jl(Ql.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fv(n=t.D_.child(ph.ct.apply(ph,Object(Pl.g)([e],r)))),new Kv(t.firestore,t instanceof Qv?t.v_:null,new yh(n))}function Zv(t,e){return t instanceof Zl&&(t=t._),e instanceof Zl&&(e=e._),(t instanceof Kv||t instanceof Qv)&&(e instanceof Kv||e instanceof Qv)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Xv(t,e){return t instanceof Zl&&(t=t._),e instanceof Zl&&(e=e._),t instanceof Wv&&e instanceof Wv&&t.firestore===e.firestore&&xf(t.C_,e.C_)&&t.v_===e.v_}var tb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Jl(Ql.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Jl(Ql.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Gl(this.x_,t.x_)||Gl(this.N_,t.N_)},t}(),eb=/^__.*__$/,nb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new ad(t,this.data,this.zt,e,this.fieldTransforms):new od(t,this.data,e,this.fieldTransforms)},t}(),rb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new ad(t,this.data,this.zt,e,this.fieldTransforms)},t}();function ib(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ul()}}var sb=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Cb(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(ib(this.k_)&&eb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),ob=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||ry(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new sb({k_:t,methodName:e,W_:n,path:mh.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function ab(t){var e=t.p_(),n=ry(t.I_);return new ob(t.I_,!!e.ignoreUndefinedProperties,n)}function ub(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);wb("Data must be an object, but it was:",o,r);var a,u,c=bb(r,o);if(s.merge)a=new wh(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Eb(e,f[h],n);if(!o.contains(d))throw new Jl(Ql.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Tb(l,d)||l.push(d)}a=new wh(l),u=o.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=o.fieldTransforms;return new nb(new Bh(c),a,u)}var cb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Rv);function lb(t,e,n){return new sb({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.z_=function(t){return new Jf(t.path,new qf)},e.prototype.isEqual=function(t){return t instanceof e},e}(Rv),fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Pl.c)(e,t),e.prototype.z_=function(t){var e=lb(this,t,!0),n=this.H_.map((function(t){return vb(t,e)})),r=new Bf(n);return new Jf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rv),db=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Pl.c)(e,t),e.prototype.z_=function(t){var e=lb(this,t,!0),n=this.H_.map((function(t){return vb(t,e)})),r=new Gf(n);return new Jf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rv),pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Pl.c)(e,t),e.prototype.z_=function(t){var e=new Kf(t.Kt,Lf(t.Kt,this.J_));return new Jf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Rv);function gb(t,e,n,r){var i=t.G_(1,e,n);wb("Data must be an object, but it was:",i,r);var s=[],o=new zh;bh(r,(function(t,r){var a=Ob(e,t,n);r instanceof Zl&&(r=r._);var u=i.U_(a);if(r instanceof cb)s.push(a);else{var c=vb(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new wh(s);return new rb(o.yt(),a,i.fieldTransforms)}function mb(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[Eb(e,r,n)],u=[i];if(s.length%2!=0)throw new Jl(Ql.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Eb(e,s[c])),u.push(s[c+1]);for(var l=[],h=new zh,f=a.length-1;f>=0;--f)if(!Tb(l,a[f])){var d=a[f],p=u[f];p instanceof Zl&&(p=p._);var g=o.U_(d);if(p instanceof cb)l.push(d);else{var m=vb(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new wh(l);return new rb(h.yt(),y,o.fieldTransforms)}function yb(t,e,n,r){return void 0===r&&(r=!1),vb(n,t.G_(r?4:3,e))}function vb(t,e){if(t instanceof Zl&&(t=t._),_b(t))return wb("Unsupported field value:",e,t),bb(t,e);if(t instanceof Rv)return function(t,e){if(!ib(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=vb(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Zl&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lf(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hh.fromDate(t);return{timestampValue:Jd(e.Kt,n)}}if(t instanceof hh)return n=new hh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Jd(e.Kt,n)};if(t instanceof tb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yl)return{bytesValue:Yd(e.Kt,t.l)};if(t instanceof Kv){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:tp(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Hv(t))}(t,e)}function bb(t,e){var n={};return _h(t)?e.path&&e.path.length>0&&e.zt.push(e.path):bh(t,(function(t,r){var i=vb(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function _b(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hh||t instanceof tb||t instanceof Yl||t instanceof Kv||t instanceof Rv)}function wb(t,e,n){if(!_b(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Hv(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Eb(t,e,n){if(e instanceof Zl&&(e=e._),e instanceof Dv)return e.d_;if("string"==typeof e)return Ob(t,e);throw Cb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Sb=new RegExp("[~\\*/\\[\\]]");function Ob(t,e,n){if(e.search(Sb)>=0)throw Cb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Dv.bind.apply(Dv,Object(Pl.g)([void 0],e.split("."))))).d_}catch(r){throw Cb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Cb(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Jl(Ql.INVALID_ARGUMENT,(a+=". ")+t+u)}function Tb(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ib=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Jl(Ql.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(Pl.d)(this,(function(u){switch(u.label){case 0:return n=ql(t),r=op(n.Kt)+"/documents",i={documents:e.map((function(t){return np(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Hl(!!e.found);var n=rp(t,e.found.name),r=Xd(e.found.updateTime),i=new Bh({mapValue:{fields:e.found.fields}});return new Kh(n,r,i,{})}(t,e):"missing"in e?function(t,e){Hl(!!e.missing),Hl(!!e.readTime);var n=rp(t,e.missing),r=Xd(e.readTime);return new Wh(n,r)}(t,e):Ul()}(n.Kt,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Hl(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Wh||t instanceof Kh?n.sf(t):Ul()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new pd(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=yh.ft(n);e.mutations.push(new gd(r,e.Gt(r)))})),[4,function(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return n=ql(t),r=op(n.Kt)+"/documents",i={writes:e.map((function(t){return lp(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Kh)e=t.version;else{if(!(t instanceof Wh))throw Ul();e=fh.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Jl(Ql.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Zf.updateTime(e):Zf.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(fh.min()))throw new Jl(Ql.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zf.updateTime(e)}return Zf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),xb=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new iy(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Pl.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Pl.d)(this,(function(r){return t=new Ib(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!xh(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!yd(e)}return!1},t}(),Ab=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=ih.UNAUTHENTICATED,this.clientId=zl.t(),this._f=function(){},this.N=new Cp,this.credentials.S((function(t){Vl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new Jl(Ql.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Cp;return this.fs.Tf((function(){return Object(Pl.b)(t,void 0,void 0,(function(){var t,n;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Lp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function jb(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return t.fs.Af(),Vl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(Pl.b)(i,void 0,void 0,(function(){return Object(Pl.d)(this,(function(t){switch(t.label){case 0:return[4,mm(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function kb(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Nb(t)];case 1:return n=i.sent(),Vl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(Pl.b)(this,void 0,void 0,(function(){var n,r;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return(n=ql(t)).fs.Af(),Vl("RemoteStore","RemoteStore received new credentials"),r=by(n),n.Oh.add(3),[4,fy(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,hy(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Nb(t){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Vl("FirestoreClient","Using default OfflineComponentProvider"),[4,jb(t,new Av)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Pb(t){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Vl("FirestoreClient","Using default OnlineComponentProvider"),[4,kb(t,new Nv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Db(t){return Nb(t).then((function(t){return t.persistence}))}function Rb(t){return Nb(t).then((function(t){return t.Sh}))}function Vb(t){return Pb(t).then((function(t){return t.gl}))}function Lb(t){return Pb(t).then((function(t){return t.fa}))}function Mb(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e,n;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return[4,Pb(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Zy.bind(null,e.fa),n.Jh=tv.bind(null,e.fa),n)]}}))}))}function Fb(t,e,n){var r=this;void 0===n&&(n={});var i=new Cp;return t.fs.ys((function(){return Object(Pl.b)(r,void 0,void 0,(function(){var r;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Pv({next:function(s){e.ys((function(){return Fy(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Jl(Ql.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Jl(Ql.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new By(bf(n.path),s,{includeMetadataChanges:!0,sl:!0});return My(t,o)},[4,Mb(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Ub(t,e,n){var r=this;void 0===n&&(n={});var i=new Cp;return t.fs.ys((function(){return Object(Pl.b)(r,void 0,void 0,(function(){var r;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Pv({next:function(n){e.ys((function(){return Fy(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Jl(Ql.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new By(n,s,{includeMetadataChanges:!0,sl:!0});return My(t,o)},[4,Mb(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Hb=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new iy(this,"async_queue_retry"),this.vf=function(){var e=ny();e&&Vl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=ny();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=ny();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!kp(t=n.sent()))throw t;return Vl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Ll("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Vp.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ul()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Pl.b)(this,void 0,void 0,(function(){var t;return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),qb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Hb,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Pl.c)(e,t),e.prototype.b_=function(){return this.Lf||zb(this),this.Lf.terminate()},e}($v);function Bb(t){return t.Lf||zb(t),t.Lf.df(),t.Lf}function zb(t){var e=t.p_(),n=function(t,e,n){return new nh(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Ab(t.m_,t.Mf,n)}function Gb(t,e,n){var r=this,i=new Cp;return t.fs.enqueue((function(){return Object(Pl.b)(r,void 0,void 0,(function(){var r;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,jb(t,n)];case 1:return s.sent(),[4,kb(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ql.FAILED_PRECONDITION||t.code===Ql.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function $b(t){if(t.R_||t.P_)throw new Jl(Ql.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kb=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),kh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oh(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Ch(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw Ul()}},t.prototype.Wf=function(t,e){var n=this,r={};return bh(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new tb(Oh(t.latitude),Oh(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Th(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Ih(t));default:return null}},t.prototype.Bf=function(t){var e=Sh(t);return new hh(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=ph.ct(t);Hl(Op(n));var r=new rh(n.get(1),n.get(3)),i=new yh(n.X(5));return r.isEqual(e)||Ll("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Wb=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Kv(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Qb(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Jb("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Wb);function Jb(t,e){return"string"==typeof e?Ob(t,e):e instanceof Zl?e._.d_:e.d_}function Yb(t){if(wf(t)&&0===t.Nt.length)throw new Jl(Ql.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zb=function(){};function Xb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var t_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Pl.c)(e,t),e.prototype.Yf=function(t){var e=ab(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){a_(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(o_(r,t,l[c]));a={arrayValue:{values:u}}}else a=o_(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||a_(o,s),a=yb(n,"where",o,"in"===s||"not-in"===s);var h=ef.create(i,s,a);return function(t,e){if(e.xt()){var n=Sf(t);if(null!==n&&!n.isEqual(e.field))throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ef(t);null!==r&&u_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Jl(Ql.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Wv(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new yf(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Zb),e_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Pl.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new df(e,n);return function(t,e){if(null===Ef(t)){var n=Sf(t);null!==n&&u_(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Wv(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new yf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Zb),n_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Pl.c)(e,t),e.prototype.Yf=function(t){return new Wv(t.firestore,t.v_,If(t.C_,this.nd,this.sd))},e}(Zb),r_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Pl.c)(e,t),e.prototype.Yf=function(t){var e=s_(t,this.type,this.rd,this.od);return new Wv(t.firestore,t.v_,function(t,e){return new yf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Zb),i_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Pl.c)(e,t),e.prototype.Yf=function(t){var e=s_(t,this.type,this.rd,this.od);return new Wv(t.firestore,t.v_,function(t,e){return new yf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Zb);function s_(t,e,n,r){if(n[0]instanceof Zl&&(n[0]=n[0]._),n[0]instanceof Wb)return function(t,e,n,r,i){if(!r)throw new Jl(Ql.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Cf(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(Lh(e,r.key));else{var c=r.field(u.field);if(Th(c))throw new Jl(Ql.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new hf(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=ab(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new Jl(Ql.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ht()){if("string"!=typeof c)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Of(t)&&-1!==c.indexOf("/"))throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ph.ct(c));if(!yh.Et(l))throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new yh(l);a.push(Lh(e,h))}else{var f=yb(n,r,c);a.push(f)}}return new hf(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function o_(t,e,n){if(n instanceof Zl&&(n=n._),"string"==typeof n){if(""===n)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Of(e)&&-1!==n.indexOf("/"))throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ph.ct(n));if(!yh.Et(r))throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Lh(t,new yh(r))}if(n instanceof Kv)return Lh(t,n.S_);throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hv(n)+".")}function a_(t,e){if(!Array.isArray(t)||0===t.length)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function u_(t,e,n){if(!n.isEqual(e))throw new Jl(Ql.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function c_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function l_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var h_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pl.c)(e,t),e.prototype.Uf=function(t){return new Yl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Kv(this.firestore,null,e)},e}(Kb),f_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),d_=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(Pl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new p_(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Jb("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Wb),p_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(d_),g_=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new f_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new p_(n.zf,n.Hf,r.key,r,new f_(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Jl(Ql.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new p_(t.zf,t.Hf,e.doc.key,e.doc,new f_(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new p_(t.zf,t.Hf,e.doc.key,e.doc,new f_(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:m_(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.ld=e),this.hd},t}();function m_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ul()}}function y_(t,e){return t instanceof d_&&e instanceof d_?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof g_&&e instanceof g_&&t.zf===e.zf&&Xv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var v_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pl.c)(e,t),e.prototype.Uf=function(t){return new Yl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Kv(this.firestore,null,e)},e}(Kb);function b_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=qv(t,Kv);var s=qv(t.firestore,qb),o=ab(s);return e instanceof Zl&&(e=e._),w_(s,[("string"==typeof e||e instanceof Dv?mb(o,"updateDoc",t.S_,e,n,r):gb(o,"updateDoc",t.S_,e)).O_(t.S_,Zf.exists(!0))])}function __(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Zl&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||c_(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(c_(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Kv)c=qv(t.firestore,qb),l=bf(t.S_.path),u={next:function(e){i[a]&&i[a](E_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=qv(t,Wv);c=qv(d.firestore,qb),l=d.C_;var p=new v_(c);u={next:function(t){i[a]&&i[a](new g_(c,p,d,t))},error:i[a+1],complete:i[a+2]},Yb(t.C_)}return function(t,e,n,r){var i=this,s=new Pv(r),o=new By(e,s,n);return t.fs.ys((function(){return Object(Pl.b)(i,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return e=My,[4,Mb(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.fs.ys((function(){return Object(Pl.b)(i,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return e=Fy,[4,Mb(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(Bb(c),l,h,u)}function w_(t,e){return function(t,e){var n=this,r=new Cp;return t.fs.ys((function(){return Object(Pl.b)(n,void 0,void 0,(function(){var n;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return n=ev,[4,Lb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Bb(t),e)}function E_(t,e,n){var r=n.docs.get(e.S_),i=new v_(t);return new d_(t,i,e.S_,r,new f_(n.hasPendingWrites,n.fromCache),e.v_)}var S_=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=ab(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=O_(t,this.zf),i=l_(r.v_,e,n),s=ub(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.O_(r.S_,Zf.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=O_(t,this.zf);return e instanceof Zl&&(e=e._),s="string"==typeof e||e instanceof Dv?mb(this.wd,"WriteBatch.update",o.S_,e,n,r):gb(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.O_(o.S_,Zf.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=O_(t,this.zf);return this.fd=this.fd.concat(new pd(e.S_,Zf.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Jl(Ql.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function O_(t,e){if(t instanceof Zl&&(t=t._),t.firestore!==e)throw new Jl(Ql.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var C_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Pl.c)(e,t),e.prototype.get=function(e){var n=this,r=O_(e,this.zf),i=new v_(this.zf);return t.prototype.get.call(this,e).then((function(t){return new d_(n.zf,i,r.S_,t.Jf,new f_(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=ab(t)}return t.prototype.get=function(t){var e=this,n=O_(t,this.zf),r=new h_(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Ul();var i=t[0];if(i instanceof Wh)return new Wb(e.zf,r,n.S_,null,n.v_);if(i instanceof Kh)return new Wb(e.zf,r,i.key,i,n.v_);throw Ul()}))},t.prototype.set=function(t,e,n){var r=O_(t,this.zf),i=l_(r.v_,e,n),s=ub(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=O_(t,this.zf);return e instanceof Zl&&(e=e._),s="string"==typeof e||e instanceof Dv?mb(this.wd,"Transaction.update",o.S_,e,n,r):gb(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=O_(t,this.zf);return this.Td.delete(e.S_),this},t}()),T_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){$b(t=qv(t,qb));var n=Bb(t),r=t.p_(),i=new Nv;return Gb(n,i,new jv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){$b(t=qv(t,qb));var e=Bb(t),n=t.p_(),r=new Nv;return Gb(e,r,new kv(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Jl(Ql.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Cp;return t.Mf.Tf((function(){return Object(Pl.b)(e,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Pl.b)(this,void 0,void 0,(function(){return Object(Pl.d)(this,(function(e){switch(e.label){case 0:return xp.jn()?[4,xp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(cm(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),I_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof rh||(i.md=e),i}return Object(Pl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=qv(t,$v)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ml("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Pl.b)(e,void 0,void 0,(function(){var e,n;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return[4,Db(t)];case 1:return e=r.sent(),[4,Vb(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=ql(t);return e.Oh.delete(0),hy(e)}(n))]}}))}))}))}(Bb(qv(this._,qb)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Pl.b)(e,void 0,void 0,(function(){var e,n;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return[4,Db(t)];case 1:return e=r.sent(),[4,Vb(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Pl.b)(this,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return(e=ql(t)).Oh.add(0),[4,fy(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Bb(qv(this._,qb)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Mv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Cp;return t.fs.ys((function(){return Object(Pl.b)(e,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(r){switch(r.label){case 0:return e=av,[4,Lb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Bb(qv(this._,qb)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Pv(e);return t.fs.ys((function(){return Object(Pl.b)(n,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ql(t).Wh.add(e),e.next()},[4,Mb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(Pl.b)(n,void 0,void 0,(function(){var e;return Object(Pl.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ql(t).Wh.delete(e)},[4,Mb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Bb(t=qv(t,qb)),c_(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Jl(Ql.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new U_(this,Jv(this._,t))}catch(t){throw N_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new k_(this,Yv(this._,t))}catch(t){throw N_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new L_(this,function(t,e){if(t=qv(t,$v),Vv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wv(t,null,function(t){return new yf(ph.at(),t)}(e))}(this._,t))}catch(t){throw N_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Cp;return t.fs.ys((function(){return Object(Pl.b)(n,void 0,void 0,(function(){var n;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Pb(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new xb(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Bb(t),(function(n){return e(new C_(t,n))}))}(this._,(function(n){return t(new A_(e,n))}))},e.prototype.batch=function(){var t=this;return Bb(this._),new j_(new S_(this._,(function(e){return w_(t._,e)})))},e.prototype.loadBundle=function(t){throw new Jl(Ql.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Jl(Ql.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Zl),x_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pl.c)(e,t),e.prototype.Uf=function(t){return new eh(new Yl(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return k_.Ad(e,this.firestore,null)},e}(Kb),A_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new x_(e),r}return Object(Pl.c)(e,t),e.prototype.get=function(t){var e=this,n=H_(t);return this._.get(n).then((function(t){return new R_(e.zf,new d_(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=H_(t);return n?(Lv("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=H_(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Pl.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=H_(t);return this._.delete(e),this},e}(Zl),j_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.set=function(t,e,n){var r=H_(t);return n?(Lv("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=H_(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Pl.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=H_(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Zl),k_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new x_(e),r}return Object(Pl.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Jl(Ql.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Kv(n._,r,new yh(t)))},e.Ad=function(t,n,r){return new e(n,new Kv(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new U_(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new U_(this.firestore,Jv(this._,t))}catch(t){throw N_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Zl&&(t=t._),t instanceof Kv&&Zv(this._,t)},e.prototype.set=function(t,e){e=Lv("DocumentReference.set",e);try{return function(t,e,n){t=qv(t,Kv);var r=qv(t.firestore,qb),i=l_(t.v_,e,n);return w_(r,[ub(ab(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Zf.jt())])}(this._,t,e)}catch(t){throw N_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?b_(this._,t):b_.apply(void 0,Object(Pl.g)([this._,t,e],n))}catch(t){throw N_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return w_(qv((t=this._).firestore,qb),[new pd(t.S_,Zf.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=P_(e),i=D_(e,(function(e){return new R_(t.firestore,new d_(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return __(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qv(t,Kv);var e=qv(t.firestore,qb),n=Bb(e),r=new v_(e);return function(t,e){var n=this,r=new Cp;return t.fs.ys((function(){return Object(Pl.b)(n,void 0,void 0,(function(){var n;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i;return Object(Pl.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=ql(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=s.sent())instanceof Kh?n.resolve(i):i instanceof Wh?n.resolve(null):n.reject(new Jl(Ql.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Lp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Rb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new d_(e,r,t.S_,n,new f_(n instanceof Kh&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=qv(t,Kv);var e=qv(t.firestore,qb);return Fb(Bb(e),t.S_,{source:"server"}).then((function(n){return E_(e,t,n)}))}(this._):function(t){t=qv(t,Kv);var e=qv(t.firestore,qb);return Fb(Bb(e),t.S_).then((function(n){return E_(e,t,n)}))}(this._)).then((function(t){return new R_(e.firestore,new d_(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Zl);function N_(t,e,n){return t.message=t.message.replace(e,n),t}function P_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!c_(r))return r}return{}}function D_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=c_(t[0])?t[0]:c_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var R_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Pl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new k_(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return y_(this._,t._)},e}(Zl),V_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(R_),L_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new x_(e),r}return Object(Pl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Xb(this._,function(t,e,n){var r=e,i=Jb("where",t);return new t_(i,r,n)}(t,n,r)))}catch(t){throw N_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Xb(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Jb("orderBy",t);return new e_(r,n)}(t,n)))}catch(t){throw N_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Xb(this._,function(t){return Bv("limit",t),new n_("limit",t,"F")}(t)))}catch(t){throw N_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Xb(this._,function(t){return Bv("limitToLast",t),new n_("limitToLast",t,"L")}(t)))}catch(t){throw N_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new r_("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw N_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new r_("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw N_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new i_("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw N_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new i_("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw N_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Xv(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qv(t,Wv);var e=qv(t.firestore,qb),n=Bb(e),r=new v_(e);return function(t,e){var n=this,r=new Cp;return t.fs.ys((function(){return Object(Pl.b)(n,void 0,void 0,(function(){var n;return Object(Pl.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Pl.b)(this,void 0,void 0,(function(){var r,i,s,o,a;return Object(Pl.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Om(t,e,!0)];case 1:return a=u.sent(),r=new Wy(e,a.Pc),i=r.dl(a.documents),s=r.Ei(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Lp(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Rb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new g_(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=qv(t,Wv);var e=qv(t.firestore,qb),n=Bb(e),r=new v_(e);return Ub(n,t.C_,{source:"server"}).then((function(n){return new g_(e,r,t,n)}))}(this._):function(t){t=qv(t,Wv);var e=qv(t.firestore,qb),n=Bb(e),r=new v_(e);return Yb(t.C_),Ub(n,t.C_).then((function(n){return new g_(e,r,t,n)}))}(this._)).then((function(t){return new F_(e.firestore,new g_(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=P_(e),i=D_(e,(function(e){return new F_(t.firestore,new g_(t.firestore._,t.Hf,t._,e.ud))}));return __(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Zl),M_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Pl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new V_(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Zl),F_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Pl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new L_(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new V_(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new M_(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new V_(n.zf,r))}))},e.prototype.isEqual=function(t){return y_(this._,t._)},e}(Zl),U_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Pl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new k_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new k_(this.firestore,void 0===t?Yv(this._):Yv(this._,t))}catch(t){throw N_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=qv(t.firestore,qb),r=Yv(t),i=l_(t.v_,e);return w_(n,[ub(ab(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Zf.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new k_(e.firestore,t)}))},e.prototype.isEqual=function(t){return Zv(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(L_);function H_(t){return t instanceof Zl&&(t=t._),qv(t,Kv)}var q_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Dv.bind.apply(Dv,Object(Pl.g)([void 0],e))))||this}return Object(Pl.c)(e,t),e.documentId=function(){return new e(mh.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Zl&&(t=t._),t instanceof Dv&&this._.d_.isEqual(t.d_)},e}(Zl),B_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pl.c)(e,t),e.serverTimestamp=function(){var t=new hb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new cb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new db("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new pb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Zl);!function(){function t(){this.Pd={},this.yd=new Cp,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var z_,G_=n("/6Yf"),$_={Firestore:I_,GeoPoint:tb,Timestamp:hh,Blob:eh,Transaction:A_,WriteBatch:j_,DocumentReference:k_,DocumentSnapshot:R_,Query:L_,QueryDocumentSnapshot:V_,QuerySnapshot:F_,CollectionReference:U_,FieldPath:q_,FieldValue:B_,setLogLevel:function(t){Dl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function K_(t,e){return function(t,e=Oo.b){return new se.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function W_(t,e){return K_(t,e).pipe(Object(pe.a)(t=>({payload:t,type:"query"})))}function Q_(t,e){return W_(t,e).pipe(Ue(void 0),Co(),Object(pe.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function J_(t,e,n){return Q_(t,n).pipe(He((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Y_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Y_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Y_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new xo(void 0,void 0)),Object(pe.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Y_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Z_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new G_.a("firestore",(function(t){return function(t,e){return new I_(t,new qb(t,e),new T_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},$_)))})(z_=ko.a),z_.registerVersion("@firebase/firestore","2.1.2");class X_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Q_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(pe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ue(void 0),Co(),ye(([t,e])=>e.length>0||!t),Object(pe.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(He((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Z_(t);return J_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return W_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Qt.a)(this.query.get(t)).pipe(Object(so.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new tw(this.ref.doc(t),this.afs)}}class tw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ow(n,e);return new X_(r,i,this.afs)}snapshotChanges(){return K_(this.ref,this.afs.schedulers.outsideAngular).pipe(Ue(void 0),Co(),Object(pe.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(pe.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Qt.a)(this.ref.get(t)).pipe(Object(so.b)(this.afs.schedulers.insideAngular))}}class ew{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Q_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ye(t=>t.length>0),this.afs.keepUnstableUntilFirst):Q_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(He((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Z_(t);return J_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return W_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Qt.a)(this.query.get(t)).pipe(Object(so.b)(this.afs.schedulers.insideAngular))}}const nw=new r.r("angularfire2.enableFirestorePersistence"),rw=new r.r("angularfire2.firestore.persistenceSettings"),iw=new r.r("angularfire2.firestore.settings"),sw=new r.r("angularfire2.firestore.use-emulator");function ow(t,e=(t=>t)){return{query:e(t),ref:t}}let aw=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new po.d(s),this.keepUnstableUntilFirst=Object(po.h)(this.schedulers);const c=Object(po.g)(t,s,e);!jo.a.auth&&u&&Object(po.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(po.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!gt(i)){const e=()=>{try{return Object(Qt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(z_){return"undefined"!=typeof console&&console.warn(z_),Object(Wt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Wt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ow(n,e),s=this.schedulers.ngZone.run(()=>r);return new X_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ew(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new tw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(po.c),r.Vb(po.b,8),r.Vb(nw,8),r.Vb(iw,8),r.Vb(r.C),r.Vb(r.A),r.Vb(rw,8),r.Vb(sw,8),r.Vb(go,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(po.c),Object(r.Vb)(po.b,8),Object(r.Vb)(nw,8),Object(r.Vb)(iw,8),Object(r.Vb)(r.C),Object(r.Vb)(r.A),Object(r.Vb)(rw,8),Object(r.Vb)(sw,8),Object(r.Vb)(go,8))},token:t,providedIn:"any"}),t})(),uw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:nw,useValue:!0},{provide:rw,useValue:e}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[aw]}),t})(),cw=(()=>{class t{constructor(t,e){this.db=t,this.validacio=e}crearMissatge(t){this.db.collection("missatges").add({missatge:t,dataCreacio:new Date,email:this.validacio.obtenirEmail})}llegirMissatge(){return this.db.collection("missatges",t=>t.orderBy("dataCreacio","desc")).snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(aw),r.Vb(So))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lw(t,e){if(1&t&&(r.Rb(0,"div",6),r.rc(1),r.Qb()),2&t){const t=r.bc().$implicit;r.Bb(1),r.uc(" ",t.payload.doc.data().email," - ",t.payload.doc.data().missatge," ")}}function hw(t,e){if(1&t&&(r.Rb(0,"div",7),r.rc(1),r.Qb()),2&t){const t=r.bc().$implicit;r.Bb(1),r.uc(" ",t.payload.doc.data().email," - ",t.payload.doc.data().missatge," ")}}function fw(t,e){if(1&t&&(r.Rb(0,"div"),r.qc(1,lw,2,2,"div",4),r.qc(2,hw,2,2,"div",5),r.Qb()),2&t){const t=e.$implicit,n=r.bc();r.Bb(1),r.gc("ngIf",t.payload.doc.data().email===n.emailActual),r.Bb(1),r.gc("ngIf",t.payload.doc.data().email!==n.emailActual)}}const dw=[{path:"",pathMatch:"full",redirectTo:"/login"},{path:"login",component:(()=>{class t{constructor(t,e,n){this.fb=t,this.validacio=e,this.serveiDades=n,this.crearFormulari()}ngOnInit(){this.validacio.desvalidarUsuari()}crearFormulari(){this.loginForm=this.fb.group({email:["",[os.required,os.email]],password:["",[os.required,os.minLength(6)]]})}submit(){const{email:t,password:e}=this.loginForm.value;this.validacio.validarUsuari(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(eo),r.Lb(So),r.Lb(cw))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-login"]],decls:14,vars:2,consts:[[1,"container-wrapper","container","d-flex","justify-content-center","align-items-center"],[1,"form-marges","text-center"],["role","alert",1,"alert","alert-primary"],[3,"formGroup","submit"],[1,"form-group"],["type","email","id","email-input","placeholder","Entra Email","formControlName","email",1,"form-control"],["type","password","id","password-input","placeholder","Entra la contrassenya","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/signup"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.rc(3," Validaci\xf3 "),r.Qb(),r.Rb(4,"form",3),r.Yb("submit",(function(){return e.submit()})),r.Rb(5,"div",4),r.Mb(6,"input",5),r.Qb(),r.Rb(7,"div",4),r.Mb(8,"input",6),r.Qb(),r.Rb(9,"button",7),r.rc(10,"Validar credencials"),r.Qb(),r.Qb(),r.Rb(11,"small"),r.Rb(12,"a",8),r.rc(13,"Crear un compte nou"),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Bb(4),r.gc("formGroup",e.loginForm),r.Bb(5),r.gc("disabled",!e.loginForm.valid))},directives:[Ws,ts,Ys,Ki,Xi,Xs,bi],styles:[""]}),t})()},{path:"signup",component:(()=>{class t{constructor(t,e,n){this.fb=t,this.validacio=e,this.serveiDades=n,this.crearFormulari()}ngOnInit(){}crearFormulari(){this.signupForm=this.fb.group({email:["",[os.required,os.email]],password:["",[os.required,os.minLength(6)]],password2:["",[os.required,os.minLength(6)]],nom:["",[os.required]],cognom:["",[os.required]]})}submit(){const{email:t,password:e,password2:n}=this.signupForm.value;e==n?this.validacio.afegirUsuari(t,e):alert("Les contrassenyes no coincideixen, torna-ho a intentar")}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(eo),r.Lb(So),r.Lb(cw))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-signup"]],decls:19,vars:2,consts:[[1,"container-wrapper","container","d-flex","justify-content-center","align-items-center"],[1,"form-marges","text-center"],["role","alert",1,"alert","alert-primary"],[3,"formGroup","submit"],[1,"form-group"],["type","nom","id","nom-input","placeholder","Escriu el nom","formControlName","nom",1,"form-control"],["type","cognom","id","cognom-input","placeholder","Escriu el cognom","formControlName","cognom",1,"form-control"],["type","email","id","email-input","placeholder","Entra Email","formControlName","email",1,"form-control"],["type","password","id","password-input","placeholder","Entra la contrassenya","formControlName","password",1,"form-control"],["type","password","id","password-input","placeholder","Torna a entrar la contrassenya","formControlName","password2",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/login"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.rc(3," Alta Usuari "),r.Qb(),r.Rb(4,"form",3),r.Yb("submit",(function(){return e.submit()})),r.Rb(5,"div",4),r.Mb(6,"input",5),r.Mb(7,"input",6),r.Qb(),r.Rb(8,"div",4),r.Mb(9,"input",7),r.Qb(),r.Rb(10,"div",4),r.Mb(11,"input",8),r.Qb(),r.Rb(12,"div",4),r.Mb(13,"input",9),r.Qb(),r.Rb(14,"button",10),r.rc(15,"Validar credencials"),r.Qb(),r.Qb(),r.Rb(16,"small"),r.Rb(17,"a",11),r.rc(18,"Ja tinc una conta creada"),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Bb(4),r.gc("formGroup",e.signupForm),r.Bb(10),r.gc("disabled",!e.signupForm.valid))},directives:[Ws,ts,Ys,Ki,Xi,Xs,bi],styles:[""]}),t})()},{path:"xat",component:(()=>{class t{constructor(t,e){this.dades=t,this.usuaris=e,this.taulaMissatges=[],e.usuariValidat.subscribe(t=>{t&&(e.obtenirEmail=t.email,this.emailActual=t.email)}),t.llegirMissatge().subscribe(t=>{this.taulaMissatges=t})}ngOnInit(){}guardarMissatge(){this.dades.crearMissatge(this.missatgeEntrat)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(cw),r.Lb(So))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-xat"]],decls:5,vars:2,consts:[[1,"input-group","mb-3"],["type","text","placeholder","Escriu el teu missatge","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[4,"ngFor","ngForOf"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","alert",1,"alert","alert-primary"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"input",1),r.Yb("ngModelChange",(function(t){return e.missatgeEntrat=t})),r.Qb(),r.Rb(2,"button",2),r.Yb("click",(function(){return e.guardarMissatge()})),r.rc(3,"Enviar"),r.Qb(),r.Qb(),r.qc(4,fw,3,2,"div",3)),2&t&&(r.Bb(1),r.gc("ngModel",e.missatgeEntrat),r.Bb(3),r.gc("ngForOf",e.taulaMissatges))},directives:[Ki,Xi,Ks,nt,it],styles:[""]}),t})()},{path:"**",redirectTo:"/login"}];let pw=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[ki.forRoot(dw)],ki]}),t})();function gw(t,e){1&t&&(r.Rb(0,"a",7),r.rc(1,"Validaci\xf3"),r.Qb())}function mw(t,e){1&t&&(r.Rb(0,"a",8),r.rc(1,"Alta Usuari"),r.Qb())}function yw(t,e){1&t&&(r.Rb(0,"a",7),r.rc(1,"Sortir"),r.Qb())}let vw=(()=>{class t{constructor(t){this.validacio=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(So))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-menu"]],decls:15,vars:12,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"navbar-brand"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["class","nav-link","routerLink","/login",4,"ngIf"],["class","nav-link","routerLink","/signup",4,"ngIf"],["routerLink","/login",1,"nav-link"],["routerLink","/signup",1,"nav-link"]],template:function(t,e){var n;1&t&&(r.Rb(0,"nav",0),r.Rb(1,"a",1),r.rc(2),r.cc(3,"async"),r.Qb(),r.Rb(4,"div",2),r.Rb(5,"ul",3),r.Rb(6,"li",4),r.qc(7,gw,2,0,"a",5),r.cc(8,"async"),r.Qb(),r.Rb(9,"li",4),r.qc(10,mw,2,0,"a",6),r.cc(11,"async"),r.Qb(),r.Rb(12,"li",4),r.qc(13,yw,2,0,"a",5),r.cc(14,"async"),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Bb(2),r.tc("USUARI: ",null==(n=r.dc(3,4,e.validacio.usuariValidat))?null:n.email,""),r.Bb(5),r.gc("ngIf",!r.dc(8,6,e.validacio.usuariValidat)),r.Bb(3),r.gc("ngIf",!r.dc(11,8,e.validacio.usuariValidat)),r.Bb(3),r.gc("ngIf",r.dc(14,10,e.validacio.usuariValidat)))},directives:[it,bi],pipes:[ft],styles:[""]}),t})(),bw=(()=>{class t{constructor(t){this.serveiDades=t,this.title="xat"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(cw))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Mb(0,"app-menu"),r.Rb(1,"div",0),r.Mb(2,"router-outlet"),r.Qb())},directives:[vw,wi],styles:[".container[_ngcontent-%COMP%]{padding:20px}"]}),t})();class _w{}const ww="*";function Ew(t,e=null){return{type:2,steps:t,options:e}}function Sw(t){return{type:6,styles:t,offset:null}}function Ow(t){Promise.resolve(null).then(t)}class Cw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ow(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Tw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ow(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Iw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xw(t){switch(t.length){case 0:return new Cw;case 1:return t[0];default:return new Tw(t)}}function Aw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case ww:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function jw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&kw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&kw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&kw(n,"destroy",t)))}}function kw(t,e,n){const r=n.totalTime,i=Nw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Nw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Pw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Dw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Rw=(t,e)=>!1,Vw=(t,e)=>!1,Lw=(t,e,n)=>[];const Mw=Iw();(Mw||"undefined"!=typeof Element)&&(Rw=(t,e)=>t.contains(e),Vw=(()=>{if(Mw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Vw}})(),Lw=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Fw=null,Uw=!1;function Hw(t){Fw||(Fw=("undefined"!=typeof document?document.body:null)||{},Uw=!!Fw.style&&"WebkitAppearance"in Fw.style);let e=!0;return Fw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Fw.style,!e&&Uw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Fw.style),e}const qw=Vw,Bw=Rw,zw=Lw;function Gw(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let $w=(()=>{class t{validateStyleProperty(t){return Hw(t)}matchesElement(t,e){return qw(t,e)}containsElement(t,e){return Bw(t,e)}query(t,e,n){return zw(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Cw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Kw=(()=>{class t{}return t.NOOP=new $w,t})();const Ww="ng-enter",Qw="ng-leave",Jw="ng-trigger",Yw=".ng-trigger",Zw="ng-animating",Xw=".ng-animating";function tE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eE(parseFloat(e[1]),e[2])}function eE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function nE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=eE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=eE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function rE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function iE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else rE(t,n);return n}function sE(t,e,n){return n?e+":"+n+";":""}function oE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=sE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=sE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function aE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=gE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Iw()&&oE(t))}function uE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=gE(e);t.style[n]=""}),Iw()&&oE(t))}function cE(t){return Array.isArray(t)?1==t.length?t[0]:Ew(t):t}const lE=new RegExp("{{\\s*(.+?)\\s*}}","g");function hE(t){let e=[];if("string"==typeof t){let n;for(;n=lE.exec(t);)e.push(n[1]);lE.lastIndex=0}return e}function fE(t,e,n){const r=t.toString(),i=r.replace(lE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function dE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const pE=/-+([a-z0-9])/g;function gE(t){return t.replace(pE,(...t)=>t[1].toUpperCase())}function mE(t,e){return 0===t||0===e}function yE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=bE(t,e)}))}}return e}function vE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function bE(t,e){return window.getComputedStyle(t)[e]}const _E="*";function wE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(OE(i,o)),"<"!=s[0]||i==_E&&o==_E||e.push(OE(o,i))}(t,n,e)):n.push(t),n}const EE=new Set(["true","1"]),SE=new Set(["false","0"]);function OE(t,e){const n=EE.has(t)||SE.has(t),r=EE.has(e)||SE.has(e);return(i,s)=>{let o=t==_E||t==i,a=e==_E||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?EE.has(t):SE.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?EE.has(e):SE.has(e)),o&&a}}const CE=new RegExp("s*:selfs*,?","g");function TE(t,e,n){return new IE(t).build(e,n)}class IE{constructor(t){this._driver=t}build(t,e){const n=new xE(e);return this._resetContextStyleTimingState(n),vE(this,cE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(AE(t)){const e=t;Object.keys(e).forEach(t=>{hE(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=dE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=vE(this,cE(t.animation),e);return{type:1,matchers:wE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:jE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>vE(this,t,e)),options:jE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=vE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:jE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return kE(nE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=kE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||nE(r,e),kE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Sw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Sw(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==ww?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(AE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=hE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(AE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(AE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:vE(this,cE(t.animation),e),options:jE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(CE,"")),[t=t.replace(/@\*/g,Yw).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Xw),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Pw(e.collectedStyles,e.currentQuerySelector,{});const o=vE(this,cE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:jE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:nE(t.timings,e.errors,!0);return{type:12,animation:vE(this,cE(t.animation),e),timings:n,options:null}}}class xE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function AE(t){return!Array.isArray(t)&&"object"==typeof t}function jE(t){var e;return t?(t=rE(t)).params&&(t.params=(e=t.params)?rE(e):null):t={},t}function kE(t,e,n){return{duration:t,delay:e,easing:n}}function NE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class PE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const DE=new RegExp(":enter","g"),RE=new RegExp(":leave","g");function VE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new LE).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class LE{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new PE;const l=new FE(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),vE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[NE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?tE(n.duration):null,s=null!=n.delay?tE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),vE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ME);const t=tE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>vE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?tE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),vE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return nE(e.params?fE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?tE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ME);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),vE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;vE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const ME={};class FE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ME,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new UE(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=tE(n.duration)),null!=n.delay&&(r.delay=tE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=fE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new FE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ME,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new HE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(DE,"."+this._enterClassName)).replace(RE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class UE{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new UE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ww,this._currentKeyframe[t]=ww}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=ww})):iE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=fE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:ww),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=iE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==ww&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?dE(t.values()):[],s=e.size?dE(e.values()):[];if(n){const t=r[0],e=rE(t);t.offset=0,e.offset=1,r=[t,e]}return NE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class HE extends UE{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=iE(t[0],!1);a.offset=0,i.push(a);const u=iE(t[0],!1);u.offset=qE(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=iE(t[r],!1);o.offset=qE((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return NE(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function qE(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class BE{}class zE extends BE{normalizePropertyName(t,e){return gE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(GE[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const GE=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $E(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const KE={};class WE{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||KE,f=this.buildStyles(n,o&&o.params||KE,l),d=a&&a.params||KE,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:VE(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return $E(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=Pw(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Pw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=dE(g.values());return $E(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class QE{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=rE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=fE(s,r,e)),n[t]=s})}}),n}}class JE{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new QE(t.style,t.options&&t.options.params||{})}),YE(this.states,"true","1"),YE(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new WE(t,e,this.states))}),this.fallbackTransition=new WE(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function YE(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ZE=new PE;class XE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=TE(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Aw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=VE(this._driver,e,i,Ww,Qw,{},{},n,ZE,r),s.forEach(t=>{const e=Pw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,ww)})});const a=xw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Nw(e,"","","");return jw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const tS="ng-animate-queued",eS="ng-animate-disabled",nS=".ng-animate-disabled",rS=[],iS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class oS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=rE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const aS="void",uS=new oS(aS);class cS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,mS(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Pw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Pw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(mS(t,Jw),mS(t,"ng-trigger-"+e),a[e]=uS),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new hS(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(mS(t,Jw),mS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new oS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=uS),u.value!==aS&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{uE(t,n),aE(t,r)})}return}const c=Pw(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(mS(t,tS),s.onStart(()=>{yS(t,tS)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Yw,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,aS,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&xw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||uS,o=new oS(aS),a=new hS(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==iS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){mS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Nw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,jw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class lS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new cS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(fS(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!fS(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),mS(t,eS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),yS(t,eS))}removeNode(t,e,n,r){if(fS(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return fS(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Yw,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Xw,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=iS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,nS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,nS,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)mS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?xw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new PE,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=gS(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=Ww+p++;d.set(e,n),t.forEach(t=>mS(t,n))});const g=[],m=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const t=this.collectedLeaveElements[j],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=gS(h,Array.from(m));b.forEach((t,e)=>{const n=Qw+p++;v.set(e,n),t.forEach(t=>mS(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>yS(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>yS(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>uE(i,p.fromStyles)),e.onDestroy(()=>aE(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>uE(i,p.fromStyles)),e.onDestroy(()=>aE(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Pw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Pw(E,e,[]).push(t),t.destroy()})});const O=g.filter(t=>bS(t,a,u)),C=new Map;pS(C,this.driver,y,u,ww).forEach(t=>{bS(t,a,u)&&O.push(t)});const T=new Map;f.forEach((t,e)=>{pS(T,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=C.get(t),n=T.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>aE(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,T,C);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=xw(e)),r.push(s)}}else uE(e,o.fromStyles),s.onDestroy(()=>aE(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=xw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let j=0;j<g.length;j++){const t=g[j],e=t.__ng_removed;if(yS(t,Qw),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Xw,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?vS(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==aS;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Pw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}uE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Cw(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Tw?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||rS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Aw(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new hS(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Pw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>mS(t,Zw));const f=xw(h);return f.onDestroy(()=>{c.forEach(t=>yS(t,Zw)),aE(a,e.toStyles)}),l.forEach(t=>{Pw(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Cw(t.duration,t.delay)}}class hS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Cw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>jw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Pw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function fS(t){return t&&1===t.nodeType}function dS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function pS(t,e,n,r,i){const s=[];n.forEach(t=>s.push(dS(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=sS,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>dS(t,s[a++])),o}function gS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function mS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function yS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function vS(t,e,n){xw(n).onDone(()=>t.processLeaveNode(e))}function bS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class _S{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new lS(t,e,n),this._timelineEngine=new XE(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=TE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new JE(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Dw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Dw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function wS(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=SS(e[0]),e.length>1&&(r=SS(e[e.length-1]))):e&&(n=SS(e)),n||r?new ES(t,n,r):null}let ES=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&aE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(aE(this._element,this._initialStyles),this._endStyles&&(aE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(uE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uE(this._element,this._endStyles),this._endStyles=null),aE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function SS(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];OS(i)&&(e=e||{},e[i]=t[i])}return e}function OS(t){return"display"===t||"position"===t}const CS="animation",TS="animationend";class IS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=PS(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),NS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),kS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){xS(this._element,this._name,"paused")}resume(){xS(this._element,this._name,"running")}setPosition(t){const e=AS(this._element,this._name);this._position=t*this._duration,NS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),kS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=PS(t,"").split(","),r=jS(n,e);r>=0&&(n.splice(r,1),NS(t,"",n.join(",")))}(this._element,this._name))}}function xS(t,e,n){NS(t,"PlayState",n,AS(t,e))}function AS(t,e){const n=PS(t,"");return n.indexOf(",")>0?jS(n.split(","),e):jS([n],e)}function jS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function kS(t,e,n){n?t.removeEventListener(TS,e):t.addEventListener(TS,e)}function NS(t,e,n,r){const i=CS+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function PS(t,e){return t.style[CS+e]}class DS{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new IS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:bE(this.element,n))})}this.currentSnapshot=t}}class RS extends Cw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Gw(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class VS{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Hw(t)}matchesElement(t,e){return qw(t,e)}containsElement(t,e){return Bw(t,e)}query(t,e,n){return zw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Gw(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof DS),u={};mE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=yE(t,e,u));if(0==n)return new RS(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=wS(t,e),d=new DS(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class LS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:bE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class MS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(FS().toString()),this._cssKeyframesDriver=new VS}validateStyleProperty(t){return Hw(t)}matchesElement(t,e){return qw(t,e)}containsElement(t,e){return Bw(t,e)}query(t,e,n){return zw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof LS);mE(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=wS(t,e=yE(t,e=e.map(t=>iE(t,!1)),u));return new LS(t,e,a,l)}}function FS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let US=(()=>{class t extends _w{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ew(t):t;return BS(this._renderer,null,e,"register",[n]),new HS(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.G),r.Vb(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class HS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new qS(this._id,t,e||{},this._renderer)}}class qS{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return BS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function BS(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const zS="@",GS="@.disabled";let $S=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new KS("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new WS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.G),r.Vb(_S),r.Vb(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class KS{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==zS&&e==GS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class WS extends KS{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==zS?"."==e.charAt(1)&&e==GS?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==zS){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=zS&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let QS=(()=>{class t extends _S{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(Kw),r.Vb(BE))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const JS=[{provide:Kw,useFactory:function(){return"function"==typeof FS()?new MS:new VS}},{provide:new r.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:_w,useClass:US},{provide:BE,useFactory:function(){return new zE}},{provide:_S,useClass:QS},{provide:r.G,useFactory:function(t,e,n){return new $S(t,e,n)},deps:[Dt,_S,r.A]}];let YS=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:JS,imports:[Kt]}),t})();function ZS(t){return Array.isArray(t)?t:[t]}function XS(t){return null==t?"":"string"==typeof t?t:t+"px"}let tO,eO=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),nO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[eO]}),t})();try{tO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(IC){tO=!1}let rO=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.C))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(r.C))},token:t,providedIn:"root"}),t})(),iO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();"undefined"!=typeof Element&&Element;const sO="cdk-high-contrast-black-on-white",oO="cdk-high-contrast-white-on-black",aO="cdk-high-contrast-active";let uO=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(aO),t.remove(sO),t.remove(oO);const e=this.getHighContrastMode();1===e?(t.add(aO),t.add(sO)):2===e&&(t.add(aO),t.add(oO))}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(rO),r.Vb(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(rO),Object(r.Vb)(a))},token:t,providedIn:"root"}),t})();const cO=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(a)}});let lO=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(cO,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(cO,8))},token:t,providedIn:"root"}),t})(),hO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();const fO=new r.Q("10.2.7"),dO=new r.Q("10.2.7"),pO=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let gO,mO=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&dO.full!==fO.full&&console.warn("The Angular Material version ("+dO.full+") does not match the Angular CDK version ("+fO.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Vb(uO),r.Vb(pO,8),r.Vb(a,8))},imports:[[hO],hO]}),t})();try{gO="undefined"!=typeof Intl}catch(IC){gO=!1}let yO=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),vO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[mO,iO],mO]}),t})();var bO=n("n6bG");class _O{constructor(t){this.notifier=t}call(t,e){const n=new wO(t),r=Object(Ne.c)(this.notifier,new Ne.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class wO extends Ne.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let EO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[pt,mO,nO],mO]}),t})();n("z6cu"),n("w1tV");let SO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[mO],mO]}),t})();class OO{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new CO(t,this.durationSelector))}}class CO extends Ne.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Ne.c)(n,new Ne.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var TO=n("Y7HM");function IO(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function xO(t,e=Oo.a){return n=()=>function(t=0,e,n){let r=-1;return Object(TO.a)(e)?r=Number(e)<1?1:Number(e):Object(Xt.a)(e)&&(n=e),Object(Xt.a)(n)||(n=Oo.a),new se.a(e=>{const i=Object(TO.a)(t)?t:+t-n.now();return n.schedule(IO,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new OO(n))};var n}let AO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[iO]]}),t})(),jO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[yO],imports:[[AO,EO],AO,EO]}),t})(),kO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[mO],mO]}),t})();n("3N8a"),n("IjjT"),n("7Hc7");let NO=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Jt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new se.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(xO(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Wt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ye(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>function t(e,n,r,i){return Object(bO.a)(r)&&(i=r,r=void 0),i?t(e,n,r).pipe(Object(pe.a)(t=>Object(te.a)(t)?i(...t):i(t))):new se.a(t=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,r)})}(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.A),r.Vb(rO),r.Vb(a,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(r.A),Object(r.Vb)(rO),Object(r.Vb)(a,8))},token:t,providedIn:"root"}),t})(),PO=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Jt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xO(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(rO),r.Vb(r.A),r.Vb(a,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(rO),Object(r.Vb)(r.A),Object(r.Vb)(a,8))},token:t,providedIn:"root"}),t})(),DO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),RO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[hO,iO,DO],hO,DO]}),t})(),VO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[RO]]}),t})(),LO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[VO,mO],mO]}),t})(),MO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[mO,pt],mO]}),t})(),FO=(()=>{class t{constructor(){this.changes=new Jt.a,this.sortButtonLabel=t=>"Change sorting for "+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const UO={provide:FO,deps:[[new r.B,new r.K,FO]],useFactory:function(t){return t||new FO}};let HO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[UO],imports:[[pt]]}),t})();class qO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class BO extends qO{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class zO extends qO{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class GO extends qO{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class $O extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof BO?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof zO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof GO?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let KO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();class WO{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=XS(-this._previousScrollPosition.left),t.style.top=XS(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class QO{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class JO{enable(){}disable(){}attach(){}}function YO(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function ZO(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class XO{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();YO(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tC=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new JO,this.close=t=>new QO(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new WO(this._viewportRuler,this._document),this.reposition=t=>new XO(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(NO),r.Vb(PO),r.Vb(r.A),r.Vb(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(NO),Object(r.Vb)(PO),Object(r.Vb)(r.A),Object(r.Vb)(a))},token:t,providedIn:"root"}),t})();class eC{constructor(t){if(this.scrollStrategy=new JO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class nC{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class rC{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let iC=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(a))},token:t,providedIn:"root"}),t})(),sC=(()=>{class t extends iC{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(a))},token:t,providedIn:"root"}),t})(),oC=(()=>{class t extends iC{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(rO))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(a),Object(r.Vb)(rO))},token:t,providedIn:"root"}),t})();const aC=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let uC=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||aC){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const n=this._document.createElement("div");n.classList.add(e),aC?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(rO))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(a),Object(r.Vb)(rO))},token:t,providedIn:"root"}),t})();class cC{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new Jt.a,this._attachments=new Jt.a,this._detachments=new Jt.a,this._locationChanges=Ye.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Jt.a,this._outsidePointerEvents=new Jt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ve(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=XS(this._config.width),t.height=XS(this._config.height),t.minWidth=XS(this._config.minWidth),t.minHeight=XS(this._config.minHeight),t.maxWidth=XS(this._config.maxWidth),t.maxHeight=XS(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;ZS(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((e=Object(io.a)(this._attachments,this._detachments),t=>t.lift(new _O(e)))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())});var e})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const lC="cdk-overlay-connected-position-bounding-box",hC=/([A-Za-z%]+)$/;class fC{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Jt.a,this._resizeSubscription=Ye.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(lC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&dC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(lC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,c=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=pC(this._overlayRef.getConfig().minHeight),o=pC(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),s=Math.max(t.y+e.height-r.height,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,c=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,c=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:c},{x:t.x+u,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new rC(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=XS(n.height),r.top=XS(n.top),r.bottom=XS(n.bottom),r.width=XS(n.width),r.left=XS(n.left),r.right=XS(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=XS(t)),i&&(r.maxWidth=XS(i))}this._lastBoundingBoxSize=n,dC(this._boundingBox.style,r)}_resetBoundingBoxStyles(){dC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){dC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();dC(n,this._getExactOverlayY(e,t,r)),dC(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=XS(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=XS(s.maxWidth):i&&(n.maxWidth="")),dC(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=XS(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=XS(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZO(t,n),isOriginOutsideView:YO(t,n),isOverlayClipped:ZO(e,n),isOverlayOutsideView:YO(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ZS(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function dC(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function pC(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(hC);return n&&"px"!==n?null:parseFloat(e)}return t||null}class gC{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new fC(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new nC(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const mC="cdk-global-overlay-wrapper";class yC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(mC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(mC),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let vC=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new yC}connectedTo(t,e,n){return new gC(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new fC(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(PO),r.Vb(a),r.Vb(rO),r.Vb(uC))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(PO),Object(r.Vb)(a),Object(r.Vb)(rO),Object(r.Vb)(uC))},token:t,providedIn:"root"}),t})(),bC=0,_C=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new eC(t);return i.direction=i.direction||this._directionality.value,new cC(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+bC++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new $O(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(tC),r.Vb(uC),r.Vb(r.j),r.Vb(vC),r.Vb(sC),r.Vb(r.s),r.Vb(r.A),r.Vb(a),r.Vb(lO),r.Vb(E),r.Vb(oC))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const wC={provide:new r.r("cdk-connected-overlay-scroll-strategy"),deps:[_C],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let EC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[_C,wC],imports:[[hO,KO,RO],RO]}),t})(),SC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[vO,mO],mO]}),t})(),OC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[EC,KO,pt,SC,mO],mO]}),t})(),CC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[pt,mO,iO,DO],DO,mO]}),t})(),TC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t,bootstrap:[bw]}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[dt],imports:[[Kt,pw,uw,po.a.initializeApp(i),Eo,ro,no,YS,jO,SO,kO,EO,LO,MO,HO,OC,CC]]}),t})();Object(r.U)(),Gt().bootstrapModule(TC).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);